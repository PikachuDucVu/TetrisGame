{"version":3,"file":"static/js/main.1c88f6de.js","mappings":"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","sources":["../node_modules/events/events.js","../node_modules/gdxts/dist/lib/Animation.js","../node_modules/gdxts/dist/lib/AssetManager.js","../node_modules/gdxts/dist/lib/BitmapFont.js","../node_modules/gdxts/dist/lib/BitmapFontCache.js","../node_modules/gdxts/dist/lib/BitmapFontData.js","../node_modules/gdxts/dist/lib/BoundingBox.js","../node_modules/gdxts/dist/lib/Camera.js","../node_modules/gdxts/dist/lib/Game.js","../node_modules/gdxts/dist/lib/Glyph.js","../node_modules/gdxts/dist/lib/GlyphLayout.js","../node_modules/gdxts/dist/lib/GlyphRun.js","../node_modules/gdxts/dist/lib/InputHandler.js","../node_modules/gdxts/dist/lib/Matrix4.js","../node_modules/gdxts/dist/lib/Mesh.js","../node_modules/gdxts/dist/lib/NumberUtils.js","../node_modules/gdxts/dist/lib/PolygonBatcher.js","../node_modules/gdxts/dist/lib/Shader.js","../node_modules/gdxts/dist/lib/ShapeRenderer.js","../node_modules/gdxts/dist/lib/Sprite.js","../node_modules/gdxts/dist/lib/Texture.js","../node_modules/gdxts/dist/lib/TextureAtlas.js","../node_modules/gdxts/dist/lib/TextureRegion.js","../node_modules/gdxts/dist/lib/Utils.js","../node_modules/gdxts/dist/lib/Vector2.js","../node_modules/gdxts/dist/lib/Vector3.js","../node_modules/gdxts/dist/lib/Viewport.js","../node_modules/gdxts/dist/lib/ViewportInputHandler.js","../node_modules/gdxts/dist/lib/index.js","../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js","../node_modules/@babel/runtime/helpers/createSuper.js","../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/inherits.js","../node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/regeneratorRuntime.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../webpack/bootstrap","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","index.ts"],"sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Animation = exports.PlayMode = void 0;\r\nvar PlayMode;\r\n(function (PlayMode) {\r\n    PlayMode[PlayMode[\"NORMAL\"] = 0] = \"NORMAL\";\r\n    PlayMode[PlayMode[\"LOOP\"] = 1] = \"LOOP\";\r\n    PlayMode[PlayMode[\"LOOP_PINGPONG\"] = 2] = \"LOOP_PINGPONG\";\r\n    PlayMode[PlayMode[\"REVERSED\"] = 3] = \"REVERSED\";\r\n    PlayMode[PlayMode[\"LOOP_REVERSED\"] = 4] = \"LOOP_REVERSED\";\r\n})(PlayMode = exports.PlayMode || (exports.PlayMode = {}));\r\nclass Animation {\r\n    constructor(keyFrames, frameDurations) {\r\n        this.totalDuration = 0;\r\n        this.keyFrames = keyFrames;\r\n        if (!Array.isArray(frameDurations)) {\r\n            frameDurations = [frameDurations];\r\n        }\r\n        const lastDuration = frameDurations[frameDurations.length - 1] || 0;\r\n        while (frameDurations.length < keyFrames.length) {\r\n            frameDurations.push(lastDuration);\r\n        }\r\n        for (let fD of frameDurations) {\r\n            this.totalDuration += fD;\r\n        }\r\n        this.frameDurations = frameDurations;\r\n    }\r\n    getFrameNumber(stateTimeRemainder, reverse = false) {\r\n        const { frameDurations } = this;\r\n        let fN = reverse ? frameDurations.length - 1 : 0;\r\n        while (true) {\r\n            stateTimeRemainder -= frameDurations[fN];\r\n            if (stateTimeRemainder < 0) {\r\n                break;\r\n            }\r\n            reverse ? fN-- : fN++;\r\n        }\r\n        return fN;\r\n    }\r\n    getKeyFrame(stateTime, mode) {\r\n        const { keyFrames, frameDurations, totalDuration } = this;\r\n        const runIndex = Math.floor(stateTime / totalDuration);\r\n        const stateTimeRemainder = stateTime % totalDuration;\r\n        let frameNumber = 0;\r\n        switch (mode) {\r\n            case PlayMode.NORMAL:\r\n                frameNumber = runIndex === 0 ? this.getFrameNumber(stateTimeRemainder) : frameDurations.length - 1;\r\n                break;\r\n            case PlayMode.LOOP:\r\n                frameNumber = this.getFrameNumber(stateTimeRemainder);\r\n                break;\r\n            case PlayMode.LOOP_PINGPONG:\r\n                frameNumber = this.getFrameNumber(stateTimeRemainder, runIndex % 2 === 1);\r\n                break;\r\n            case PlayMode.REVERSED:\r\n                frameNumber = runIndex === 0 ? this.getFrameNumber(stateTimeRemainder, true) : 0;\r\n                break;\r\n            case PlayMode.LOOP_REVERSED:\r\n                frameNumber = this.getFrameNumber(stateTimeRemainder, true);\r\n                break;\r\n            default:\r\n        }\r\n        return keyFrames[frameNumber];\r\n    }\r\n}\r\nexports.Animation = Animation;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AssetManager = void 0;\r\nconst BitmapFont_1 = require(\"./BitmapFont\");\r\nconst Texture_1 = require(\"./Texture\");\r\nconst TextureAtlas_1 = require(\"./TextureAtlas\");\r\nclass AssetManager {\r\n    constructor(gl) {\r\n        this.promises = [];\r\n        this.atlases = new Map();\r\n        this.textures = new Map();\r\n        this.jsonData = new Map();\r\n        this.binaryData = new Map();\r\n        this.done = 0;\r\n        this.listeners = [];\r\n        this.fonts = new Map();\r\n        this.gl = gl;\r\n    }\r\n    addListener(handler) {\r\n        this.listeners.push(handler);\r\n    }\r\n    reportDone() {\r\n        this.done++;\r\n        for (const handler of this.listeners) {\r\n            handler((this.done / this.getTotal()) * 100, this.done >= this.getTotal());\r\n        }\r\n    }\r\n    loadAtlas(path, name) {\r\n        const promise = TextureAtlas_1.TextureAtlas.load(this.gl, path, {}).then(atlas => {\r\n            this.atlases.set(name, atlas);\r\n            this.reportDone();\r\n            return atlas;\r\n        });\r\n        this.promises.push(promise);\r\n        return promise;\r\n    }\r\n    getAtlas(name) {\r\n        return this.atlases.get(name);\r\n    }\r\n    loadJsonData(path, name) {\r\n        const promise = fetch(path)\r\n            .then(res => res.json())\r\n            .then(json => {\r\n            this.jsonData.set(name, json);\r\n            this.reportDone();\r\n            return json;\r\n        });\r\n        this.promises.push(promise);\r\n        return promise;\r\n    }\r\n    getJsonData(name) {\r\n        return this.jsonData.get(name);\r\n    }\r\n    loadBinaryData(path, name) {\r\n        const promise = fetch(path)\r\n            .then(res => res.arrayBuffer())\r\n            .then(buffer => {\r\n            this.binaryData.set(name, buffer);\r\n            this.reportDone();\r\n            return buffer;\r\n        });\r\n        this.promises.push(promise);\r\n        return promise;\r\n    }\r\n    getBinaryData(name) {\r\n        return this.binaryData.get(name);\r\n    }\r\n    loadFont(path, name, flip = false) {\r\n        const promise = BitmapFont_1.BitmapFont.load(this.gl, path, flip).then(font => {\r\n            this.fonts.set(name, font);\r\n            this.reportDone();\r\n            return font;\r\n        });\r\n        this.promises.push(promise);\r\n        return promise;\r\n    }\r\n    getFont(name) {\r\n        return this.fonts.get(name);\r\n    }\r\n    loadTexture(path, name) {\r\n        const promise = Texture_1.Texture.load(this.gl, path).then(texture => {\r\n            this.textures.set(name, texture);\r\n            this.reportDone();\r\n            return texture;\r\n        });\r\n        this.promises.push(promise);\r\n        return promise;\r\n    }\r\n    getTexture(name) {\r\n        return this.textures.get(name);\r\n    }\r\n    finishLoading() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield Promise.all(this.promises);\r\n        });\r\n    }\r\n    getDone() {\r\n        return this.done;\r\n    }\r\n    getTotal() {\r\n        return this.promises.length;\r\n    }\r\n    disposeAll() {\r\n        const atlasKeys = [...this.atlases.keys()];\r\n        atlasKeys.forEach(key => {\r\n            var _a;\r\n            const textureRegions = ((_a = this.atlases.get(key)) === null || _a === void 0 ? void 0 : _a.getRegions()) || [];\r\n            textureRegions.forEach(texture => {\r\n                var _a;\r\n                (_a = texture.texture) === null || _a === void 0 ? void 0 : _a.destroy();\r\n            });\r\n            this.atlases.delete(key);\r\n        });\r\n        const localTextureKeys = [...this.textures.keys()];\r\n        localTextureKeys.forEach(key => {\r\n            var _a;\r\n            (_a = this.textures.get(key)) === null || _a === void 0 ? void 0 : _a.destroy();\r\n            this.textures.delete(key);\r\n        });\r\n        const fontMapKeys = [...this.fonts.keys()];\r\n        fontMapKeys.forEach(key => {\r\n            var _a;\r\n            const textureRegions = ((_a = this.fonts.get(key)) === null || _a === void 0 ? void 0 : _a.getRegions()) || [];\r\n            textureRegions.forEach(texture => {\r\n                var _a;\r\n                (_a = texture.texture) === null || _a === void 0 ? void 0 : _a.destroy();\r\n            });\r\n            this.fonts.delete(key);\r\n        });\r\n    }\r\n}\r\nexports.AssetManager = AssetManager;\r\nexports.default = AssetManager;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar _a;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BitmapFont = void 0;\r\nconst BitmapFontCache_1 = require(\"./BitmapFontCache\");\r\nconst BitmapFontData_1 = require(\"./BitmapFontData\");\r\nconst Utils_1 = require(\"./Utils\");\r\nclass BitmapFont {\r\n    /** Constructs a new BitmapFont from the given {@link BitmapFontData} and array of {@link TextureRegion}. If the TextureRegion\r\n     * is null or empty, the image path(s) will be read from the BitmapFontData. The dispose() method will not dispose the texture\r\n     * of the region(s) if the regions array is != null and not empty.\r\n     * @param integer If true, rendering positions will be at integer values to avoid filtering artifacts. */\r\n    constructor(data, regions, integer) {\r\n        this.load = (data) => {\r\n            const glyphValues = Object.values(data.glyphs);\r\n            for (let i = 0; i < glyphValues.length; i++) {\r\n                const page = glyphValues[i];\r\n                if (!page)\r\n                    continue;\r\n                for (let j = 0; j < page.length; j++) {\r\n                    const glyph = page[j];\r\n                    if (glyph) {\r\n                        data.setGlyphRegion(glyph, this.regions[glyph.page]);\r\n                    }\r\n                }\r\n            }\r\n            if (data.missingGlyph != null)\r\n                data.setGlyphRegion(data.missingGlyph, this.regions[data.missingGlyph.page]);\r\n        };\r\n        /** Draws text at the specified position.\r\n         * @see BitmapFontCache#addText(CharSequence, float, float, int, int, float, int, boolean, String) */\r\n        this.draw = (batch, str, x, y, targetWidth, halign = Utils_1.Align.left, wrap = true, start = 0, end = str.length, truncate) => {\r\n            this.cache.clear();\r\n            this.cache.addText(str, x, y, start, end, targetWidth, halign, wrap, truncate);\r\n            this.cache.draw(batch);\r\n        };\r\n        /** Returns the color of text drawn with this font. */\r\n        this.getColor = () => {\r\n            return this.cache.getColor();\r\n        };\r\n        /** A convenience method for setting the font color. The color can also be set by modifying {@link #getColor()}. */\r\n        // setColor = (r: number, g: number, b: number, a: number) => {\r\n        //    this.cache.getColor().set(r, g, b, a);\r\n        // };\r\n        this.getScaleX = () => {\r\n            return this.data.scaleX;\r\n        };\r\n        this.getScaleY = () => {\r\n            return this.data.scaleY;\r\n        };\r\n        /** Returns the array of TextureRegions that represents each texture page of glyphs.\r\n         * @return the array of texture regions; modifying it may produce undesirable results */\r\n        this.getRegions = () => {\r\n            return this.regions;\r\n        };\r\n        /** Returns the texture page at the given index.\r\n         * @return the texture page at the given index */\r\n        this.getRegion = (index) => {\r\n            return this.regions[index];\r\n        };\r\n        /** Returns the line height, which is the distance from one line of text to the next. */\r\n        this.getLineHeight = () => {\r\n            return this.data.lineHeight;\r\n        };\r\n        /** Returns the x-advance of the space character. */\r\n        this.getSpaceXadvance = () => {\r\n            return this.data.spaceXadvance;\r\n        };\r\n        /** Returns the x-height, which is the distance from the top of most lowercase characters to the baseline. */\r\n        this.getXHeight = () => {\r\n            return this.data.xHeight;\r\n        };\r\n        /** Returns the cap height, which is the distance from the top of most uppercase characters to the baseline. Since the drawing\r\n         * position is the cap height of the first line, the cap height can be used to get the location of the baseline. */\r\n        this.getCapHeight = () => {\r\n            return this.data.capHeight;\r\n        };\r\n        /** Returns the ascent, which is the distance from the cap height to the top of the tallest glyph. */\r\n        this.getAscent = () => {\r\n            return this.data.ascent;\r\n        };\r\n        /** Returns the descent, which is the distance from the bottom of the glyph that extends the lowest to the baseline. This\r\n         * number is negative. */\r\n        this.getDescent = () => {\r\n            return this.data.descent;\r\n        };\r\n        /** Returns true if this BitmapFont has been flipped for use with a y-down coordinate system. */\r\n        this.isFlipped = () => {\r\n            return this.flipped;\r\n        };\r\n        /** Disposes the texture used by this BitmapFont's region IF this BitmapFont created the texture. */\r\n        this.dispose = () => {\r\n            if (this.ownsTexture) {\r\n                for (let i = 0; i < this.regions.length; i++) {\r\n                    this.regions[i].texture.dispose();\r\n                }\r\n            }\r\n        };\r\n        /** Makes the specified glyphs fixed width. This can be useful to make the numbers in a font fixed width. Eg, when horizontally\r\n         * centering a score or loading percentage text, it will not jump around as different numbers are shown. */\r\n        this.setFixedWidthGlyphs = (glyphs) => {\r\n            const data = this.data;\r\n            let maxAdvance = 0;\r\n            for (let index = 0, end = glyphs.length; index < end; index++) {\r\n                const g = data.getGlyph(glyphs.charAt(index));\r\n                if (g != null && g.xadvance > maxAdvance)\r\n                    maxAdvance = g.xadvance;\r\n            }\r\n            for (let index = 0, end = glyphs.length; index < end; index++) {\r\n                const g = data.getGlyph(glyphs.charAt(index));\r\n                if (!g)\r\n                    continue;\r\n                g.xoffset += (maxAdvance - g.xadvance) / 2;\r\n                g.xadvance = maxAdvance;\r\n                g.kerning = [];\r\n                g.kerning = null;\r\n                g.fixedWidth = true;\r\n            }\r\n        };\r\n        /** Specifies whether to use integer positions. Default is to use them so filtering doesn't kick in as badly. */\r\n        this.setUseIntegerPositions = (integer) => {\r\n            this.integer = integer;\r\n            this.cache.setUseIntegerPositions(integer);\r\n        };\r\n        /** Checks whether this font uses integer positions for drawing. */\r\n        this.usesIntegerPositions = () => {\r\n            return this.integer;\r\n        };\r\n        /** For expert usage -- returns the BitmapFontCache used by this font, for rendering to a sprite batch. This can be used, for\r\n         * example, to manipulate glyph colors within a specific index.\r\n         * @return the bitmap font cache used by this font */\r\n        this.getCache = () => {\r\n            return this.cache;\r\n        };\r\n        /** Gets the underlying {@link BitmapFontData} for this BitmapFont. */\r\n        this.getData = () => {\r\n            return this.data;\r\n        };\r\n        /** @return whether the texture is owned by the font, font disposes the texture itself if true */\r\n        this.getOwnsTexture = () => {\r\n            return this.ownsTexture;\r\n        };\r\n        /** Sets whether the font owns the texture. In case it does, the font will also dispose of the texture when {@link #dispose()}\r\n         * is called. Use with care!\r\n         * @param ownsTexture whether the font owns the texture */\r\n        this.setOwnsTexture = (ownsTexture) => {\r\n            this.ownsTexture = ownsTexture;\r\n        };\r\n        /** Creates a new BitmapFontCache for this font. Using this method allows the font to provide the BitmapFontCache\r\n         * implementation to customize rendering.\r\n         * <p>\r\n         * Note this method is called by the BitmapFont constructors. If a subclass overrides this method, it will be called before the\r\n         * subclass constructors. */\r\n        this.newFontCache = () => {\r\n            return new BitmapFontCache_1.BitmapFontCache(this, this.integer);\r\n        };\r\n        this.regions = regions;\r\n        this.flipped = data.flipped;\r\n        this.data = data;\r\n        this.integer = integer;\r\n        if (this.regions.length === 0) {\r\n            console.log('No texture region were found');\r\n            return;\r\n        }\r\n        else {\r\n            this.ownsTexture = false;\r\n        }\r\n        this.cache = this.newFontCache();\r\n        this.load(data);\r\n    }\r\n}\r\nexports.BitmapFont = BitmapFont;\r\n_a = BitmapFont;\r\nBitmapFont.load = (gl, fontFile, flip = false, interger = false) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const fontData = new BitmapFontData_1.BitmapFontData(fontFile, flip);\r\n    yield fontData.loadFont(gl);\r\n    return new BitmapFont(fontData, fontData.regions, interger);\r\n});\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BitmapFontCache = void 0;\r\nconst GlyphLayout_1 = require(\"./GlyphLayout\");\r\nconst NumberUtils_1 = require(\"./NumberUtils\");\r\nconst Utils_1 = require(\"./Utils\");\r\nclass BitmapFontCache {\r\n    /** @param integer If true, rendering positions will be at integer values to avoid filtering artifacts. */\r\n    constructor(font, integer) {\r\n        this.tempColor = new Utils_1.Color(1, 1, 1, 1);\r\n        this.drawingTexts = [];\r\n        this.layouts = [];\r\n        this.pooledLayouts = [];\r\n        this.color = new Utils_1.Color(1, 1, 1, 1);\r\n        /** Sets the position of the text, relative to the position when the cached text was created.\r\n         * @param x The x coordinate\r\n         * @param y The y coordinate */\r\n        this.setPosition = (x, y) => {\r\n            this.translate(x - this.x, y - this.y);\r\n        };\r\n        /** Sets the position of the text, relative to its current position.\r\n         * @param xAmount The amount in x to move the text\r\n         * @param yAmount The amount in y to move the text */\r\n        this.translate = (xAmount, yAmount) => {\r\n            if (xAmount === 0 && yAmount === 0)\r\n                return;\r\n            if (this.integer) {\r\n                xAmount = Math.round(xAmount);\r\n                yAmount = Math.round(yAmount);\r\n            }\r\n            this.x += xAmount;\r\n            this.y += yAmount;\r\n            const pageVertices = this.pageVertices;\r\n            for (let i = 0, n = pageVertices.length; i < n; i++) {\r\n                const vertices = pageVertices[i];\r\n                for (let ii = 0, nn = this.idx[i]; ii < nn; ii += 5) {\r\n                    vertices[ii] += xAmount;\r\n                    vertices[ii + 1] += yAmount;\r\n                }\r\n            }\r\n        };\r\n        /** Tints all text currently in the cache. Does not affect subsequently added text. */\r\n        // public tint = (tint: Color) => {\r\n        //    const newTint: number = tint.toFloatBits();\r\n        //    if (this.currentTint == newTint) return;\r\n        //    this.currentTint = newTint;\r\n        //    const pageVertices: number[][] = this.pageVertices;\r\n        //    const tempColor: Color = this.tempColor;\r\n        //    const tempGlyphCount: number[] = this.tempGlyphCount;\r\n        //    for (let i = 0; i < tempGlyphCount.length; i++) {\r\n        //       tempGlyphCount[i] = 0;\r\n        //    }\r\n        //    for (let i = 0, n = this.layouts.length; i < n; i++) {\r\n        //       const layout: GlyphLayout = this.layouts[i];\r\n        //       const colors: number[] = layout.colors;\r\n        //       let colorsIndex = 0,\r\n        //          nextColorGlyphIndex = 0,\r\n        //          glyphIndex = 0;\r\n        //       let lastColorFloatBits = 0;\r\n        //       for (let ii = 0, nn = layout.runs.length; ii < nn; ii++) {\r\n        //          const run: GlyphRun = layout.runs[ii];\r\n        //          const glyphs: Glyph[] = run.glyphs;\r\n        //          for (let iii = 0, nnn = run.glyphs.length; iii < nnn; iii++) {\r\n        //             if (glyphIndex++ === nextColorGlyphIndex) {\r\n        //                Color.abgr8888ToColor(tempColor, colors[++colorsIndex]);\r\n        //                lastColorFloatBits = tempColor.mul(tint).toFloatBits();\r\n        //                nextColorGlyphIndex = ++colorsIndex < colors.length ? colors[colorsIndex] : -1;\r\n        //             }\r\n        //             const page: number = glyphs[iii].page;\r\n        //             const offset = tempGlyphCount[page] * 20 + 2;\r\n        //             tempGlyphCount[page]++;\r\n        //             const vertices: number[] = pageVertices[page];\r\n        //             vertices[offset] = lastColorFloatBits;\r\n        //             vertices[offset + 5] = lastColorFloatBits;\r\n        //             vertices[offset + 10] = lastColorFloatBits;\r\n        //             vertices[offset + 15] = lastColorFloatBits;\r\n        //          }\r\n        //       }\r\n        //    }\r\n        // };\r\n        /** Sets the alpha component of all text currently in the cache. Does not affect subsequently added text. */\r\n        // public setAlphas = (alpha: number) => {\r\n        //    const alphaBits: number = (254 * alpha) << 24;\r\n        //    let prev = 0,\r\n        //       newColor = 0;\r\n        //    for (let j = 0, length = this.pageVertices.length; j < length; j++) {\r\n        //       const vertices: number[] = this.pageVertices[j];\r\n        //       for (let i = 2, n = this.idx[j]; i < n; i += 5) {\r\n        //          const c: number = vertices[i];\r\n        //          if (c == prev && i != 2) {\r\n        //             vertices[i] = newColor;\r\n        //          } else {\r\n        //             prev = c;\r\n        //             let rgba = NumberUtils.floatToIntColor(c);\r\n        //             rgba = (rgba & 0x00ffffff) | alphaBits;\r\n        //             newColor = NumberUtils.intToFloatColor(rgba);\r\n        //             vertices[i] = newColor;\r\n        //          }\r\n        //       }\r\n        //    }\r\n        // };\r\n        this.setColors = (r, g, b, a) => {\r\n            const intBits = (255 << 24) | ((255 * b) << 16) | ((255 * g) << 8) | (255 * r);\r\n            const value = NumberUtils_1.NumberUtil.intToFloatColor(intBits);\r\n            for (let j = 0, length = this.pageVertices.length; j < length; j++) {\r\n                const vertices = this.pageVertices[j];\r\n                for (let i = 2, n = this.idx[j]; i < n; i += 5)\r\n                    vertices[i] = value;\r\n            }\r\n        };\r\n        /** Returns the color used for subsequently added text. Modifying the color affects text subsequently added to the cache, but\r\n         * does not affect existing text currently in the cache. */\r\n        this.getColor = () => {\r\n            return this.color;\r\n        };\r\n        /** A convenience method for setting the cache color. The color can also be set by modifying {@link #getColor()}. */\r\n        this.setColor = (r, g, b, a) => {\r\n            this.color.set(r, g, b, a);\r\n        };\r\n        /** Removes all glyphs in the cache. */\r\n        this.clear = () => {\r\n            this.x = 0;\r\n            this.y = 0;\r\n            Utils_1.Pools.freeAll('GlyphLayout', this.pooledLayouts);\r\n            this.pooledLayouts.length = 0;\r\n            this.layouts.length = 0;\r\n            for (let i = 0, n = this.idx.length; i < n; i++) {\r\n                if (this.pageGlyphIndices != null)\r\n                    this.pageGlyphIndices[i].length = 0;\r\n                this.idx[i] = 0;\r\n            }\r\n        };\r\n        this.requireGlyphs = (layout) => {\r\n            if (this.pageVertices.length === 1) {\r\n                // Simple if we just have one page.\r\n                this.requirePageGlyphs(0, layout.glyphCount);\r\n            }\r\n            else {\r\n                const tempGlyphCount = this.tempGlyphCount;\r\n                for (let i = 0; i < tempGlyphCount.length; i++) {\r\n                    tempGlyphCount[i] = 0;\r\n                }\r\n                // Determine # of glyphs in each page.\r\n                for (let i = 0, n = layout.runs.length; i < n; i++) {\r\n                    const glyphs = layout.runs[i].glyphs;\r\n                    const glyphItems = glyphs;\r\n                    for (let ii = 0, nn = glyphs.length; ii < nn; ii++)\r\n                        tempGlyphCount[glyphItems[ii].page]++;\r\n                }\r\n                // Require that many for each page.\r\n                for (let i = 0, n = tempGlyphCount.length; i < n; i++)\r\n                    this.requirePageGlyphs(i, tempGlyphCount[i]);\r\n            }\r\n        };\r\n        this.requirePageGlyphs = (page, glyphCount) => {\r\n            // if (this.pageGlyphIndices != null) {\r\n            //    if (glyphCount > this.pageGlyphIndices[page].length)\r\n            //       this.pageGlyphIndices[page].ensureCapacity(glyphCount - this.pageGlyphIndices[page].length);\r\n            // }\r\n            const vertexCount = this.idx[page] + glyphCount * 20;\r\n            const vertices = this.pageVertices[page];\r\n            if (!vertices) {\r\n                this.pageVertices[page] = new Array(vertexCount);\r\n            }\r\n            else if (vertices.length < vertexCount) {\r\n                const newVertices = new Array(vertexCount);\r\n                Utils_1.Utils.arrayCopy(vertices, 0, newVertices, 0, this.idx[page]);\r\n                this.pageVertices[page] = newVertices;\r\n            }\r\n        };\r\n        this.setPageCount = (pageCount) => {\r\n            const newPageVertices = new Array(pageCount).fill([]);\r\n            Utils_1.Utils.arrayCopy(this.pageVertices, 0, newPageVertices, 0, this.pageVertices.length);\r\n            this.pageVertices = [...newPageVertices];\r\n            const newIdx = new Array(pageCount);\r\n            Utils_1.Utils.arrayCopy(this.idx, 0, newIdx, 0, this.idx.length);\r\n            this.idx = newIdx;\r\n            const newPageGlyphIndices = new Array(pageCount);\r\n            let pageGlyphIndicesLength = 0;\r\n            if (this.pageGlyphIndices != null) {\r\n                pageGlyphIndicesLength = this.pageGlyphIndices.length;\r\n                Utils_1.Utils.arrayCopy(this.pageGlyphIndices, 0, newPageGlyphIndices, 0, this.pageGlyphIndices.length);\r\n            }\r\n            for (let i = pageGlyphIndicesLength; i < pageCount; i++)\r\n                newPageGlyphIndices[i] = [];\r\n            this.pageGlyphIndices = newPageGlyphIndices;\r\n            this.tempGlyphCount = new Array(pageCount);\r\n        };\r\n        this.addToCache = (layout, x, y) => {\r\n            const runCount = layout.runs.length;\r\n            if (runCount === 0)\r\n                return;\r\n            // Check if the number of font pages has changed.\r\n            if (this.pageVertices.length < this.font.regions.length)\r\n                this.setPageCount(this.font.regions.length);\r\n            this.layouts.push(layout);\r\n            this.requireGlyphs(layout);\r\n            const colors = layout.colors;\r\n            let colorsIndex = 0, nextColorGlyphIndex = 0, glyphIndex = 0;\r\n            let lastColorFloatBits = 0;\r\n            this.drawingTexts.length = 0;\r\n            for (let i = 0; i < runCount; i++) {\r\n                const run = layout.runs[i];\r\n                const glyphs = run.glyphs;\r\n                const xAdvances = run.xAdvances;\r\n                let gx = x + run.x, gy = y + run.y;\r\n                for (let ii = 0, nn = run.glyphs.length; ii < nn; ii++) {\r\n                    if (glyphIndex++ === nextColorGlyphIndex) {\r\n                        lastColorFloatBits = NumberUtils_1.NumberUtil.intToFloatColor(colors[++colorsIndex]);\r\n                        nextColorGlyphIndex = ++colorsIndex < colors.length ? colors[colorsIndex] : -1;\r\n                    }\r\n                    gx += xAdvances[ii];\r\n                    this.drawingTexts.push(glyphs[ii].id);\r\n                    this.addGlyph(glyphs[ii], gx, gy, lastColorFloatBits);\r\n                }\r\n            }\r\n            const whiteIntBits = (255 << 24) | (255 << 16) | (255 << 8) | 255;\r\n            this.currentTint = NumberUtils_1.NumberUtil.intToFloatColor(whiteIntBits); // Cached glyphs have changed, reset the current tint.\r\n        };\r\n        this.addGlyph = (glyph, x, y, color) => {\r\n            let scaleX = this.font.data.scaleX, scaleY = this.font.data.scaleY;\r\n            x += glyph.xoffset * scaleX;\r\n            y += glyph.yoffset * scaleY;\r\n            let width = glyph.width * scaleX, height = glyph.height * scaleY;\r\n            let u = glyph.u, u2 = glyph.u2, v = glyph.v, v2 = glyph.v2;\r\n            if (this.integer) {\r\n                x = Math.round(x);\r\n                y = Math.round(y);\r\n                width = Math.round(width);\r\n                height = Math.round(height);\r\n            }\r\n            let x2 = x + width, y2 = y + height;\r\n            const page = glyph.page;\r\n            let idx = this.idx[page];\r\n            this.idx[page] += 20;\r\n            if (this.pageGlyphIndices != null)\r\n                this.pageGlyphIndices[page].push(this.glyphCount++);\r\n            const vertices = this.pageVertices[page];\r\n            vertices[idx++] = x;\r\n            vertices[idx++] = y;\r\n            vertices[idx++] = color;\r\n            vertices[idx++] = u;\r\n            vertices[idx++] = v;\r\n            vertices[idx++] = x;\r\n            vertices[idx++] = y2;\r\n            vertices[idx++] = color;\r\n            vertices[idx++] = u;\r\n            vertices[idx++] = v2;\r\n            vertices[idx++] = x2;\r\n            vertices[idx++] = y2;\r\n            vertices[idx++] = color;\r\n            vertices[idx++] = u2;\r\n            vertices[idx++] = v2;\r\n            vertices[idx++] = x2;\r\n            vertices[idx++] = y;\r\n            vertices[idx++] = color;\r\n            vertices[idx++] = u2;\r\n            vertices[idx] = v;\r\n        };\r\n        // public GlyphLayout setText (CharSequence str, float x, float y) {\r\n        // \tclear();\r\n        // \treturn addText(str, x, y, 0, str.length(), 0, Align.left, false);\r\n        // }\r\n        // public GlyphLayout setText (CharSequence str, float x, float y, float targetWidth, int halign, boolean wrap) {\r\n        // \tclear();\r\n        // \treturn addText(str, x, y, 0, str.length(), targetWidth, halign, wrap);\r\n        // }\r\n        // public GlyphLayout setText (CharSequence str, float x, float y, int start, int end, float targetWidth, int halign,\r\n        // \tboolean wrap) {\r\n        // \tclear();\r\n        // \treturn addText(str, x, y, start, end, targetWidth, halign, wrap);\r\n        // }\r\n        this.setText = (str, x, y, start, end, targetWidth, halign, wrap, truncate) => {\r\n            this.clear();\r\n            return this.addText(str, x, y, start, end, targetWidth, halign, wrap, truncate);\r\n        };\r\n        this.setTextToCache = (layout, x, y) => {\r\n            this.clear();\r\n            this.addTextToCache(layout, x, y);\r\n        };\r\n        // public GlyphLayout addText (CharSequence str, float x, float y) {\r\n        // \treturn addText(str, x, y, 0, str.length(), 0, Align.left, false, null);\r\n        // }\r\n        // public GlyphLayout addText (CharSequence str, float x, float y, float targetWidth, int halign, boolean wrap) {\r\n        // \treturn addText(str, x, y, 0, str.length(), targetWidth, halign, wrap, null);\r\n        // }\r\n        // public GlyphLayout addText (CharSequence str, float x, float y, int start, int end, float targetWidth, int halign,\r\n        // \tboolean wrap) {\r\n        // \treturn addText(str, x, y, start, end, targetWidth, halign, wrap, null);\r\n        // }\r\n        this.addText = (str, x, y, start, end, targetWidth, halign, wrap, truncate) => {\r\n            const layout = Utils_1.Pools.obtain('GlyphLayout');\r\n            this.pooledLayouts.push(layout);\r\n            layout.setText(this.font, str, start, end, this.color, targetWidth, halign, wrap, truncate);\r\n            this.addTextToCache(layout, x, y);\r\n            return layout;\r\n        };\r\n        this.addTextToCache = (layout, x, y) => {\r\n            this.addToCache(layout, x, y + this.font.data.ascent);\r\n        };\r\n        /** Returns the x position of the cached string, relative to the position when the string was cached. */\r\n        this.getX = () => {\r\n            return this.x;\r\n        };\r\n        /** Returns the y position of the cached string, relative to the position when the string was cached. */\r\n        this.getY = () => {\r\n            return this.y;\r\n        };\r\n        this.getFont = () => {\r\n            return this.font;\r\n        };\r\n        this.setUseIntegerPositions = (use) => {\r\n            this.integer = use;\r\n        };\r\n        /** @return whether this font uses integer positions for drawing. */\r\n        this.usesIntegerPositions = () => {\r\n            return this.integer;\r\n        };\r\n        this.getVertices = (page) => {\r\n            return this.pageVertices[page];\r\n        };\r\n        this.getVertexCount = (page) => {\r\n            return this.idx[page];\r\n        };\r\n        this.getLayouts = () => {\r\n            return this.layouts;\r\n        };\r\n        this.font = font;\r\n        this.integer = integer;\r\n        const pageCount = font.regions.length;\r\n        if (pageCount === 0)\r\n            console.log('The specified font must contain at least one texture page.');\r\n        this.pageVertices = new Array(pageCount).fill([]);\r\n        this.idx = new Array(pageCount);\r\n        if (pageCount > 1) {\r\n            // Contains the indices of the glyph in the cache as they are added.\r\n            this.pageGlyphIndices = new Array(pageCount);\r\n            for (let i = 0, n = this.pageGlyphIndices.length; i < n; i++)\r\n                this.pageGlyphIndices[i] = [];\r\n        }\r\n        this.tempGlyphCount = new Array(pageCount);\r\n        Utils_1.Pools.get('GlyphLayout', () => new GlyphLayout_1.GlyphLayout(font, '', 0, 0, Utils_1.Color.WHITE, 0, Utils_1.Align.left, false));\r\n    }\r\n    draw(batch) {\r\n        const regions = this.font.getRegions();\r\n        for (let i = 0; i < this.pageVertices.length; i++) {\r\n            if (this.idx[i] > 0) {\r\n                const vertices = this.pageVertices[i];\r\n                for (let j = 0; j < this.idx[i] / 20; j++) {\r\n                    const offset = 20 * j;\r\n                    const region = regions.find(item => { var _a; return item.id === ((_a = this.drawingTexts) === null || _a === void 0 ? void 0 : _a[j]); });\r\n                    if (region) {\r\n                        region.draw(batch, vertices[0 + offset], vertices[1 + offset], vertices[10 + offset] - vertices[0 + offset], vertices[11 + offset] - vertices[1 + offset]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.BitmapFontCache = BitmapFontCache;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BitmapFontData = void 0;\r\nconst Glyph_1 = require(\"./Glyph\");\r\nconst Texture_1 = require(\"./Texture\");\r\nconst TextureRegion_1 = require(\"./TextureRegion\");\r\nfunction concatAndResolveUrl(url, concat) {\r\n    let url1 = url.split('/');\r\n    let url2 = concat.split('/');\r\n    let url3 = [];\r\n    for (let i = 0, l = url1.length; i < l; i++) {\r\n        if (url1[i] === '..') {\r\n            url3.pop();\r\n        }\r\n        else if (url1[i] === '.') {\r\n            continue;\r\n        }\r\n        else {\r\n            url3.push(url1[i]);\r\n        }\r\n    }\r\n    for (let i = 0, l = url2.length; i < l; i++) {\r\n        if (url2[i] === '..') {\r\n            url3.pop();\r\n        }\r\n        else if (url2[i] === '.') {\r\n            continue;\r\n        }\r\n        else {\r\n            url3.push(url2[i]);\r\n        }\r\n    }\r\n    return url3.join('/');\r\n}\r\nconst CHARACTER_MAX_VALUE = 65535;\r\nclass BitmapFontData {\r\n    /** Creates an empty BitmapFontData for configuration before calling {@link #load(FileHandle, boolean)}, to subclass, or to\r\n     * populate yourself, e.g. using stb-truetype or FreeType. */\r\n    constructor(fontFile, flip) {\r\n        /** The distance from the top of most uppercase characters to the baseline. Since the drawing position is the cap height of\r\n         * the first line, the cap height can be used to get the location of the baseline. */\r\n        this.capHeight = 1;\r\n        /** Multiplier for the line height of blank lines. down * blankLineHeight is used as the distance to move down for a blank\r\n         * line. */\r\n        this.blankLineScale = 1;\r\n        this.scaleX = 1;\r\n        this.scaleY = 1;\r\n        this.glyphs = {};\r\n        /** The x-height, which is the distance from the top of most lowercase characters to the baseline. */\r\n        this.xHeight = 1;\r\n        this.xChars = ['x', 'e', 'a', 'o', 'n', 's', 'r', 'c', 'u', 'm', 'v', 'w', 'z'];\r\n        this.capChars = [\r\n            'M',\r\n            'N',\r\n            'B',\r\n            'D',\r\n            'C',\r\n            'E',\r\n            'F',\r\n            'K',\r\n            'A',\r\n            'G',\r\n            'H',\r\n            'I',\r\n            'J',\r\n            'L',\r\n            'O',\r\n            'P',\r\n            'Q',\r\n            'R',\r\n            'S',\r\n            'T',\r\n            'U',\r\n            'V',\r\n            'W',\r\n            'X',\r\n            'Y',\r\n            'Z'\r\n        ];\r\n        this.loadFont = (gl) => __awaiter(this, void 0, void 0, function* () {\r\n            if (this.imagePaths != null)\r\n                return;\r\n            let i = 0;\r\n            let fileContent;\r\n            const res = yield fetch(this.fontFile);\r\n            fileContent = yield res.text();\r\n            const lines = fileContent.split(/\\r?\\n/).map((s) => s.trim());\r\n            try {\r\n                let line = lines[i];\r\n                if (typeof line !== 'string')\r\n                    throw new Error('File is empty.');\r\n                line = line.substring(line.indexOf('padding=') + 8);\r\n                const padding = line.substring(0, line.indexOf(' ')).split(',', 4);\r\n                if (padding.length !== 4)\r\n                    throw new Error('Invalid padding.');\r\n                this.padTop = parseInt(padding[0]);\r\n                this.padRight = parseInt(padding[1]);\r\n                this.padBottom = parseInt(padding[2]);\r\n                this.padLeft = parseInt(padding[3]);\r\n                const padY = this.padTop + this.padBottom;\r\n                i++;\r\n                line = lines[i];\r\n                if (typeof line !== 'string')\r\n                    throw new Error('Missing common header.');\r\n                const common = line.split(' ', 9); // At most we want the 6th element; i.e. \"page=N\"\r\n                // At least lineHeight and base are required.\r\n                if (common.length < 3)\r\n                    throw new Error('Invalid common header.');\r\n                if (!common[1].startsWith('lineHeight='))\r\n                    throw new Error('Missing: lineHeight');\r\n                this.lineHeight = parseInt(common[1].substring(11));\r\n                if (!common[2].startsWith('base='))\r\n                    throw new Error('Missing: base');\r\n                const baseLine = parseInt(common[2].substring(5));\r\n                let pageCount = 1;\r\n                if (common.length >= 6 && common[5] != null && common[5].startsWith('pages=')) {\r\n                    try {\r\n                        pageCount = Math.max(1, parseInt(common[5].substring(6)));\r\n                    }\r\n                    catch (_a) {\r\n                        // Use one page.\r\n                    }\r\n                }\r\n                this.imagePaths = new Array(pageCount);\r\n                const imagePaths = [];\r\n                // Read each page definition.\r\n                for (let p = 0; p < pageCount; p++) {\r\n                    // Read each \"page\" info line.\r\n                    i++;\r\n                    line = lines[i];\r\n                    if (typeof line !== 'string')\r\n                        throw new Error('Missing additional page definitions.');\r\n                    // Expect ID to mean \"index\".\r\n                    const idMatches = line.match(new RegExp('.*id=(\\\\d+)'));\r\n                    if (idMatches && idMatches.length > 1) {\r\n                        const id = idMatches[1];\r\n                        try {\r\n                            const pageID = parseInt(id);\r\n                            if (pageID !== p)\r\n                                throw new Error('Page IDs must be indices starting at 0: ' + id);\r\n                        }\r\n                        catch (_b) { }\r\n                    }\r\n                    const fileMatches = line.match(new RegExp('.*file=\"?([^\"]+)\"?'));\r\n                    if (!fileMatches || fileMatches.length <= 1)\r\n                        throw new Error('Missing: file');\r\n                    const fileName = fileMatches[1];\r\n                    imagePaths[p] = fileName;\r\n                    // this.imagePaths[p] = fontFile.parent().child(fileName).path().replaceAll(\"\\\\\\\\\", \"/\");\r\n                }\r\n                this.descent = 0;\r\n                while (true) {\r\n                    i++;\r\n                    line = lines[i];\r\n                    if (!line)\r\n                        break; // EOF\r\n                    if (line.startsWith('kernings '))\r\n                        break; // Starting kernings block.\r\n                    if (line.startsWith('metrics '))\r\n                        break; // Starting metrics block.\r\n                    if (!line.startsWith('char '))\r\n                        continue;\r\n                    const glyph = new Glyph_1.Glyph();\r\n                    const tokens = new StringTokenizer(line, '=');\r\n                    tokens.nextToken();\r\n                    tokens.nextToken();\r\n                    const ch = parseInt(tokens.nextToken());\r\n                    if (ch > 0 && ch > CHARACTER_MAX_VALUE)\r\n                        continue;\r\n                    glyph.id = ch + '';\r\n                    tokens.nextToken();\r\n                    glyph.srcX = parseInt(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    glyph.srcY = parseInt(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    glyph.width = parseInt(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    glyph.height = parseInt(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    glyph.xoffset = parseInt(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    if (this.flipped)\r\n                        glyph.yoffset = parseInt(tokens.nextToken());\r\n                    else\r\n                        glyph.yoffset = -(glyph.height + parseInt(tokens.nextToken()));\r\n                    tokens.nextToken();\r\n                    glyph.xadvance = parseInt(tokens.nextToken());\r\n                    // Check for page safely, it could be omitted or invalid.\r\n                    if (tokens.hasMoreTokens())\r\n                        tokens.nextToken();\r\n                    if (tokens.hasMoreTokens()) {\r\n                        try {\r\n                            glyph.page = parseInt(tokens.nextToken());\r\n                        }\r\n                        catch (_c) { }\r\n                    }\r\n                    if (glyph.width > 0 && glyph.height > 0)\r\n                        this.descent = Math.min(baseLine + glyph.yoffset, this.descent);\r\n                    if (ch <= 0) {\r\n                        this.missingGlyph = glyph;\r\n                    }\r\n                    else if (ch <= CHARACTER_MAX_VALUE) {\r\n                        this.setGlyph(ch, glyph);\r\n                    }\r\n                }\r\n                this.descent += this.padBottom;\r\n                while (true) {\r\n                    i++;\r\n                    line = lines[i];\r\n                    if (typeof line !== 'string')\r\n                        break;\r\n                    if (!line.startsWith('kerning '))\r\n                        break;\r\n                    const tokens = new StringTokenizer(line, '=');\r\n                    tokens.nextToken();\r\n                    tokens.nextToken();\r\n                    let first = parseInt(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    let second = parseInt(tokens.nextToken());\r\n                    if (first < 0 || first > CHARACTER_MAX_VALUE || second < 0 || second > CHARACTER_MAX_VALUE)\r\n                        continue;\r\n                    const glyph = this.getGlyph(first + '');\r\n                    tokens.nextToken();\r\n                    const amount = parseInt(tokens.nextToken());\r\n                    if (glyph) {\r\n                        // Kernings may exist for glyph pairs not contained in the font.\r\n                        glyph.setKerning(second, amount);\r\n                    }\r\n                }\r\n                let hasMetricsOverride = false;\r\n                let overrideAscent = 0;\r\n                let overrideDescent = 0;\r\n                let overrideDown = 0;\r\n                let overrideCapHeight = 0;\r\n                let overrideLineHeight = 0;\r\n                let overrideSpaceXAdvance = 0;\r\n                let overrideXHeight = 0;\r\n                // Metrics override\r\n                if (line != null && line.startsWith('metrics ')) {\r\n                    hasMetricsOverride = true;\r\n                    const tokens = new StringTokenizer(line, '=');\r\n                    tokens.nextToken();\r\n                    tokens.nextToken();\r\n                    overrideAscent = parseFloat(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    overrideDescent = parseFloat(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    overrideDown = parseFloat(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    overrideCapHeight = parseFloat(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    overrideLineHeight = parseFloat(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    overrideSpaceXAdvance = parseFloat(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    overrideXHeight = parseFloat(tokens.nextToken());\r\n                }\r\n                let spaceGlyph = this.getGlyph('32');\r\n                if (!spaceGlyph) {\r\n                    spaceGlyph = new Glyph_1.Glyph();\r\n                    spaceGlyph.id = '32';\r\n                    let xadvanceGlyph = this.getGlyph('l');\r\n                    if (!xadvanceGlyph)\r\n                        xadvanceGlyph = this.getFirstGlyph();\r\n                    spaceGlyph.xadvance = xadvanceGlyph.xadvance;\r\n                    this.setGlyph(32, spaceGlyph); // space character ascii code\r\n                }\r\n                if (spaceGlyph.width === 0) {\r\n                    spaceGlyph.width = this.padLeft + spaceGlyph.xadvance + this.padRight;\r\n                    spaceGlyph.xoffset = -this.padLeft;\r\n                }\r\n                this.spaceXadvance = spaceGlyph.xadvance;\r\n                let xGlyph;\r\n                for (let i = 0; i < this.xChars.length; i++) {\r\n                    xGlyph = this.getGlyph(this.xChars[i]);\r\n                    if (xGlyph)\r\n                        break;\r\n                }\r\n                if (!xGlyph)\r\n                    xGlyph = this.getFirstGlyph();\r\n                this.xHeight = xGlyph.height - padY;\r\n                let capGlyph;\r\n                for (let i = 0; i < this.capChars.length; i++) {\r\n                    capGlyph = this.getGlyph(this.capChars[i]);\r\n                    if (capGlyph)\r\n                        break;\r\n                }\r\n                if (!capGlyph) {\r\n                    const glyphValues = Object.values(this.glyphs);\r\n                    for (let i = 0; i < glyphValues.length; i++) {\r\n                        const page = glyphValues[i];\r\n                        if (!page)\r\n                            continue;\r\n                        for (let j = 0; j < page.length; j++) {\r\n                            if (!page[j] || page[j].height === 0 || page[j].width === 0)\r\n                                continue;\r\n                            this.capHeight = Math.max(this.capHeight, page[j].height);\r\n                        }\r\n                    }\r\n                }\r\n                else\r\n                    this.capHeight = capGlyph.height;\r\n                this.capHeight -= padY;\r\n                this.ascent = baseLine - this.capHeight;\r\n                this.down = -this.lineHeight;\r\n                if (this.flipped) {\r\n                    this.ascent = -this.ascent;\r\n                    this.down = -this.down;\r\n                }\r\n                if (hasMetricsOverride) {\r\n                    this.ascent = overrideAscent;\r\n                    this.descent = overrideDescent;\r\n                    this.down = overrideDown;\r\n                    this.capHeight = overrideCapHeight;\r\n                    this.lineHeight = overrideLineHeight;\r\n                    this.spaceXadvance = overrideSpaceXAdvance;\r\n                    this.xHeight = overrideXHeight;\r\n                }\r\n                // Generate texture regions\r\n                const regionsData = [];\r\n                const glyphValues = Object.values(this.glyphs);\r\n                for (let i = 0; i < glyphValues.length; i++) {\r\n                    const values = Object.values(glyphValues[i]);\r\n                    for (let j = 0; j < values.length; j++) {\r\n                        const region = {\r\n                            id: values[j].id,\r\n                            left: values[j].srcX,\r\n                            top: values[j].srcY,\r\n                            width: values[j].width,\r\n                            height: values[j].height,\r\n                            xoffset: values[j].xoffset,\r\n                            yoffset: values[j].yoffset,\r\n                            xadvance: values[j].xadvance,\r\n                            page: imagePaths[values[j].page],\r\n                            pageId: values[j].page\r\n                        };\r\n                        regionsData.push(region);\r\n                    }\r\n                }\r\n                const pages = [];\r\n                for (let i = 0; i < pageCount; i++) {\r\n                    const texture = yield Texture_1.Texture.load(gl, concatAndResolveUrl(this.fontFile, `../${imagePaths[i]}`));\r\n                    const invTexWidth = 1 / texture.width;\r\n                    const invTexHeight = 1 / texture.height;\r\n                    pages.push({\r\n                        texture,\r\n                        invTexWidth,\r\n                        invTexHeight\r\n                    });\r\n                }\r\n                this.regions = [];\r\n                for (let regionData of regionsData) {\r\n                    const left = regionData.left;\r\n                    const top = regionData.top;\r\n                    const width = regionData.width;\r\n                    const height = regionData.height;\r\n                    const { texture, invTexWidth, invTexHeight } = pages[regionData.pageId];\r\n                    const region = new TextureRegion_1.TextureRegion(texture, left, top, width, height, regionData, invTexWidth, invTexHeight);\r\n                    region.originalWidth = width;\r\n                    region.originalHeight = height;\r\n                    region.offsetX = 0;\r\n                    region.offsetY = 0;\r\n                    this.regions.push(region);\r\n                }\r\n            }\r\n            catch (ex) {\r\n                console.error(ex);\r\n            }\r\n        });\r\n        this.setGlyphRegion = (glyph, region) => {\r\n            const texture = region.texture;\r\n            const invTexWidth = 1 / texture.width;\r\n            const invTexHeight = 1 / texture.height;\r\n            let offsetX = 0, offsetY = 0;\r\n            const u = region.u;\r\n            const v = region.v;\r\n            const regionWidth = region.originalWidth;\r\n            const regionHeight = region.originalHeight;\r\n            // if (region instanceof AtlasRegion) {\r\n            //    // Compensate for whitespace stripped from left and top edges.\r\n            //    AtlasRegion atlasRegion = (AtlasRegion)region;\r\n            //    offsetX = atlasRegion.offsetX;\r\n            //    offsetY = atlasRegion.originalHeight - atlasRegion.packedHeight - atlasRegion.offsetY;\r\n            // }\r\n            let x = glyph.srcX;\r\n            let x2 = glyph.srcX + glyph.width;\r\n            let y = glyph.srcY;\r\n            let y2 = glyph.srcY + glyph.height;\r\n            // Shift glyph for left and top edge stripped whitespace. Clip glyph for right and bottom edge stripped whitespace.\r\n            // Note if the font region has padding, whitespace stripping must not be used.\r\n            if (offsetX > 0) {\r\n                x -= offsetX;\r\n                if (x < 0) {\r\n                    glyph.width += x;\r\n                    glyph.xoffset -= x;\r\n                    x = 0;\r\n                }\r\n                x2 -= offsetX;\r\n                if (x2 > regionWidth) {\r\n                    glyph.width -= x2 - regionWidth;\r\n                    x2 = regionWidth;\r\n                }\r\n            }\r\n            if (offsetY > 0) {\r\n                y -= offsetY;\r\n                if (y < 0) {\r\n                    glyph.height += y;\r\n                    if (glyph.height < 0)\r\n                        glyph.height = 0;\r\n                    y = 0;\r\n                }\r\n                y2 -= offsetY;\r\n                if (y2 > regionHeight) {\r\n                    const amount = y2 - regionHeight;\r\n                    glyph.height -= amount;\r\n                    glyph.yoffset += amount;\r\n                    y2 = regionHeight;\r\n                }\r\n            }\r\n            glyph.u = u + x * invTexWidth;\r\n            glyph.u2 = u + x2 * invTexWidth;\r\n            if (this.flipped) {\r\n                glyph.v = v + y * invTexHeight;\r\n                glyph.v2 = v + y2 * invTexHeight;\r\n            }\r\n            else {\r\n                glyph.v2 = v + y * invTexHeight;\r\n                glyph.v = v + y2 * invTexHeight;\r\n            }\r\n        };\r\n        /** Sets the line height, which is the distance from one line of text to the next. */\r\n        this.setLineHeight = (height) => {\r\n            this.lineHeight = height * this.scaleY;\r\n            this.down = this.flipped ? this.lineHeight : -this.lineHeight;\r\n        };\r\n        this.setGlyph = (ch, glyph) => {\r\n            let page = this.glyphs[ch / Glyph_1.PAGE_SIZE];\r\n            if (!page) {\r\n                page = new Array(Glyph_1.PAGE_SIZE);\r\n                this.glyphs[ch / Glyph_1.PAGE_SIZE] = page;\r\n                // this.glyphs[ch / PAGE_SIZE] = page = new Glyph[PAGE_SIZE];\r\n            }\r\n            page[ch & (Glyph_1.PAGE_SIZE - 1)] = glyph;\r\n        };\r\n        this.getFirstGlyph = () => {\r\n            const glyphValues = Object.values(this.glyphs);\r\n            for (let i = 0; i < glyphValues.length; i++) {\r\n                const page = glyphValues[i];\r\n                if (!page)\r\n                    continue;\r\n                for (let j = 0; j < page.length; j++) {\r\n                    const glyph = page[j];\r\n                    if (!glyph || glyph.height === 0 || glyph.width === 0)\r\n                        continue;\r\n                    return glyph;\r\n                }\r\n            }\r\n        };\r\n        /** Returns true if the font has the glyph, or if the font has a {@link #missingGlyph}. */\r\n        this.hasGlyph = (ch) => {\r\n            if (this.missingGlyph)\r\n                return true;\r\n            return this.getGlyph(ch) != null;\r\n        };\r\n        /** Returns the glyph for the specified character, or null if no such glyph exists. Note that\r\n         * {@link #getGlyphs(GlyphRun, CharSequence, int, int, Glyph)} should be be used to shape a string of characters into a list\r\n         * of glyphs. */\r\n        this.getGlyph = (ch) => {\r\n            const page = this.glyphs[ch.charCodeAt(0) / Glyph_1.PAGE_SIZE];\r\n            if (page != null)\r\n                return page[ch.charCodeAt(0) & (Glyph_1.PAGE_SIZE - 1)];\r\n            return undefined;\r\n        };\r\n        /** Using the specified string, populates the glyphs and positions of the specified glyph run.\r\n         * @param str Characters to convert to glyphs. Will not contain newline or color tags. May contain \"[[\" for an escaped left\r\n         *           square bracket.\r\n         * @param lastGlyph The glyph immediately before this run, or null if this is run is the first on a line of text. Used tp\r\n         *           apply kerning between the specified glyph and the first glyph in this run. */\r\n        this.getGlyphs = (run, str, start, end, lastGlyph) => {\r\n            const max = end - start;\r\n            if (max === 0)\r\n                return;\r\n            let markupEnabled = this.markupEnabled;\r\n            const scaleX = this.scaleX;\r\n            const glyphs = run.glyphs;\r\n            const xAdvances = run.xAdvances;\r\n            // Guess at number of glyphs needed.\r\n            // glyphs.ensureCapacity(max);\r\n            // run.xAdvances.ensureCapacity(max + 1);\r\n            do {\r\n                const ch = str.charAt(start++);\r\n                if (ch === '\\r')\r\n                    continue; // Ignore.\r\n                let glyph = this.getGlyph(ch);\r\n                if (!glyph) {\r\n                    if (!this.missingGlyph)\r\n                        continue;\r\n                    glyph = this.missingGlyph;\r\n                }\r\n                glyphs.push(glyph);\r\n                xAdvances.push(!lastGlyph // First glyph on line, adjust the position so it isn't drawn left of 0.\r\n                    ? glyph.fixedWidth\r\n                        ? 0\r\n                        : -glyph.xoffset * scaleX - this.padLeft\r\n                    : (lastGlyph.xadvance + lastGlyph.getKerning(ch)) * scaleX);\r\n                lastGlyph = glyph;\r\n                // \"[[\" is an escaped left square bracket, skip second character.\r\n                if (markupEnabled && ch === '[' && start < end && str.charAt(start) === '[')\r\n                    start++;\r\n            } while (start < end);\r\n            if (lastGlyph) {\r\n                const lastGlyphWidth = lastGlyph.fixedWidth\r\n                    ? lastGlyph.xadvance * scaleX\r\n                    : (lastGlyph.width + lastGlyph.xoffset) * scaleX - this.padRight;\r\n                xAdvances.push(lastGlyphWidth);\r\n            }\r\n        };\r\n        /** Returns the first valid glyph index to use to wrap to the next line, starting at the specified start index and\r\n         * (typically) moving toward the beginning of the glyphs array. */\r\n        this.getWrapIndex = (glyphs, start) => {\r\n            let i = start - 1;\r\n            const glyphsItems = glyphs;\r\n            let ch = glyphsItems[i].id;\r\n            if (this.isWhitespace(ch + ''))\r\n                return i;\r\n            if (this.isBreakChar(ch + ''))\r\n                i--;\r\n            for (; i > 0; i--) {\r\n                ch = glyphsItems[i].id;\r\n                if (this.isWhitespace(ch + '') || this.isBreakChar(ch + '')) {\r\n                    return i + 1;\r\n                }\r\n            }\r\n            return 0;\r\n        };\r\n        this.isBreakChar = (c) => {\r\n            if (!this.breakChars)\r\n                return false;\r\n            const character = String.fromCharCode(parseInt(c));\r\n            for (let i = 0; i < this.breakChars.length; i++) {\r\n                if (character === this.breakChars[i])\r\n                    return true;\r\n            }\r\n            return false;\r\n        };\r\n        this.isWhitespace = (c) => {\r\n            const character = String.fromCharCode(parseInt(c));\r\n            switch (character) {\r\n                case '\\n':\r\n                case '\\r':\r\n                case '\\t':\r\n                case ' ':\r\n                    return true;\r\n                default:\r\n                    return false;\r\n            }\r\n        };\r\n        /** Returns the image path for the texture page at the given index (the \"id\" in the BMFont file). */\r\n        this.getImagePath = (index) => {\r\n            return this.imagePaths[index];\r\n        };\r\n        this.getImagePaths = () => {\r\n            return this.imagePaths;\r\n        };\r\n        /** Scales the font by the specified amounts on both axes\r\n         * <p>\r\n         * Note that smoother scaling can be achieved if the texture backing the BitmapFont is using {@link TextureFilter#Linear}.\r\n         * The default is Nearest, so use a BitmapFont constructor that takes a {@link TextureRegion}.\r\n         * @throws IllegalArgumentException if scaleX or scaleY is zero. */\r\n        this.setScale = (scaleX, scaleY) => {\r\n            if (scaleX === 0 || scaleY === 0)\r\n                return;\r\n            const x = scaleX / this.scaleX;\r\n            const y = scaleY / this.scaleY;\r\n            this.lineHeight *= y;\r\n            this.spaceXadvance *= x;\r\n            this.xHeight *= y;\r\n            this.capHeight *= y;\r\n            this.ascent *= y;\r\n            this.descent *= y;\r\n            this.down *= y;\r\n            this.padLeft *= x;\r\n            this.padRight *= x;\r\n            this.padTop *= y;\r\n            this.padBottom *= y;\r\n            this.scaleX = scaleX;\r\n            this.scaleY = scaleY;\r\n        };\r\n        /** Sets the font's scale relative to the current scale.\r\n         * @see #setScale(float, float)\r\n         * @throws IllegalArgumentException if the resulting scale is zero. */\r\n        this.scale = (amount) => {\r\n            this.setScale(this.scaleX + amount, this.scaleY + amount);\r\n        };\r\n        this.fontFile = fontFile;\r\n        this.flipped = flip;\r\n    }\r\n    /** Scales the font by the specified amount in both directions.\r\n     * @see #setScale(float, float)\r\n     * @throws IllegalArgumentException if scaleX or scaleY is zero. */\r\n    setXYScale(scaleXY) {\r\n        this.setScale(scaleXY, scaleXY);\r\n    }\r\n}\r\nexports.BitmapFontData = BitmapFontData;\r\nclass StringTokenizer {\r\n    constructor(str, delimitter) {\r\n        this.strArray = [];\r\n        this.currentIndex = 0;\r\n        const strings = str.split(/\\s+/);\r\n        for (let i = 0; i < strings.length; i++) {\r\n            const st = strings[i];\r\n            this.strArray.push(...st.split(delimitter));\r\n        }\r\n    }\r\n    hasMoreTokens() {\r\n        return this.currentIndex >= this.strArray.length;\r\n    }\r\n    nextToken() {\r\n        return this.strArray[this.currentIndex++];\r\n    }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BoundingBox = void 0;\r\nconst Vector3_1 = require(\"./Vector3\");\r\nclass BoundingBox {\r\n    /** Constructs a new bounding box with the minimum and maximum vector set to zeros. */\r\n    constructor() {\r\n        this.min = new Vector3_1.Vector3();\r\n        this.max = new Vector3_1.Vector3();\r\n        this.cnt = new Vector3_1.Vector3();\r\n        this.dim = new Vector3_1.Vector3();\r\n        this.clr();\r\n    }\r\n    getCenter(out) {\r\n        return out.setFrom(this.cnt);\r\n    }\r\n    getCenterX() {\r\n        return this.cnt.x;\r\n    }\r\n    getCenterY() {\r\n        return this.cnt.y;\r\n    }\r\n    getCenterZ() {\r\n        return this.cnt.z;\r\n    }\r\n    getCorner000(out) {\r\n        return out.set(this.min.x, this.min.y, this.min.z);\r\n    }\r\n    getCorner001(out) {\r\n        return out.set(this.min.x, this.min.y, this.max.z);\r\n    }\r\n    getCorner010(out) {\r\n        return out.set(this.min.x, this.max.y, this.min.z);\r\n    }\r\n    getCorner011(out) {\r\n        return out.set(this.min.x, this.max.y, this.max.z);\r\n    }\r\n    getCorner100(out) {\r\n        return out.set(this.max.x, this.min.y, this.min.z);\r\n    }\r\n    getCorner101(out) {\r\n        return out.set(this.max.x, this.min.y, this.max.z);\r\n    }\r\n    getCorner110(out) {\r\n        return out.set(this.max.x, this.max.y, this.min.z);\r\n    }\r\n    getCorner111(out) {\r\n        return out.set(this.max.x, this.max.y, this.max.z);\r\n    }\r\n    /** @param out The {@link Vector3} to receive the dimensions of this bounding box on all three axis.\r\n     * @return The vector specified with the out argument */\r\n    getDimensions(out) {\r\n        return out.setFrom(this.dim);\r\n    }\r\n    getWidth() {\r\n        return this.dim.x;\r\n    }\r\n    getHeight() {\r\n        return this.dim.y;\r\n    }\r\n    getDepth() {\r\n        return this.dim.z;\r\n    }\r\n    /** @param out The {@link Vector3} to receive the minimum values.\r\n     * @return The vector specified with the out argument */\r\n    getMin(out) {\r\n        return out.setFrom(this.min);\r\n    }\r\n    /** @param out The {@link Vector3} to receive the maximum values.\r\n     * @return The vector specified with the out argument */\r\n    getMax(out) {\r\n        return out.setFrom(this.max);\r\n    }\r\n    /** Sets the given bounding box.\r\n     *\r\n     * @param bounds The bounds.\r\n     * @return This bounding box for chaining. */\r\n    setFromBounds(bounds) {\r\n        return this.set(bounds.min, bounds.max);\r\n    }\r\n    /** Sets the given minimum and maximum vector.\r\n     *\r\n     * @param minimum The minimum vector\r\n     * @param maximum The maximum vector\r\n     * @return This bounding box for chaining. */\r\n    set(minimum, maximum) {\r\n        this.min.set(minimum.x < maximum.x ? minimum.x : maximum.x, minimum.y < maximum.y ? minimum.y : maximum.y, minimum.z < maximum.z ? minimum.z : maximum.z);\r\n        this.max.set(minimum.x > maximum.x ? minimum.x : maximum.x, minimum.y > maximum.y ? minimum.y : maximum.y, minimum.z > maximum.z ? minimum.z : maximum.z);\r\n        this.update();\r\n        return this;\r\n    }\r\n    update() {\r\n        this.cnt.setFrom(this.min).add(this.max).scale(0.5);\r\n        this.dim.setFrom(this.max).sub(this.min);\r\n    }\r\n    /** Sets the bounding box minimum and maximum vector from the given points.\r\n     *\r\n     * @param points The points.\r\n     * @return This bounding box for chaining. */\r\n    setFromPoints(points) {\r\n        this.inf();\r\n        for (let l_point of points)\r\n            this.extPoint(l_point);\r\n        return this;\r\n    }\r\n    /** Sets the minimum and maximum vector to positive and negative infinity.\r\n     *\r\n     * @return This bounding box for chaining. */\r\n    inf() {\r\n        this.min.set(Infinity, Infinity, Infinity);\r\n        this.max.set(-Infinity, -Infinity, -Infinity);\r\n        this.cnt.set(0, 0, 0);\r\n        this.dim.set(0, 0, 0);\r\n        return this;\r\n    }\r\n    /** Extends the bounding box to incorporate the given {@link Vector3}.\r\n     * @param point The vector\r\n     * @return This bounding box for chaining. */\r\n    extPoint(point) {\r\n        return this.set(this.min.set(Math.min(this.min.x, point.x), Math.min(this.min.y, point.y), Math.min(this.min.z, point.z)), this.max.set(Math.max(this.max.x, point.x), Math.max(this.max.y, point.y), Math.max(this.max.z, point.z)));\r\n    }\r\n    /** Sets the minimum and maximum vector to zeros.\r\n     * @return This bounding box for chaining. */\r\n    clr() {\r\n        return this.set(this.min.set(0, 0, 0), this.max.set(0, 0, 0));\r\n    }\r\n    /** Returns whether this bounding box is valid. This means that {@link #max} is greater than or equal to {@link #min}.\r\n     * @return True in case the bounding box is valid, false otherwise */\r\n    isValid() {\r\n        return this.min.x <= this.max.x && this.min.y <= this.max.y && this.min.z <= this.max.z;\r\n    }\r\n    /** Extends this bounding box by the given bounding box.\r\n     *\r\n     * @param a_bounds The bounding box\r\n     * @return This bounding box for chaining. */\r\n    extBounds(a_bounds) {\r\n        return this.set(this.min.set(Math.min(this.min.x, a_bounds.min.x), Math.min(this.min.y, a_bounds.min.y), Math.min(this.min.z, a_bounds.min.z)), this.max.set(Math.max(this.max.x, a_bounds.max.x), Math.max(this.max.y, a_bounds.max.y), Math.max(this.max.z, a_bounds.max.z)));\r\n    }\r\n    /** Extends this bounding box by the given sphere.\r\n     *\r\n     * @param center Sphere center\r\n     * @param radius Sphere radius\r\n     * @return This bounding box for chaining. */\r\n    extSphere(center, radius) {\r\n        return this.set(this.min.set(Math.min(this.min.x, center.x - radius), Math.min(this.min.y, center.y - radius), Math.min(this.min.z, center.z - radius)), this.max.set(Math.max(this.max.x, center.x + radius), Math.max(this.max.y, center.y + radius), Math.max(this.max.z, center.z + radius)));\r\n    }\r\n    /** Extends this bounding box by the given transformed bounding box.\r\n     *\r\n     * @param bounds The bounding box\r\n     * @param transform The transformation matrix to apply to bounds, before using it to extend this bounding box.\r\n     * @return This bounding box for chaining. */\r\n    extTransformedBox(bounds, transform) {\r\n        this.extPoint(BoundingBox.tmpVector.set(bounds.min.x, bounds.min.y, bounds.min.z).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(bounds.min.x, bounds.min.y, bounds.max.z).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(bounds.min.x, bounds.max.y, bounds.min.z).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(bounds.min.x, bounds.max.y, bounds.max.z).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(bounds.max.x, bounds.min.y, bounds.min.z).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(bounds.max.x, bounds.min.y, bounds.max.z).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(bounds.max.x, bounds.max.y, bounds.min.z).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(bounds.max.x, bounds.max.y, bounds.max.z).multiply(transform));\r\n        return this;\r\n    }\r\n    /** Multiplies the bounding box by the given matrix. This is achieved by multiplying the 8 corner points and then calculating\r\n     * the minimum and maximum vectors from the transformed points.\r\n     *\r\n     * @param transform The matrix\r\n     * @return This bounding box for chaining. */\r\n    mul(transform) {\r\n        let x0 = this.min.x, y0 = this.min.y, z0 = this.min.z, x1 = this.max.x, y1 = this.max.y, z1 = this.max.z;\r\n        this.inf();\r\n        this.extPoint(BoundingBox.tmpVector.set(x0, y0, z0).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(x0, y0, z1).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(x0, y1, z0).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(x0, y1, z1).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(x1, y0, z0).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(x1, y0, z1).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(x1, y1, z0).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(x1, y1, z1).multiply(transform));\r\n        return this;\r\n    }\r\n    /** Returns whether the given bounding box is contained in this bounding box.\r\n     * @param b The bounding box\r\n     * @return Whether the given bounding box is contained */\r\n    containsBounds(b) {\r\n        return (!this.isValid() ||\r\n            (this.min.x <= b.min.x &&\r\n                this.min.y <= b.min.y &&\r\n                this.min.z <= b.min.z &&\r\n                this.max.x >= b.max.x &&\r\n                this.max.y >= b.max.y &&\r\n                this.max.z >= b.max.z));\r\n    }\r\n    /** Returns whether the given bounding box is intersecting this bounding box (at least one point in).\r\n     * @param b The bounding box\r\n     * @return Whether the given bounding box is intersected */\r\n    intersects(b) {\r\n        if (!this.isValid())\r\n            return false;\r\n        // test using SAT (separating axis theorem)\r\n        const lx = Math.abs(this.cnt.x - b.cnt.x);\r\n        const sumx = this.dim.x / 2.0 + b.dim.x / 2.0;\r\n        const ly = Math.abs(this.cnt.y - b.cnt.y);\r\n        const sumy = this.dim.y / 2.0 + b.dim.y / 2.0;\r\n        const lz = Math.abs(this.cnt.z - b.cnt.z);\r\n        const sumz = this.dim.z / 2.0 + b.dim.z / 2.0;\r\n        return lx <= sumx && ly <= sumy && lz <= sumz;\r\n    }\r\n    /** Returns whether the given vector is contained in this bounding box.\r\n     * @param v The vector\r\n     * @return Whether the vector is contained or not. */\r\n    containsPoint(v) {\r\n        return (this.min.x <= v.x &&\r\n            this.max.x >= v.x &&\r\n            this.min.y <= v.y &&\r\n            this.max.y >= v.y &&\r\n            this.min.z <= v.z &&\r\n            this.max.z >= v.z);\r\n    }\r\n    /** Extends the bounding box by the given vector.\r\n     *\r\n     * @param x The x-coordinate\r\n     * @param y The y-coordinate\r\n     * @param z The z-coordinate\r\n     * @return This bounding box for chaining. */\r\n    ext(x, y, z) {\r\n        return this.set(this.min.set(Math.min(this.min.x, x), Math.min(this.min.y, y), Math.min(this.min.z, z)), this.max.set(Math.max(this.max.x, x), Math.max(this.max.y, y), Math.max(this.max.z, z)));\r\n    }\r\n}\r\nexports.BoundingBox = BoundingBox;\r\nBoundingBox.tmpVector = new Vector3_1.Vector3();\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.OrthoCamera = void 0;\r\nconst Matrix4_1 = require(\"./Matrix4\");\r\nconst Vector3_1 = require(\"./Vector3\");\r\nclass OrthoCamera {\r\n    constructor(viewportWidth, viewportHeight, screenWidth, screenHeight) {\r\n        this.position = new Vector3_1.Vector3(0, 0, 0);\r\n        this.direction = new Vector3_1.Vector3(0, 0, -1);\r\n        this.up = new Vector3_1.Vector3(0, 1, 0);\r\n        this.near = 0;\r\n        this.far = 100;\r\n        this.zoom = 1;\r\n        this.viewportWidth = 0;\r\n        this.viewportHeight = 0;\r\n        this.projectionView = new Matrix4_1.Matrix4();\r\n        this.inverseProjectionView = new Matrix4_1.Matrix4();\r\n        this.projection = new Matrix4_1.Matrix4();\r\n        this.view = new Matrix4_1.Matrix4();\r\n        this.tmp3 = new Vector3_1.Vector3();\r\n        this.resize(viewportWidth, viewportHeight, screenWidth, screenHeight);\r\n    }\r\n    setYDown(yDown) {\r\n        if (yDown) {\r\n            this.up.set(0, -1, 0);\r\n            this.direction.set(0, 0, 1);\r\n        }\r\n        else {\r\n            this.up.set(0, 1, 0);\r\n            this.direction.set(0, 0, -1);\r\n        }\r\n        this.update();\r\n    }\r\n    resize(viewportWidth, viewportHeight, screenWidth, screenHeight) {\r\n        this.viewportWidth = viewportWidth;\r\n        this.viewportHeight = viewportHeight;\r\n        this.screenWidth = screenWidth;\r\n        this.screenHeight = screenHeight;\r\n        this.update();\r\n    }\r\n    setPosition(cameraX, cameraY) {\r\n        this.position.set(cameraX, cameraY, this.position.z);\r\n    }\r\n    update() {\r\n        let projection = this.projection;\r\n        let view = this.view;\r\n        let projectionView = this.projectionView;\r\n        let inverseProjectionView = this.inverseProjectionView;\r\n        let zoom = this.zoom, viewportWidth = this.viewportWidth, viewportHeight = this.viewportHeight;\r\n        projection.ortho(zoom * (-viewportWidth / 2), zoom * (viewportWidth / 2), zoom * (-viewportHeight / 2), zoom * (viewportHeight / 2), this.near, this.far);\r\n        view.lookAt(this.position, this.direction, this.up);\r\n        projectionView.set(projection.values);\r\n        projectionView.multiply(view);\r\n        inverseProjectionView.set(projectionView.values).invert();\r\n        this.combined = projectionView.values;\r\n    }\r\n    screenToWorld(screenCoords, screenWidth, screenHeight) {\r\n        screenWidth = screenWidth || this.screenWidth;\r\n        screenHeight = screenHeight || this.screenHeight;\r\n        let x = screenCoords.x, y = screenHeight - screenCoords.y - 1;\r\n        screenCoords.x = (2 * x) / screenWidth - 1;\r\n        screenCoords.y = (2 * y) / screenHeight - 1;\r\n        screenCoords.z = 2 * screenCoords.z - 1;\r\n        screenCoords.project(this.inverseProjectionView);\r\n        return screenCoords;\r\n    }\r\n    worldToScreen(worldCoords, screenWidth, screenHeight) {\r\n        screenWidth = screenWidth || this.screenWidth;\r\n        screenHeight = screenHeight || this.screenHeight;\r\n        worldCoords.project(this.projectionView);\r\n        worldCoords.x = (screenWidth * (worldCoords.x + 1)) / 2;\r\n        worldCoords.y = (screenHeight * (worldCoords.y + 1)) / 2;\r\n        worldCoords.z = (worldCoords.z + 1) / 2;\r\n        return worldCoords;\r\n    }\r\n    unprojectVector2(worldCoord, screenCoord) {\r\n        this.tmp3.set(screenCoord.x, screenCoord.y, 0);\r\n        this.screenToWorld(this.tmp3);\r\n        worldCoord.set(this.tmp3.x, this.tmp3.y);\r\n    }\r\n    setViewport(viewportWidth, viewportHeight) {\r\n        this.viewportWidth = viewportWidth;\r\n        this.viewportHeight = viewportHeight;\r\n    }\r\n}\r\nexports.OrthoCamera = OrthoCamera;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Game = void 0;\r\nclass Game {\r\n    setScreen(screen) {\r\n        if (this.currentScreen && this.currentScreen.dispose) {\r\n            this.currentScreen.dispose();\r\n        }\r\n        this.currentScreen = screen;\r\n        if (this.currentScreen && this.currentScreen.init) {\r\n            this.currentScreen.init(this);\r\n        }\r\n    }\r\n    update(delta) {\r\n        if (this.currentScreen && this.currentScreen.update) {\r\n            this.currentScreen.update(delta, this);\r\n        }\r\n    }\r\n}\r\nexports.Game = Game;\r\nGame.shared = new Game();\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Glyph = exports.PAGES = exports.PAGE_SIZE = exports.LOG2_PAGE_SIZE = void 0;\r\nexports.LOG2_PAGE_SIZE = 9;\r\nexports.PAGE_SIZE = 1 << exports.LOG2_PAGE_SIZE;\r\nexports.PAGES = 0x10000 / exports.PAGE_SIZE;\r\nclass Glyph {\r\n    constructor() {\r\n        /** The index to the texture page that holds this glyph. */\r\n        this.page = 0;\r\n    }\r\n    getKerning(ch) {\r\n        if (this.kerning) {\r\n            const page = this.kerning[ch.charCodeAt(0) >>> exports.LOG2_PAGE_SIZE];\r\n            if (page != null)\r\n                return page[ch.charCodeAt(0) & (exports.PAGE_SIZE - 1)];\r\n        }\r\n        return 0;\r\n    }\r\n    setKerning(ch, value) {\r\n        if (!this.kerning) {\r\n            this.kerning = [];\r\n        }\r\n        let page = this.kerning[ch >>> exports.LOG2_PAGE_SIZE];\r\n        if (!page) {\r\n            this.kerning[ch >>> exports.LOG2_PAGE_SIZE] = page = new Uint32Array(new ArrayBuffer(exports.PAGE_SIZE));\r\n        }\r\n        page[ch & (exports.PAGE_SIZE - 1)] = value;\r\n    }\r\n}\r\nexports.Glyph = Glyph;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GlyphLayout = void 0;\r\nconst GlyphRun_1 = require(\"./GlyphRun\");\r\nconst Utils_1 = require(\"./Utils\");\r\nclass GlyphLayout {\r\n    constructor(font, str, start, end, color, targetWidth, hAlign, wrap, truncate) {\r\n        this.epsilon = 0.0001;\r\n        this.glyphRunPool = Utils_1.Pools.get('GlyphRun', () => new GlyphRun_1.GlyphRun());\r\n        this.colorStack = new Array(4);\r\n        this.runs = [];\r\n        this.colors = [];\r\n        this.setText = (font, str, start, end, color, targetWidth, hAlign, wrap, truncate) => {\r\n            this.reset();\r\n            const fontData = font.data;\r\n            if (start === end) {\r\n                // Empty string.\r\n                this.height = fontData.capHeight;\r\n                return;\r\n            }\r\n            // Avoid wrapping one line per character, which is very inefficient.\r\n            if (wrap)\r\n                targetWidth = Math.max(targetWidth, fontData.spaceXadvance * 3);\r\n            const wrapOrTruncate = wrap || truncate != null;\r\n            let currentColor = color.toIntBits();\r\n            let nextColor = currentColor;\r\n            this.colors.shift();\r\n            const markupEnabled = fontData.markupEnabled;\r\n            if (markupEnabled)\r\n                this.colorStack.push(currentColor);\r\n            let isLastRun = false;\r\n            let y = 0;\r\n            let down = fontData.down;\r\n            let lineRun = null; // Collects glyphs for the current line.\r\n            let lastGlyph = null; // Last glyph of the previous run on the same line, used for kerning between runs.\r\n            let runStart = start;\r\n            while (true) {\r\n                let runEnd;\r\n                let newline = false;\r\n                if (start === end) {\r\n                    // End of text.\r\n                    if (runStart === end)\r\n                        break; // No run to process, we're done.\r\n                    runEnd = end; // Process the final run.\r\n                    isLastRun = true;\r\n                }\r\n                else {\r\n                    // Each run is delimited by newline or left square bracket.\r\n                    switch (str.charAt(start++)) {\r\n                        case '\\n': // End of line.\r\n                            runEnd = start - 1;\r\n                            newline = true;\r\n                            break;\r\n                        // Fall through.\r\n                        default:\r\n                            continue;\r\n                    }\r\n                }\r\n                // eslint-disable-next-line no-labels\r\n                runEnded: {\r\n                    // Store the run that has ended.\r\n                    const run = this.glyphRunPool.obtain();\r\n                    run.x = 0;\r\n                    run.y = y;\r\n                    fontData.getGlyphs(run, str, runStart, runEnd, lastGlyph);\r\n                    this.glyphCount += run.glyphs.length;\r\n                    if (nextColor !== currentColor) {\r\n                        // Can only be different if markupEnabled.\r\n                        if (this.colors[this.colors.length - 2] === this.glyphCount) {\r\n                            // Consecutive color changes, or after an empty run, or at the beginning of the string.\r\n                            this.colors[this.colors.length - 1] = nextColor;\r\n                        }\r\n                        else {\r\n                            this.colors.push(this.glyphCount);\r\n                            this.colors.push(nextColor);\r\n                        }\r\n                        currentColor = nextColor;\r\n                    }\r\n                    if (run.glyphs.length === 0) {\r\n                        this.glyphRunPool.free(run);\r\n                        if (!lineRun)\r\n                            break; // Otherwise wrap and truncate must still be processed for lineRun.\r\n                    }\r\n                    else if (!lineRun) {\r\n                        lineRun = run;\r\n                        this.runs.push(lineRun);\r\n                    }\r\n                    else {\r\n                        lineRun.appendRun(run);\r\n                        this.glyphRunPool.free(run);\r\n                    }\r\n                    if (newline || isLastRun) {\r\n                        this.setLastGlyphXAdvance(fontData, lineRun);\r\n                        lastGlyph = null;\r\n                    }\r\n                    else\r\n                        lastGlyph = lineRun.glyphs[lineRun.glyphs.length - 1];\r\n                    if (!wrapOrTruncate || lineRun.glyphs.length === 0) {\r\n                        // eslint-disable-next-line no-labels\r\n                        break runEnded; // No wrap or truncate, or no glyphs.\r\n                    }\r\n                    if (newline || isLastRun) {\r\n                        // Wrap or truncate. First xadvance is the first glyph's X offset relative to the drawing position.\r\n                        let runWidth = lineRun.xAdvances[0] + lineRun.xAdvances[1]; // At least the first glyph will fit.\r\n                        for (let i = 2; i < lineRun.xAdvances.length; i++) {\r\n                            const glyph = lineRun.glyphs[i - 1];\r\n                            let glyphWidth = this.getGlyphWidth(glyph, fontData);\r\n                            if (runWidth + glyphWidth - this.epsilon <= targetWidth) {\r\n                                // Glyph fits.\r\n                                runWidth += lineRun.xAdvances[i];\r\n                                continue;\r\n                            }\r\n                            if (truncate != null) {\r\n                                // Truncate.\r\n                                this.truncate(fontData, lineRun, targetWidth, truncate);\r\n                                break;\r\n                            }\r\n                            // Wrap.\r\n                            let wrapIndex = fontData.getWrapIndex(lineRun.glyphs, i);\r\n                            if ((wrapIndex === 0 && lineRun.x === 0) || // Require at least one glyph per line.\r\n                                wrapIndex >= lineRun.glyphs.length) {\r\n                                // Wrap at least the glyph that didn't fit.\r\n                                wrapIndex = i - 1;\r\n                            }\r\n                            lineRun = this.wrap(fontData, lineRun, wrapIndex);\r\n                            // eslint-disable-next-line no-labels\r\n                            if (!lineRun)\r\n                                break runEnded; // All wrapped glyphs were whitespace.\r\n                            this.runs.push(lineRun);\r\n                            y += down;\r\n                            lineRun.x = 0;\r\n                            lineRun.y = y;\r\n                            // Start the wrap loop again, another wrap might be necessary.\r\n                            runWidth = lineRun.xAdvances[0] + lineRun.xAdvances[1]; // At least the first glyph will fit.\r\n                            i = 1;\r\n                        }\r\n                    }\r\n                }\r\n                if (newline) {\r\n                    lineRun = null;\r\n                    lastGlyph = null;\r\n                    // Next run will be on the next line.\r\n                    if (runEnd === runStart)\r\n                        // Blank line.\r\n                        y += down * fontData.blankLineScale;\r\n                    else\r\n                        y += down;\r\n                }\r\n                runStart = start;\r\n            }\r\n            this.height = fontData.capHeight + Math.abs(y);\r\n            this.calculateWidths(fontData);\r\n            this.alignRuns(targetWidth, hAlign);\r\n            // Clear the color stack.\r\n            if (markupEnabled)\r\n                this.colorStack.length = 0;\r\n        };\r\n        this.calculateWidths = (fontData) => {\r\n            var _a;\r\n            let width = 0;\r\n            const runsItems = [...this.runs];\r\n            for (let i = 0, n = this.runs.length; i < n; i++) {\r\n                const run = runsItems[i];\r\n                const xAdvances = run.xAdvances;\r\n                let runWidth = run.x + xAdvances[0];\r\n                let max = 0; // run.x is needed to ensure floats are rounded same as above.\r\n                const glyphs = run.glyphs;\r\n                for (let ii = 0; ii < run.glyphs.length;) {\r\n                    const glyph = glyphs[ii];\r\n                    const glyphWidth = this.getGlyphWidth(glyph, fontData);\r\n                    max = Math.max(max, runWidth + glyphWidth); // A glyph can extend past the right edge of subsequent glyphs.\r\n                    ii++;\r\n                    runWidth += (_a = xAdvances[ii]) !== null && _a !== void 0 ? _a : 0;\r\n                }\r\n                run.width = Math.max(runWidth, max) - run.x;\r\n                width = Math.max(width, run.x + (isNaN(run.width) ? runWidth : run.width));\r\n            }\r\n            this.width = width;\r\n        };\r\n        this.alignRuns = (targetWidth, halign) => {\r\n            if ((halign & Utils_1.Align.left) === 0) {\r\n                // Not left aligned, so must be center or right aligned.\r\n                const center = (halign & Utils_1.Align.center) !== 0;\r\n                const runsItems = [...this.runs];\r\n                for (let i = 0, n = this.runs.length; i < n; i++) {\r\n                    const run = runsItems[i];\r\n                    run.x += center ? 0.5 * (targetWidth - run.width) : targetWidth - run.width;\r\n                }\r\n            }\r\n        };\r\n        /** @param truncate May be empty string. */\r\n        this.truncate = (fontData, run, targetWidth, truncate) => {\r\n            let glyphCount = run.glyphs.length;\r\n            // Determine truncate string size.\r\n            const truncateRun = this.glyphRunPool.obtain();\r\n            fontData.getGlyphs(truncateRun, truncate, 0, truncate.length, null);\r\n            let truncateWidth = 0;\r\n            if (truncateRun.xAdvances.length > 0) {\r\n                this.setLastGlyphXAdvance(fontData, truncateRun);\r\n                const xAdvances = truncateRun.xAdvances;\r\n                // Skip first for tight bounds.\r\n                for (let i = 1; i < truncateRun.xAdvances.length; i++) {\r\n                    truncateWidth += xAdvances[i];\r\n                }\r\n            }\r\n            targetWidth -= truncateWidth;\r\n            // Determine visible glyphs.\r\n            let count = 0;\r\n            let width = run.x;\r\n            const xAdvances = run.xAdvances;\r\n            while (count < run.xAdvances.length) {\r\n                const xAdvance = xAdvances[count];\r\n                width += xAdvance;\r\n                if (width > targetWidth)\r\n                    break;\r\n                count++;\r\n            }\r\n            if (count > 1) {\r\n                // Some run glyphs fit, append truncate glyphs.\r\n                if (count - 1 >= 0 && run.glyphs.length > count - 1) {\r\n                    for (let i = count - 1; i < run.glyphs.length; i++) {\r\n                        run.glyphs.splice(i, 1);\r\n                    }\r\n                }\r\n                if (count >= 0 && run.xAdvances.length > count) {\r\n                    for (let i = count; i < run.xAdvances.length; i++) {\r\n                        run.xAdvances.splice(i, 1);\r\n                    }\r\n                }\r\n                this.setLastGlyphXAdvance(fontData, run);\r\n                if (truncateRun.xAdvances.length > 0) {\r\n                    Utils_1.Utils.arrayCopy(truncateRun.xAdvances, 1, run.xAdvances, run.xAdvances.length, truncateRun.xAdvances.length - 1);\r\n                }\r\n            }\r\n            else {\r\n                // No run glyphs fit, use only truncate glyphs.\r\n                run.glyphs.length = 0;\r\n                run.xAdvances.length = 0;\r\n                // run.xAdvances.addAll(truncateRun.xAdvances);\r\n                Utils_1.Utils.arrayCopy(truncateRun.xAdvances, 0, run.xAdvances, run.xAdvances.length, truncateRun.xAdvances.length);\r\n            }\r\n            const droppedGlyphCount = glyphCount - run.glyphs.length;\r\n            if (droppedGlyphCount > 0) {\r\n                this.glyphCount -= droppedGlyphCount;\r\n                if (fontData.markupEnabled) {\r\n                    while (this.colors.length > 2 && this.colors[this.colors.length - 2] >= this.glyphCount)\r\n                        this.colors.length -= 2;\r\n                }\r\n            }\r\n            Utils_1.Utils.arrayCopy(truncateRun.glyphs, 0, run.glyphs, run.glyphs.length, truncateRun.glyphs.length);\r\n            this.glyphCount += truncate.length;\r\n            this.glyphRunPool.free(truncateRun);\r\n        };\r\n        /** Sets the xadvance of the last glyph to use its width instead of xadvance. */\r\n        this.setLastGlyphXAdvance = (fontData, run) => {\r\n            const last = run.glyphs[run.glyphs.length - 1];\r\n            if (!last.fixedWidth)\r\n                run.xAdvances[run.xAdvances.length - 1] = this.getGlyphWidth(last, fontData);\r\n        };\r\n        /** Returns the distance from the glyph's drawing position to the right edge of the glyph. */\r\n        this.getGlyphWidth = (glyph, fontData) => {\r\n            return (glyph.width + glyph.xoffset) * fontData.scaleX - fontData.padRight;\r\n        };\r\n        /** Returns an X offset for the first glyph so when drawn, none of it is left of the line's drawing position. */\r\n        this.getLineOffset = (glyphs, fontData) => {\r\n            return -glyphs[0].xoffset * fontData.scaleX - fontData.padLeft;\r\n        };\r\n        this.reset = () => {\r\n            this.glyphRunPool.freeAll(this.runs);\r\n            this.runs.length = 0;\r\n            this.colors.length = 0;\r\n            this.glyphCount = 0;\r\n            this.width = 0;\r\n            this.height = 0;\r\n        };\r\n        this.setText(font, str, start, end, color, targetWidth, hAlign, wrap, truncate);\r\n    }\r\n    /** Breaks a run into two runs at the specified wrapIndex.\r\n     * @return May be null if second run is all whitespace. */\r\n    wrap(fontData, first, wrapIndex) {\r\n        const glyphCount = first.glyphs.length;\r\n        let glyphs2 = first.glyphs; // Starts with all the glyphs.\r\n        let xAdvances2 = first.xAdvances; // Starts with all the xadvances.\r\n        // Skip whitespace before the wrap index.\r\n        let firstEnd = wrapIndex;\r\n        for (; firstEnd > 0; firstEnd--)\r\n            if (!fontData.isWhitespace(glyphs2[firstEnd - 1].id))\r\n                break;\r\n        // Skip whitespace after the wrap index.\r\n        let secondStart = wrapIndex;\r\n        for (; secondStart < glyphCount; secondStart++)\r\n            if (!fontData.isWhitespace(glyphs2[secondStart].id))\r\n                break;\r\n        // Copy wrapped glyphs and xadvances to second run.\r\n        // The second run will contain the remaining glyph data, so swap instances rather than copying.\r\n        let second;\r\n        if (secondStart < glyphCount) {\r\n            second = this.glyphRunPool.obtain();\r\n            const glyphs1 = second.glyphs; // Starts empty.\r\n            Utils_1.Utils.arrayCopy(glyphs2, 0, glyphs1, glyphs1.length, firstEnd);\r\n            // glyphs2.removeRange(0, secondStart - 1);\r\n            glyphs2.splice(0, secondStart - 1 + 1);\r\n            first.glyphs = glyphs1;\r\n            second.glyphs = glyphs2;\r\n            const xAdvances1 = second.xAdvances; // Starts empty.\r\n            Utils_1.Utils.arrayCopy(xAdvances2, 0, xAdvances1, xAdvances1.length, firstEnd + 1);\r\n            // xAdvances2.removeRange(1, secondStart); // Leave first entry to be overwritten by next line.\r\n            xAdvances2.splice(1, secondStart); // Leave first entry to be overwritten by next line.\r\n            xAdvances2[0] = this.getLineOffset(glyphs2, fontData);\r\n            first.xAdvances = xAdvances1;\r\n            second.xAdvances = xAdvances2;\r\n            const firstGlyphCount = first.glyphs.length; // After wrapping it.\r\n            const secondGlyphCount = second.glyphs.length;\r\n            const droppedGlyphCount = glyphCount - firstGlyphCount - secondGlyphCount;\r\n            this.glyphCount -= droppedGlyphCount;\r\n            if (fontData.markupEnabled && droppedGlyphCount > 0) {\r\n                const reductionThreshold = this.glyphCount - secondGlyphCount;\r\n                for (let i = this.colors.length - 2; i >= 2; i -= 2) {\r\n                    // i >= 1 because first 2 values always determine the base color.\r\n                    const colorChangeIndex = this.colors[i];\r\n                    if (colorChangeIndex <= reductionThreshold)\r\n                        break;\r\n                    this.colors[i] = colorChangeIndex - droppedGlyphCount;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            // Second run is empty, just trim whitespace glyphs from end of first run.\r\n            glyphs2 = glyphs2.slice(0, firstEnd);\r\n            xAdvances2 = xAdvances2.slice(0, firstEnd + 1);\r\n            const droppedGlyphCount = secondStart - firstEnd;\r\n            if (droppedGlyphCount > 0) {\r\n                this.glyphCount -= droppedGlyphCount;\r\n                if (fontData.markupEnabled && this.colors[this.colors.length - 2] > this.glyphCount) {\r\n                    // Many color changes can be hidden in the dropped whitespace, so keep only the very last color entry.\r\n                    const lastColor = this.colors[this.colors.length - 1];\r\n                    while (this.colors[this.colors.length - 2] > this.glyphCount)\r\n                        this.colors.length -= 2;\r\n                    this.colors[this.colors.length - 2] = this.glyphCount; // Update color change index.\r\n                    this.colors[this.colors.length - 1] = lastColor; // Update color entry.\r\n                }\r\n            }\r\n        }\r\n        if (firstEnd === 0) {\r\n            // If the first run is now empty, remove it.\r\n            this.glyphRunPool.free(first);\r\n            this.runs.pop();\r\n        }\r\n        else\r\n            this.setLastGlyphXAdvance(fontData, first);\r\n        return second;\r\n    }\r\n}\r\nexports.GlyphLayout = GlyphLayout;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GlyphRun = void 0;\r\nclass GlyphRun {\r\n    constructor() {\r\n        this.glyphs = [];\r\n        this.xAdvances = [];\r\n        this.appendRun = (run) => {\r\n            this.glyphs.concat(run.glyphs);\r\n            // Remove the width of the last glyph. The first xadvance of the appended run has kerning for the last glyph of this run.\r\n            if (!this.xAdvances.length)\r\n                this.xAdvances.length--;\r\n            this.xAdvances.concat(run.xAdvances);\r\n        };\r\n        this.reset = () => {\r\n            this.glyphs.length = 0;\r\n            this.xAdvances.length = 0;\r\n        };\r\n    }\r\n}\r\nexports.GlyphRun = GlyphRun;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InputHandler = exports.InputEvent = void 0;\r\nconst events_1 = require(\"events\");\r\nconst Vector2_1 = require(\"./Vector2\");\r\nvar InputEvent;\r\n(function (InputEvent) {\r\n    InputEvent[\"TouchStart\"] = \"touchStart\";\r\n    InputEvent[\"TouchEnd\"] = \"touchEnd\";\r\n    InputEvent[\"TouchMove\"] = \"touchMove\";\r\n})(InputEvent = exports.InputEvent || (exports.InputEvent = {}));\r\nclass InputHandler {\r\n    constructor(canvas) {\r\n        this.screenCoord = new Vector2_1.Vector2();\r\n        this.worldCoord = new Vector2_1.Vector2();\r\n        this.canvas = canvas;\r\n        this.lastX = 0;\r\n        this.lastY = 0;\r\n        this.touched = false;\r\n        const emitter = (this.emitter = new events_1.EventEmitter());\r\n        this.mouseDownHandler = evt => {\r\n            this.touched = true;\r\n            this.handleMove(evt);\r\n            emitter.emit('touchStart', this.getX(), this.getY());\r\n        };\r\n        this.mouseUpHandler = evt => {\r\n            this.touched = false;\r\n            emitter.emit('touchEnd', this.getX(), this.getY());\r\n        };\r\n        this.mouseMoveHandler = evt => {\r\n            this.handleMove(evt);\r\n            emitter.emit('touchMove', this.getX(), this.getY());\r\n        };\r\n        this.touchStartHandler = evt => {\r\n            evt.preventDefault();\r\n            // TODO: handle multi touch\r\n            let touch = evt.touches[0];\r\n            this.canvas.dispatchEvent(new MouseEvent('mousedown', {\r\n                clientX: touch.clientX,\r\n                clientY: touch.clientY\r\n            }));\r\n        };\r\n        this.touchEndHandler = evt => {\r\n            evt.preventDefault();\r\n            this.canvas.dispatchEvent(new MouseEvent('mouseup'));\r\n        };\r\n        this.touchMoveHandler = evt => {\r\n            evt.preventDefault();\r\n            let touch = evt.touches[0];\r\n            this.canvas.dispatchEvent(new MouseEvent('mousemove', {\r\n                clientX: touch.clientX,\r\n                clientY: touch.clientY\r\n            }));\r\n        };\r\n        this.canvas.addEventListener('mousedown', this.mouseDownHandler, false);\r\n        this.canvas.addEventListener('mouseup', this.mouseUpHandler, false);\r\n        this.canvas.addEventListener('mousemove', this.mouseMoveHandler, false);\r\n        this.canvas.addEventListener('touchstart', this.touchStartHandler, false);\r\n        this.canvas.addEventListener('touchend', this.touchEndHandler, false);\r\n        this.canvas.addEventListener('touchmove', this.touchMoveHandler, false);\r\n    }\r\n    cleanup() {\r\n        this.canvas.removeEventListener('mousedown', this.mouseDownHandler);\r\n        this.canvas.removeEventListener('mouseup', this.mouseUpHandler);\r\n        this.canvas.removeEventListener('mousemove', this.mouseMoveHandler);\r\n        this.canvas.removeEventListener('touchstart', this.touchStartHandler);\r\n        this.canvas.removeEventListener('touchend', this.touchEndHandler);\r\n        this.canvas.removeEventListener('touchmove', this.touchMoveHandler);\r\n    }\r\n    addEventListener(event, listener) {\r\n        this.emitter.addListener(event, listener);\r\n    }\r\n    handleMove(evt) {\r\n        const rect = this.canvas.getBoundingClientRect();\r\n        const x = evt.clientX - rect.left;\r\n        const y = evt.clientY - rect.top;\r\n        this.lastX = x;\r\n        this.lastY = y;\r\n    }\r\n    getX() {\r\n        return this.lastX;\r\n    }\r\n    getY() {\r\n        return this.lastY;\r\n    }\r\n    isTouched() {\r\n        return this.touched;\r\n    }\r\n    getTouchedWorldCoord(camera) {\r\n        this.screenCoord.set(this.getX(), this.getY());\r\n        camera.unprojectVector2(this.worldCoord, this.screenCoord);\r\n        return this.worldCoord;\r\n    }\r\n}\r\nexports.InputHandler = InputHandler;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Matrix4 = exports.M33 = exports.M32 = exports.M31 = exports.M30 = exports.M23 = exports.M22 = exports.M21 = exports.M20 = exports.M13 = exports.M12 = exports.M11 = exports.M10 = exports.M03 = exports.M02 = exports.M01 = exports.M00 = void 0;\r\nconst Vector3_1 = require(\"./Vector3\");\r\nexports.M00 = 0;\r\nexports.M01 = 4;\r\nexports.M02 = 8;\r\nexports.M03 = 12;\r\nexports.M10 = 1;\r\nexports.M11 = 5;\r\nexports.M12 = 9;\r\nexports.M13 = 13;\r\nexports.M20 = 2;\r\nexports.M21 = 6;\r\nexports.M22 = 10;\r\nexports.M23 = 14;\r\nexports.M30 = 3;\r\nexports.M31 = 7;\r\nexports.M32 = 11;\r\nexports.M33 = 15;\r\nclass Matrix4 {\r\n    constructor() {\r\n        this.temp = new Float32Array(16);\r\n        this.values = new Float32Array(16);\r\n        let v = this.values;\r\n        v[exports.M00] = 1;\r\n        v[exports.M11] = 1;\r\n        v[exports.M22] = 1;\r\n        v[exports.M33] = 1;\r\n    }\r\n    set(values) {\r\n        this.values.set(values);\r\n        return this;\r\n    }\r\n    transpose() {\r\n        let t = this.temp;\r\n        let v = this.values;\r\n        t[exports.M00] = v[exports.M00];\r\n        t[exports.M01] = v[exports.M10];\r\n        t[exports.M02] = v[exports.M20];\r\n        t[exports.M03] = v[exports.M30];\r\n        t[exports.M10] = v[exports.M01];\r\n        t[exports.M11] = v[exports.M11];\r\n        t[exports.M12] = v[exports.M21];\r\n        t[exports.M13] = v[exports.M31];\r\n        t[exports.M20] = v[exports.M02];\r\n        t[exports.M21] = v[exports.M12];\r\n        t[exports.M22] = v[exports.M22];\r\n        t[exports.M23] = v[exports.M32];\r\n        t[exports.M30] = v[exports.M03];\r\n        t[exports.M31] = v[exports.M13];\r\n        t[exports.M32] = v[exports.M23];\r\n        t[exports.M33] = v[exports.M33];\r\n        return this.set(t);\r\n    }\r\n    identity() {\r\n        let v = this.values;\r\n        v[exports.M00] = 1;\r\n        v[exports.M01] = 0;\r\n        v[exports.M02] = 0;\r\n        v[exports.M03] = 0;\r\n        v[exports.M10] = 0;\r\n        v[exports.M11] = 1;\r\n        v[exports.M12] = 0;\r\n        v[exports.M13] = 0;\r\n        v[exports.M20] = 0;\r\n        v[exports.M21] = 0;\r\n        v[exports.M22] = 1;\r\n        v[exports.M23] = 0;\r\n        v[exports.M30] = 0;\r\n        v[exports.M31] = 0;\r\n        v[exports.M32] = 0;\r\n        v[exports.M33] = 1;\r\n        return this;\r\n    }\r\n    invert() {\r\n        let v = this.values;\r\n        let t = this.temp;\r\n        let l_det = v[exports.M30] * v[exports.M21] * v[exports.M12] * v[exports.M03] -\r\n            v[exports.M20] * v[exports.M31] * v[exports.M12] * v[exports.M03] -\r\n            v[exports.M30] * v[exports.M11] * v[exports.M22] * v[exports.M03] +\r\n            v[exports.M10] * v[exports.M31] * v[exports.M22] * v[exports.M03] +\r\n            v[exports.M20] * v[exports.M11] * v[exports.M32] * v[exports.M03] -\r\n            v[exports.M10] * v[exports.M21] * v[exports.M32] * v[exports.M03] -\r\n            v[exports.M30] * v[exports.M21] * v[exports.M02] * v[exports.M13] +\r\n            v[exports.M20] * v[exports.M31] * v[exports.M02] * v[exports.M13] +\r\n            v[exports.M30] * v[exports.M01] * v[exports.M22] * v[exports.M13] -\r\n            v[exports.M00] * v[exports.M31] * v[exports.M22] * v[exports.M13] -\r\n            v[exports.M20] * v[exports.M01] * v[exports.M32] * v[exports.M13] +\r\n            v[exports.M00] * v[exports.M21] * v[exports.M32] * v[exports.M13] +\r\n            v[exports.M30] * v[exports.M11] * v[exports.M02] * v[exports.M23] -\r\n            v[exports.M10] * v[exports.M31] * v[exports.M02] * v[exports.M23] -\r\n            v[exports.M30] * v[exports.M01] * v[exports.M12] * v[exports.M23] +\r\n            v[exports.M00] * v[exports.M31] * v[exports.M12] * v[exports.M23] +\r\n            v[exports.M10] * v[exports.M01] * v[exports.M32] * v[exports.M23] -\r\n            v[exports.M00] * v[exports.M11] * v[exports.M32] * v[exports.M23] -\r\n            v[exports.M20] * v[exports.M11] * v[exports.M02] * v[exports.M33] +\r\n            v[exports.M10] * v[exports.M21] * v[exports.M02] * v[exports.M33] +\r\n            v[exports.M20] * v[exports.M01] * v[exports.M12] * v[exports.M33] -\r\n            v[exports.M00] * v[exports.M21] * v[exports.M12] * v[exports.M33] -\r\n            v[exports.M10] * v[exports.M01] * v[exports.M22] * v[exports.M33] +\r\n            v[exports.M00] * v[exports.M11] * v[exports.M22] * v[exports.M33];\r\n        if (l_det === 0)\r\n            throw new Error('non-invertible matrix');\r\n        let inv_det = 1.0 / l_det;\r\n        t[exports.M00] =\r\n            v[exports.M12] * v[exports.M23] * v[exports.M31] -\r\n                v[exports.M13] * v[exports.M22] * v[exports.M31] +\r\n                v[exports.M13] * v[exports.M21] * v[exports.M32] -\r\n                v[exports.M11] * v[exports.M23] * v[exports.M32] -\r\n                v[exports.M12] * v[exports.M21] * v[exports.M33] +\r\n                v[exports.M11] * v[exports.M22] * v[exports.M33];\r\n        t[exports.M01] =\r\n            v[exports.M03] * v[exports.M22] * v[exports.M31] -\r\n                v[exports.M02] * v[exports.M23] * v[exports.M31] -\r\n                v[exports.M03] * v[exports.M21] * v[exports.M32] +\r\n                v[exports.M01] * v[exports.M23] * v[exports.M32] +\r\n                v[exports.M02] * v[exports.M21] * v[exports.M33] -\r\n                v[exports.M01] * v[exports.M22] * v[exports.M33];\r\n        t[exports.M02] =\r\n            v[exports.M02] * v[exports.M13] * v[exports.M31] -\r\n                v[exports.M03] * v[exports.M12] * v[exports.M31] +\r\n                v[exports.M03] * v[exports.M11] * v[exports.M32] -\r\n                v[exports.M01] * v[exports.M13] * v[exports.M32] -\r\n                v[exports.M02] * v[exports.M11] * v[exports.M33] +\r\n                v[exports.M01] * v[exports.M12] * v[exports.M33];\r\n        t[exports.M03] =\r\n            v[exports.M03] * v[exports.M12] * v[exports.M21] -\r\n                v[exports.M02] * v[exports.M13] * v[exports.M21] -\r\n                v[exports.M03] * v[exports.M11] * v[exports.M22] +\r\n                v[exports.M01] * v[exports.M13] * v[exports.M22] +\r\n                v[exports.M02] * v[exports.M11] * v[exports.M23] -\r\n                v[exports.M01] * v[exports.M12] * v[exports.M23];\r\n        t[exports.M10] =\r\n            v[exports.M13] * v[exports.M22] * v[exports.M30] -\r\n                v[exports.M12] * v[exports.M23] * v[exports.M30] -\r\n                v[exports.M13] * v[exports.M20] * v[exports.M32] +\r\n                v[exports.M10] * v[exports.M23] * v[exports.M32] +\r\n                v[exports.M12] * v[exports.M20] * v[exports.M33] -\r\n                v[exports.M10] * v[exports.M22] * v[exports.M33];\r\n        t[exports.M11] =\r\n            v[exports.M02] * v[exports.M23] * v[exports.M30] -\r\n                v[exports.M03] * v[exports.M22] * v[exports.M30] +\r\n                v[exports.M03] * v[exports.M20] * v[exports.M32] -\r\n                v[exports.M00] * v[exports.M23] * v[exports.M32] -\r\n                v[exports.M02] * v[exports.M20] * v[exports.M33] +\r\n                v[exports.M00] * v[exports.M22] * v[exports.M33];\r\n        t[exports.M12] =\r\n            v[exports.M03] * v[exports.M12] * v[exports.M30] -\r\n                v[exports.M02] * v[exports.M13] * v[exports.M30] -\r\n                v[exports.M03] * v[exports.M10] * v[exports.M32] +\r\n                v[exports.M00] * v[exports.M13] * v[exports.M32] +\r\n                v[exports.M02] * v[exports.M10] * v[exports.M33] -\r\n                v[exports.M00] * v[exports.M12] * v[exports.M33];\r\n        t[exports.M13] =\r\n            v[exports.M02] * v[exports.M13] * v[exports.M20] -\r\n                v[exports.M03] * v[exports.M12] * v[exports.M20] +\r\n                v[exports.M03] * v[exports.M10] * v[exports.M22] -\r\n                v[exports.M00] * v[exports.M13] * v[exports.M22] -\r\n                v[exports.M02] * v[exports.M10] * v[exports.M23] +\r\n                v[exports.M00] * v[exports.M12] * v[exports.M23];\r\n        t[exports.M20] =\r\n            v[exports.M11] * v[exports.M23] * v[exports.M30] -\r\n                v[exports.M13] * v[exports.M21] * v[exports.M30] +\r\n                v[exports.M13] * v[exports.M20] * v[exports.M31] -\r\n                v[exports.M10] * v[exports.M23] * v[exports.M31] -\r\n                v[exports.M11] * v[exports.M20] * v[exports.M33] +\r\n                v[exports.M10] * v[exports.M21] * v[exports.M33];\r\n        t[exports.M21] =\r\n            v[exports.M03] * v[exports.M21] * v[exports.M30] -\r\n                v[exports.M01] * v[exports.M23] * v[exports.M30] -\r\n                v[exports.M03] * v[exports.M20] * v[exports.M31] +\r\n                v[exports.M00] * v[exports.M23] * v[exports.M31] +\r\n                v[exports.M01] * v[exports.M20] * v[exports.M33] -\r\n                v[exports.M00] * v[exports.M21] * v[exports.M33];\r\n        t[exports.M22] =\r\n            v[exports.M01] * v[exports.M13] * v[exports.M30] -\r\n                v[exports.M03] * v[exports.M11] * v[exports.M30] +\r\n                v[exports.M03] * v[exports.M10] * v[exports.M31] -\r\n                v[exports.M00] * v[exports.M13] * v[exports.M31] -\r\n                v[exports.M01] * v[exports.M10] * v[exports.M33] +\r\n                v[exports.M00] * v[exports.M11] * v[exports.M33];\r\n        t[exports.M23] =\r\n            v[exports.M03] * v[exports.M11] * v[exports.M20] -\r\n                v[exports.M01] * v[exports.M13] * v[exports.M20] -\r\n                v[exports.M03] * v[exports.M10] * v[exports.M21] +\r\n                v[exports.M00] * v[exports.M13] * v[exports.M21] +\r\n                v[exports.M01] * v[exports.M10] * v[exports.M23] -\r\n                v[exports.M00] * v[exports.M11] * v[exports.M23];\r\n        t[exports.M30] =\r\n            v[exports.M12] * v[exports.M21] * v[exports.M30] -\r\n                v[exports.M11] * v[exports.M22] * v[exports.M30] -\r\n                v[exports.M12] * v[exports.M20] * v[exports.M31] +\r\n                v[exports.M10] * v[exports.M22] * v[exports.M31] +\r\n                v[exports.M11] * v[exports.M20] * v[exports.M32] -\r\n                v[exports.M10] * v[exports.M21] * v[exports.M32];\r\n        t[exports.M31] =\r\n            v[exports.M01] * v[exports.M22] * v[exports.M30] -\r\n                v[exports.M02] * v[exports.M21] * v[exports.M30] +\r\n                v[exports.M02] * v[exports.M20] * v[exports.M31] -\r\n                v[exports.M00] * v[exports.M22] * v[exports.M31] -\r\n                v[exports.M01] * v[exports.M20] * v[exports.M32] +\r\n                v[exports.M00] * v[exports.M21] * v[exports.M32];\r\n        t[exports.M32] =\r\n            v[exports.M02] * v[exports.M11] * v[exports.M30] -\r\n                v[exports.M01] * v[exports.M12] * v[exports.M30] -\r\n                v[exports.M02] * v[exports.M10] * v[exports.M31] +\r\n                v[exports.M00] * v[exports.M12] * v[exports.M31] +\r\n                v[exports.M01] * v[exports.M10] * v[exports.M32] -\r\n                v[exports.M00] * v[exports.M11] * v[exports.M32];\r\n        t[exports.M33] =\r\n            v[exports.M01] * v[exports.M12] * v[exports.M20] -\r\n                v[exports.M02] * v[exports.M11] * v[exports.M20] +\r\n                v[exports.M02] * v[exports.M10] * v[exports.M21] -\r\n                v[exports.M00] * v[exports.M12] * v[exports.M21] -\r\n                v[exports.M01] * v[exports.M10] * v[exports.M22] +\r\n                v[exports.M00] * v[exports.M11] * v[exports.M22];\r\n        v[exports.M00] = t[exports.M00] * inv_det;\r\n        v[exports.M01] = t[exports.M01] * inv_det;\r\n        v[exports.M02] = t[exports.M02] * inv_det;\r\n        v[exports.M03] = t[exports.M03] * inv_det;\r\n        v[exports.M10] = t[exports.M10] * inv_det;\r\n        v[exports.M11] = t[exports.M11] * inv_det;\r\n        v[exports.M12] = t[exports.M12] * inv_det;\r\n        v[exports.M13] = t[exports.M13] * inv_det;\r\n        v[exports.M20] = t[exports.M20] * inv_det;\r\n        v[exports.M21] = t[exports.M21] * inv_det;\r\n        v[exports.M22] = t[exports.M22] * inv_det;\r\n        v[exports.M23] = t[exports.M23] * inv_det;\r\n        v[exports.M30] = t[exports.M30] * inv_det;\r\n        v[exports.M31] = t[exports.M31] * inv_det;\r\n        v[exports.M32] = t[exports.M32] * inv_det;\r\n        v[exports.M33] = t[exports.M33] * inv_det;\r\n        return this;\r\n    }\r\n    determinant() {\r\n        let v = this.values;\r\n        return (v[exports.M30] * v[exports.M21] * v[exports.M12] * v[exports.M03] -\r\n            v[exports.M20] * v[exports.M31] * v[exports.M12] * v[exports.M03] -\r\n            v[exports.M30] * v[exports.M11] * v[exports.M22] * v[exports.M03] +\r\n            v[exports.M10] * v[exports.M31] * v[exports.M22] * v[exports.M03] +\r\n            v[exports.M20] * v[exports.M11] * v[exports.M32] * v[exports.M03] -\r\n            v[exports.M10] * v[exports.M21] * v[exports.M32] * v[exports.M03] -\r\n            v[exports.M30] * v[exports.M21] * v[exports.M02] * v[exports.M13] +\r\n            v[exports.M20] * v[exports.M31] * v[exports.M02] * v[exports.M13] +\r\n            v[exports.M30] * v[exports.M01] * v[exports.M22] * v[exports.M13] -\r\n            v[exports.M00] * v[exports.M31] * v[exports.M22] * v[exports.M13] -\r\n            v[exports.M20] * v[exports.M01] * v[exports.M32] * v[exports.M13] +\r\n            v[exports.M00] * v[exports.M21] * v[exports.M32] * v[exports.M13] +\r\n            v[exports.M30] * v[exports.M11] * v[exports.M02] * v[exports.M23] -\r\n            v[exports.M10] * v[exports.M31] * v[exports.M02] * v[exports.M23] -\r\n            v[exports.M30] * v[exports.M01] * v[exports.M12] * v[exports.M23] +\r\n            v[exports.M00] * v[exports.M31] * v[exports.M12] * v[exports.M23] +\r\n            v[exports.M10] * v[exports.M01] * v[exports.M32] * v[exports.M23] -\r\n            v[exports.M00] * v[exports.M11] * v[exports.M32] * v[exports.M23] -\r\n            v[exports.M20] * v[exports.M11] * v[exports.M02] * v[exports.M33] +\r\n            v[exports.M10] * v[exports.M21] * v[exports.M02] * v[exports.M33] +\r\n            v[exports.M20] * v[exports.M01] * v[exports.M12] * v[exports.M33] -\r\n            v[exports.M00] * v[exports.M21] * v[exports.M12] * v[exports.M33] -\r\n            v[exports.M10] * v[exports.M01] * v[exports.M22] * v[exports.M33] +\r\n            v[exports.M00] * v[exports.M11] * v[exports.M22] * v[exports.M33]);\r\n    }\r\n    translate(x, y, z) {\r\n        let v = this.values;\r\n        v[exports.M03] += x;\r\n        v[exports.M13] += y;\r\n        v[exports.M23] += z;\r\n        return this;\r\n    }\r\n    copy() {\r\n        return new Matrix4().set(this.values);\r\n    }\r\n    projection(near, far, fovy, aspectRatio) {\r\n        this.identity();\r\n        let l_fd = 1.0 / Math.tan((fovy * (Math.PI / 180)) / 2.0);\r\n        let l_a1 = (far + near) / (near - far);\r\n        let l_a2 = (2 * far * near) / (near - far);\r\n        let v = this.values;\r\n        v[exports.M00] = l_fd / aspectRatio;\r\n        v[exports.M10] = 0;\r\n        v[exports.M20] = 0;\r\n        v[exports.M30] = 0;\r\n        v[exports.M01] = 0;\r\n        v[exports.M11] = l_fd;\r\n        v[exports.M21] = 0;\r\n        v[exports.M31] = 0;\r\n        v[exports.M02] = 0;\r\n        v[exports.M12] = 0;\r\n        v[exports.M22] = l_a1;\r\n        v[exports.M32] = -1;\r\n        v[exports.M03] = 0;\r\n        v[exports.M13] = 0;\r\n        v[exports.M23] = l_a2;\r\n        v[exports.M33] = 0;\r\n        return this;\r\n    }\r\n    ortho2d(x, y, width, height) {\r\n        return this.ortho(x, x + width, y, y + height, 0, 1);\r\n    }\r\n    ortho(left, right, bottom, top, near, far) {\r\n        this.identity();\r\n        let x_orth = 2 / (right - left);\r\n        let y_orth = 2 / (top - bottom);\r\n        let z_orth = -2 / (far - near);\r\n        let tx = -(right + left) / (right - left);\r\n        let ty = -(top + bottom) / (top - bottom);\r\n        let tz = -(far + near) / (far - near);\r\n        let v = this.values;\r\n        v[exports.M00] = x_orth;\r\n        v[exports.M10] = 0;\r\n        v[exports.M20] = 0;\r\n        v[exports.M30] = 0;\r\n        v[exports.M01] = 0;\r\n        v[exports.M11] = y_orth;\r\n        v[exports.M21] = 0;\r\n        v[exports.M31] = 0;\r\n        v[exports.M02] = 0;\r\n        v[exports.M12] = 0;\r\n        v[exports.M22] = z_orth;\r\n        v[exports.M32] = 0;\r\n        v[exports.M03] = tx;\r\n        v[exports.M13] = ty;\r\n        v[exports.M23] = tz;\r\n        v[exports.M33] = 1;\r\n        return this;\r\n    }\r\n    multiply(matrix) {\r\n        let t = this.temp;\r\n        let v = this.values;\r\n        let m = matrix.values;\r\n        t[exports.M00] = v[exports.M00] * m[exports.M00] + v[exports.M01] * m[exports.M10] + v[exports.M02] * m[exports.M20] + v[exports.M03] * m[exports.M30];\r\n        t[exports.M01] = v[exports.M00] * m[exports.M01] + v[exports.M01] * m[exports.M11] + v[exports.M02] * m[exports.M21] + v[exports.M03] * m[exports.M31];\r\n        t[exports.M02] = v[exports.M00] * m[exports.M02] + v[exports.M01] * m[exports.M12] + v[exports.M02] * m[exports.M22] + v[exports.M03] * m[exports.M32];\r\n        t[exports.M03] = v[exports.M00] * m[exports.M03] + v[exports.M01] * m[exports.M13] + v[exports.M02] * m[exports.M23] + v[exports.M03] * m[exports.M33];\r\n        t[exports.M10] = v[exports.M10] * m[exports.M00] + v[exports.M11] * m[exports.M10] + v[exports.M12] * m[exports.M20] + v[exports.M13] * m[exports.M30];\r\n        t[exports.M11] = v[exports.M10] * m[exports.M01] + v[exports.M11] * m[exports.M11] + v[exports.M12] * m[exports.M21] + v[exports.M13] * m[exports.M31];\r\n        t[exports.M12] = v[exports.M10] * m[exports.M02] + v[exports.M11] * m[exports.M12] + v[exports.M12] * m[exports.M22] + v[exports.M13] * m[exports.M32];\r\n        t[exports.M13] = v[exports.M10] * m[exports.M03] + v[exports.M11] * m[exports.M13] + v[exports.M12] * m[exports.M23] + v[exports.M13] * m[exports.M33];\r\n        t[exports.M20] = v[exports.M20] * m[exports.M00] + v[exports.M21] * m[exports.M10] + v[exports.M22] * m[exports.M20] + v[exports.M23] * m[exports.M30];\r\n        t[exports.M21] = v[exports.M20] * m[exports.M01] + v[exports.M21] * m[exports.M11] + v[exports.M22] * m[exports.M21] + v[exports.M23] * m[exports.M31];\r\n        t[exports.M22] = v[exports.M20] * m[exports.M02] + v[exports.M21] * m[exports.M12] + v[exports.M22] * m[exports.M22] + v[exports.M23] * m[exports.M32];\r\n        t[exports.M23] = v[exports.M20] * m[exports.M03] + v[exports.M21] * m[exports.M13] + v[exports.M22] * m[exports.M23] + v[exports.M23] * m[exports.M33];\r\n        t[exports.M30] = v[exports.M30] * m[exports.M00] + v[exports.M31] * m[exports.M10] + v[exports.M32] * m[exports.M20] + v[exports.M33] * m[exports.M30];\r\n        t[exports.M31] = v[exports.M30] * m[exports.M01] + v[exports.M31] * m[exports.M11] + v[exports.M32] * m[exports.M21] + v[exports.M33] * m[exports.M31];\r\n        t[exports.M32] = v[exports.M30] * m[exports.M02] + v[exports.M31] * m[exports.M12] + v[exports.M32] * m[exports.M22] + v[exports.M33] * m[exports.M32];\r\n        t[exports.M33] = v[exports.M30] * m[exports.M03] + v[exports.M31] * m[exports.M13] + v[exports.M32] * m[exports.M23] + v[exports.M33] * m[exports.M33];\r\n        return this.set(this.temp);\r\n    }\r\n    multiplyLeft(matrix) {\r\n        let t = this.temp;\r\n        let v = this.values;\r\n        let m = matrix.values;\r\n        t[exports.M00] = m[exports.M00] * v[exports.M00] + m[exports.M01] * v[exports.M10] + m[exports.M02] * v[exports.M20] + m[exports.M03] * v[exports.M30];\r\n        t[exports.M01] = m[exports.M00] * v[exports.M01] + m[exports.M01] * v[exports.M11] + m[exports.M02] * v[exports.M21] + m[exports.M03] * v[exports.M31];\r\n        t[exports.M02] = m[exports.M00] * v[exports.M02] + m[exports.M01] * v[exports.M12] + m[exports.M02] * v[exports.M22] + m[exports.M03] * v[exports.M32];\r\n        t[exports.M03] = m[exports.M00] * v[exports.M03] + m[exports.M01] * v[exports.M13] + m[exports.M02] * v[exports.M23] + m[exports.M03] * v[exports.M33];\r\n        t[exports.M10] = m[exports.M10] * v[exports.M00] + m[exports.M11] * v[exports.M10] + m[exports.M12] * v[exports.M20] + m[exports.M13] * v[exports.M30];\r\n        t[exports.M11] = m[exports.M10] * v[exports.M01] + m[exports.M11] * v[exports.M11] + m[exports.M12] * v[exports.M21] + m[exports.M13] * v[exports.M31];\r\n        t[exports.M12] = m[exports.M10] * v[exports.M02] + m[exports.M11] * v[exports.M12] + m[exports.M12] * v[exports.M22] + m[exports.M13] * v[exports.M32];\r\n        t[exports.M13] = m[exports.M10] * v[exports.M03] + m[exports.M11] * v[exports.M13] + m[exports.M12] * v[exports.M23] + m[exports.M13] * v[exports.M33];\r\n        t[exports.M20] = m[exports.M20] * v[exports.M00] + m[exports.M21] * v[exports.M10] + m[exports.M22] * v[exports.M20] + m[exports.M23] * v[exports.M30];\r\n        t[exports.M21] = m[exports.M20] * v[exports.M01] + m[exports.M21] * v[exports.M11] + m[exports.M22] * v[exports.M21] + m[exports.M23] * v[exports.M31];\r\n        t[exports.M22] = m[exports.M20] * v[exports.M02] + m[exports.M21] * v[exports.M12] + m[exports.M22] * v[exports.M22] + m[exports.M23] * v[exports.M32];\r\n        t[exports.M23] = m[exports.M20] * v[exports.M03] + m[exports.M21] * v[exports.M13] + m[exports.M22] * v[exports.M23] + m[exports.M23] * v[exports.M33];\r\n        t[exports.M30] = m[exports.M30] * v[exports.M00] + m[exports.M31] * v[exports.M10] + m[exports.M32] * v[exports.M20] + m[exports.M33] * v[exports.M30];\r\n        t[exports.M31] = m[exports.M30] * v[exports.M01] + m[exports.M31] * v[exports.M11] + m[exports.M32] * v[exports.M21] + m[exports.M33] * v[exports.M31];\r\n        t[exports.M32] = m[exports.M30] * v[exports.M02] + m[exports.M31] * v[exports.M12] + m[exports.M32] * v[exports.M22] + m[exports.M33] * v[exports.M32];\r\n        t[exports.M33] = m[exports.M30] * v[exports.M03] + m[exports.M31] * v[exports.M13] + m[exports.M32] * v[exports.M23] + m[exports.M33] * v[exports.M33];\r\n        return this.set(this.temp);\r\n    }\r\n    lookAt(position, direction, up) {\r\n        Matrix4.initTemps();\r\n        let xAxis = Matrix4.xAxis, yAxis = Matrix4.yAxis, zAxis = Matrix4.zAxis;\r\n        zAxis.setFrom(direction).normalize();\r\n        xAxis.setFrom(direction).normalize();\r\n        xAxis.cross(up).normalize();\r\n        yAxis.setFrom(xAxis).cross(zAxis).normalize();\r\n        this.identity();\r\n        let val = this.values;\r\n        val[exports.M00] = xAxis.x;\r\n        val[exports.M01] = xAxis.y;\r\n        val[exports.M02] = xAxis.z;\r\n        val[exports.M10] = yAxis.x;\r\n        val[exports.M11] = yAxis.y;\r\n        val[exports.M12] = yAxis.z;\r\n        val[exports.M20] = -zAxis.x;\r\n        val[exports.M21] = -zAxis.y;\r\n        val[exports.M22] = -zAxis.z;\r\n        Matrix4.tmpMatrix.identity();\r\n        Matrix4.tmpMatrix.values[exports.M03] = -position.x;\r\n        Matrix4.tmpMatrix.values[exports.M13] = -position.y;\r\n        Matrix4.tmpMatrix.values[exports.M23] = -position.z;\r\n        this.multiply(Matrix4.tmpMatrix);\r\n        return this;\r\n    }\r\n    static initTemps() {\r\n        if (Matrix4.xAxis === null)\r\n            Matrix4.xAxis = new Vector3_1.Vector3();\r\n        if (Matrix4.yAxis === null)\r\n            Matrix4.yAxis = new Vector3_1.Vector3();\r\n        if (Matrix4.zAxis === null)\r\n            Matrix4.zAxis = new Vector3_1.Vector3();\r\n    }\r\n}\r\nexports.Matrix4 = Matrix4;\r\nMatrix4.xAxis = null;\r\nMatrix4.yAxis = null;\r\nMatrix4.zAxis = null;\r\nMatrix4.tmpMatrix = new Matrix4();\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Color2Attribute = exports.ColorAttribute = exports.TexCoordAttribute = exports.Position3Attribute = exports.Position2Attribute = exports.VertexAttribute = exports.VertexAttributeType = exports.Mesh = void 0;\r\nconst Shader_1 = require(\"./Shader\");\r\nclass Mesh {\r\n    constructor(context, attributes, maxVertices, maxIndices) {\r\n        this.attributes = attributes;\r\n        this.verticesLength = 0;\r\n        this.dirtyVertices = false;\r\n        this.indicesLength = 0;\r\n        this.dirtyIndices = false;\r\n        this.elementsPerVertex = 0;\r\n        this.context = context;\r\n        this.elementsPerVertex = 0;\r\n        for (let i = 0; i < attributes.length; i++) {\r\n            this.elementsPerVertex += attributes[i].numElements;\r\n        }\r\n        this.vertices = new Float32Array(maxVertices * this.elementsPerVertex);\r\n        this.indices = new Uint16Array(maxIndices);\r\n    }\r\n    getAttributes() {\r\n        return this.attributes;\r\n    }\r\n    maxVertices() {\r\n        return this.vertices.length / this.elementsPerVertex;\r\n    }\r\n    numVertices() {\r\n        return this.verticesLength / this.elementsPerVertex;\r\n    }\r\n    setVerticesLength(length) {\r\n        this.dirtyVertices = true;\r\n        this.verticesLength = length;\r\n    }\r\n    getVertices() {\r\n        return this.vertices;\r\n    }\r\n    maxIndices() {\r\n        return this.indices.length;\r\n    }\r\n    numIndices() {\r\n        return this.indicesLength;\r\n    }\r\n    setIndicesLength(length) {\r\n        this.dirtyIndices = true;\r\n        this.indicesLength = length;\r\n    }\r\n    getIndices() {\r\n        return this.indices;\r\n    }\r\n    getVertexSizeInFloats() {\r\n        let size = 0;\r\n        for (var i = 0; i < this.attributes.length; i++) {\r\n            let attribute = this.attributes[i];\r\n            size += attribute.numElements;\r\n        }\r\n        return size;\r\n    }\r\n    setVertices(vertices) {\r\n        this.dirtyVertices = true;\r\n        if (vertices.length > this.vertices.length)\r\n            throw Error(\"Mesh can't store more than \" + this.maxVertices() + ' vertices');\r\n        this.vertices.set(vertices, 0);\r\n        this.verticesLength = vertices.length;\r\n    }\r\n    setIndices(indices) {\r\n        this.dirtyIndices = true;\r\n        if (indices.length > this.indices.length)\r\n            throw Error(\"Mesh can't store more than \" + this.maxIndices() + ' indices');\r\n        this.indices.set(indices, 0);\r\n        this.indicesLength = indices.length;\r\n    }\r\n    draw(shader, primitiveType) {\r\n        this.drawWithOffset(shader, primitiveType, 0, this.indicesLength > 0 ? this.indicesLength : this.verticesLength / this.elementsPerVertex);\r\n    }\r\n    drawWithOffset(shader, primitiveType, offset, count) {\r\n        let gl = this.context;\r\n        if (this.dirtyVertices || this.dirtyIndices)\r\n            this.update();\r\n        this.bind(shader);\r\n        if (this.indicesLength > 0) {\r\n            gl.drawElements(primitiveType, count, gl.UNSIGNED_SHORT, offset * 2);\r\n        }\r\n        else {\r\n            gl.drawArrays(primitiveType, offset, count);\r\n        }\r\n        this.unbind(shader);\r\n    }\r\n    bind(shader) {\r\n        let gl = this.context;\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.verticesBuffer);\r\n        let offset = 0;\r\n        for (let i = 0; i < this.attributes.length; i++) {\r\n            let attrib = this.attributes[i];\r\n            let location = shader.getAttributeLocation(attrib.name);\r\n            gl.enableVertexAttribArray(location);\r\n            gl.vertexAttribPointer(location, attrib.numElements, gl.FLOAT, false, this.elementsPerVertex * 4, offset * 4);\r\n            offset += attrib.numElements;\r\n        }\r\n        if (this.indicesLength > 0)\r\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\r\n    }\r\n    unbind(shader) {\r\n        let gl = this.context;\r\n        for (let i = 0; i < this.attributes.length; i++) {\r\n            let attrib = this.attributes[i];\r\n            let location = shader.getAttributeLocation(attrib.name);\r\n            gl.disableVertexAttribArray(location);\r\n        }\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n        if (this.indicesLength > 0)\r\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\r\n    }\r\n    update() {\r\n        let gl = this.context;\r\n        if (this.dirtyVertices) {\r\n            if (!this.verticesBuffer) {\r\n                this.verticesBuffer = gl.createBuffer();\r\n            }\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, this.verticesBuffer);\r\n            gl.bufferData(gl.ARRAY_BUFFER, this.vertices.subarray(0, this.verticesLength), gl.DYNAMIC_DRAW);\r\n            this.dirtyVertices = false;\r\n        }\r\n        if (this.dirtyIndices) {\r\n            if (!this.indicesBuffer) {\r\n                this.indicesBuffer = gl.createBuffer();\r\n            }\r\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\r\n            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indices.subarray(0, this.indicesLength), gl.DYNAMIC_DRAW);\r\n            this.dirtyIndices = false;\r\n        }\r\n    }\r\n    restore() {\r\n        this.verticesBuffer = null;\r\n        this.indicesBuffer = null;\r\n        this.update();\r\n    }\r\n    dispose() {\r\n        let gl = this.context;\r\n        gl.deleteBuffer(this.verticesBuffer);\r\n        gl.deleteBuffer(this.indicesBuffer);\r\n    }\r\n}\r\nexports.Mesh = Mesh;\r\nvar VertexAttributeType;\r\n(function (VertexAttributeType) {\r\n    VertexAttributeType[VertexAttributeType[\"Float\"] = 0] = \"Float\";\r\n})(VertexAttributeType = exports.VertexAttributeType || (exports.VertexAttributeType = {}));\r\nclass VertexAttribute {\r\n    constructor(name, type, numElements) {\r\n        this.name = name;\r\n        this.type = type;\r\n        this.numElements = numElements;\r\n    }\r\n}\r\nexports.VertexAttribute = VertexAttribute;\r\nclass Position2Attribute extends VertexAttribute {\r\n    constructor() {\r\n        super(Shader_1.Shader.POSITION, VertexAttributeType.Float, 2);\r\n    }\r\n}\r\nexports.Position2Attribute = Position2Attribute;\r\nclass Position3Attribute extends VertexAttribute {\r\n    constructor() {\r\n        super(Shader_1.Shader.POSITION, VertexAttributeType.Float, 3);\r\n    }\r\n}\r\nexports.Position3Attribute = Position3Attribute;\r\nclass TexCoordAttribute extends VertexAttribute {\r\n    constructor(unit = 0) {\r\n        super(Shader_1.Shader.TEXCOORDS + (unit === 0 ? '' : unit), VertexAttributeType.Float, 2);\r\n    }\r\n}\r\nexports.TexCoordAttribute = TexCoordAttribute;\r\nclass ColorAttribute extends VertexAttribute {\r\n    constructor() {\r\n        super(Shader_1.Shader.COLOR, VertexAttributeType.Float, 4);\r\n    }\r\n}\r\nexports.ColorAttribute = ColorAttribute;\r\nclass Color2Attribute extends VertexAttribute {\r\n    constructor() {\r\n        super(Shader_1.Shader.COLOR2, VertexAttributeType.Float, 4);\r\n    }\r\n}\r\nexports.Color2Attribute = Color2Attribute;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NumberUtil = void 0;\r\nconst int8 = new Int8Array(4);\r\nconst int32 = new Int32Array(int8.buffer, 0, 1);\r\nconst float32 = new Float32Array(int8.buffer, 0, 1);\r\nclass NumberUtil {\r\n    static intBitsToFloat(i) {\r\n        int32[0] = i;\r\n        return float32[0];\r\n    }\r\n    static floatToIntBits(f) {\r\n        float32[0] = f;\r\n        return int32[0];\r\n    }\r\n    static intToFloatColor(value) {\r\n        return NumberUtil.intBitsToFloat(value & 0xfeffffff);\r\n    }\r\n    static colorToFloat(r, g, b, a) {\r\n        const bits = (r << 24) | (g << 16) | (b << 8) | a;\r\n        return NumberUtil.intToFloatColor(bits);\r\n    }\r\n    static isPowerOfTwo(n) {\r\n        return (n & (n - 1)) === 0;\r\n    }\r\n    static nextPowerOfTwo(n) {\r\n        n--;\r\n        n |= n >> 1;\r\n        n |= n >> 2;\r\n        n |= n >> 4;\r\n        n |= n >> 8;\r\n        n |= n >> 16;\r\n        return n + 1;\r\n    }\r\n}\r\nexports.NumberUtil = NumberUtil;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PolygonBatch = void 0;\r\nconst Utils_1 = require(\"./Utils\");\r\nconst Mesh_1 = require(\"./Mesh\");\r\nconst Shader_1 = require(\"./Shader\");\r\n// prettier-ignore\r\nconst quad = [\r\n    0, 0, 1, 1, 1, 1, 0, 0,\r\n    0, 0, 1, 1, 1, 1, 0, 0,\r\n    0, 0, 1, 1, 1, 1, 0, 0,\r\n    0, 0, 1, 1, 1, 1, 0, 0,\r\n];\r\nconst WHITE = new Utils_1.Color(1, 1, 1, 1);\r\nclass PolygonBatch {\r\n    constructor(context, twoColorTint = true, maxVertices = 10920) {\r\n        this.isDrawing = false;\r\n        this.shader = null;\r\n        this.lastTexture = null;\r\n        this.verticesLength = 0;\r\n        this.indicesLength = 0;\r\n        this.projectionValues = new Float32Array(16);\r\n        this.color = WHITE;\r\n        this.twoColorTint = true;\r\n        this.yDown = false;\r\n        if (maxVertices > 10920)\r\n            throw new Error(\"Can't have more than 10920 triangles per batch: \" + maxVertices);\r\n        this.context = context;\r\n        let attributes = twoColorTint\r\n            ? [new Mesh_1.Position2Attribute(), new Mesh_1.ColorAttribute(), new Mesh_1.TexCoordAttribute(), new Mesh_1.Color2Attribute()]\r\n            : [new Mesh_1.Position2Attribute(), new Mesh_1.ColorAttribute(), new Mesh_1.TexCoordAttribute()];\r\n        this.mesh = new Mesh_1.Mesh(context, attributes, maxVertices, maxVertices * 3);\r\n        this.shader = Shader_1.Shader.newTwoColoredTextured(context);\r\n        let gl = this.context;\r\n        this.srcColorBlend = gl.SRC_ALPHA;\r\n        this.srcAlphaBlend = gl.ONE;\r\n        this.dstBlend = gl.ONE_MINUS_SRC_ALPHA;\r\n        this.twoColorTint = twoColorTint;\r\n    }\r\n    setColor(color) {\r\n        this.color = color;\r\n    }\r\n    setShader(shader) {\r\n        this.shader.dispose();\r\n        this.shader = shader;\r\n    }\r\n    setProjection(projectionValues) {\r\n        this.projectionValues = projectionValues;\r\n    }\r\n    begin() {\r\n        if (this.isDrawing)\r\n            throw new Error('PolygonBatch is already drawing. Call PolygonBatch.end() before calling PolygonBatch.begin()');\r\n        this.drawCalls = 0;\r\n        const shader = this.shader;\r\n        this.lastTexture = null;\r\n        this.isDrawing = true;\r\n        shader.bind();\r\n        shader.setUniform4x4f(Shader_1.Shader.MVP_MATRIX, this.projectionValues);\r\n        shader.setUniformi('u_texture', 0);\r\n        let gl = this.context;\r\n        gl.enable(gl.BLEND);\r\n        gl.blendFuncSeparate(this.srcColorBlend, this.dstBlend, this.srcAlphaBlend, this.dstBlend);\r\n    }\r\n    setBlendMode(srcColorBlend, srcAlphaBlend, dstBlend) {\r\n        if (this.srcColorBlend === srcColorBlend && this.srcAlphaBlend === srcAlphaBlend && this.dstBlend === dstBlend)\r\n            return;\r\n        this.srcColorBlend = srcColorBlend;\r\n        this.srcAlphaBlend = srcAlphaBlend;\r\n        this.dstBlend = dstBlend;\r\n        if (this.isDrawing) {\r\n            this.flush();\r\n            let gl = this.context;\r\n            gl.blendFuncSeparate(srcColorBlend, dstBlend, srcAlphaBlend, dstBlend);\r\n        }\r\n    }\r\n    drawVerticesWithOffset(texture, vertices, offset, count) {\r\n        const newVertices = [];\r\n        for (let i = 0; i < count; i++) {\r\n            newVertices[i] = vertices[i + offset];\r\n        }\r\n        this.drawVertices(texture, newVertices, PolygonBatch.QUAD_TRIANGLES);\r\n    }\r\n    drawVertices(texture, vertices, indices = PolygonBatch.QUAD_TRIANGLES) {\r\n        if (texture !== this.lastTexture) {\r\n            this.flush();\r\n            this.lastTexture = texture;\r\n        }\r\n        else if (this.verticesLength + vertices.length > this.mesh.getVertices().length ||\r\n            this.indicesLength + indices.length > this.mesh.getIndices().length) {\r\n            this.flush();\r\n        }\r\n        let indexStart = this.mesh.numVertices();\r\n        this.mesh.getVertices().set(vertices, this.verticesLength);\r\n        this.verticesLength += vertices.length;\r\n        this.mesh.setVerticesLength(this.verticesLength);\r\n        let indicesArray = this.mesh.getIndices();\r\n        for (let i = this.indicesLength, j = 0; j < indices.length; i++, j++)\r\n            indicesArray[i] = indices[j] + indexStart;\r\n        this.indicesLength += indices.length;\r\n        this.mesh.setIndicesLength(this.indicesLength);\r\n    }\r\n    flush() {\r\n        if (this.verticesLength === 0)\r\n            return;\r\n        this.lastTexture.bind();\r\n        this.mesh.draw(this.shader, this.context.TRIANGLES);\r\n        this.verticesLength = 0;\r\n        this.indicesLength = 0;\r\n        this.mesh.setVerticesLength(0);\r\n        this.mesh.setIndicesLength(0);\r\n        this.drawCalls++;\r\n    }\r\n    end() {\r\n        if (!this.isDrawing)\r\n            throw new Error('PolygonBatch is not drawing. Call PolygonBatch.begin() before calling PolygonBatch.end()');\r\n        if (this.verticesLength > 0 || this.indicesLength > 0)\r\n            this.flush();\r\n        this.shader.unbind();\r\n        this.lastTexture = null;\r\n        this.isDrawing = false;\r\n        let gl = this.context;\r\n        gl.disable(gl.BLEND);\r\n    }\r\n    getDrawCalls() {\r\n        return this.drawCalls;\r\n    }\r\n    dispose() {\r\n        this.mesh.dispose();\r\n    }\r\n    setYDown(yDown) {\r\n        this.yDown = yDown;\r\n    }\r\n    draw(texture, x, y, width, height, originX = 0, originY = 0, rotation = 0, scaleX = 1, scaleY = 1, ou1 = 0, ov1 = 1, ou2 = 1, ov2 = 0, rotate = false) {\r\n        const color = this.color;\r\n        if (this.yDown) {\r\n            const tmpV1 = ov1;\r\n            ov1 = ov2;\r\n            ov2 = tmpV1;\r\n        }\r\n        width = width === 0 ? width : width || texture.width;\r\n        height = height === 0 ? height : height || texture.height;\r\n        x = x || 0;\r\n        y = y || 0;\r\n        let x1 = -originX;\r\n        let x2 = width - originX;\r\n        let x3 = width - originX;\r\n        let x4 = -originX;\r\n        let y1 = -originY;\r\n        let y2 = -originY;\r\n        let y3 = height - originY;\r\n        let y4 = height - originY;\r\n        if (scaleX !== 1) {\r\n            x1 = x1 * scaleX;\r\n            x2 = x2 * scaleX;\r\n            x3 = x3 * scaleX;\r\n            x4 = x4 * scaleX;\r\n        }\r\n        if (scaleY !== 1) {\r\n            y1 = y1 * scaleY;\r\n            y2 = y2 * scaleY;\r\n            y3 = y3 * scaleY;\r\n            y4 = y4 * scaleY;\r\n        }\r\n        if (rotation !== 0) {\r\n            var cos = Math.cos(rotation);\r\n            var sin = Math.sin(rotation);\r\n            var rotatedX1 = cos * x1 - sin * y1;\r\n            var rotatedY1 = sin * x1 + cos * y1;\r\n            var rotatedX2 = cos * x2 - sin * y2;\r\n            var rotatedY2 = sin * x2 + cos * y2;\r\n            var rotatedX3 = cos * x3 - sin * y3;\r\n            var rotatedY3 = sin * x3 + cos * y3;\r\n            var rotatedX4 = cos * x4 - sin * y4;\r\n            var rotatedY4 = sin * x4 + cos * y4;\r\n            x1 = rotatedX1;\r\n            x2 = rotatedX2;\r\n            x3 = rotatedX3;\r\n            x4 = rotatedX4;\r\n            y1 = rotatedY1;\r\n            y2 = rotatedY2;\r\n            y3 = rotatedY3;\r\n            y4 = rotatedY4;\r\n        }\r\n        x1 += x + originX;\r\n        x2 += x + originX;\r\n        x3 += x + originX;\r\n        x4 += x + originX;\r\n        y1 += y + originY;\r\n        y2 += y + originY;\r\n        y3 += y + originY;\r\n        y4 += y + originY;\r\n        let u1 = ou1;\r\n        let v1 = ov1;\r\n        let u2 = ou2;\r\n        let v2 = ov2;\r\n        let u3 = u2;\r\n        let v3 = v1;\r\n        let u4 = u1;\r\n        let v4 = v2;\r\n        if (rotate) {\r\n            if (this.yDown) {\r\n                u1 = ou1;\r\n                v1 = ov2;\r\n                u2 = ou2;\r\n                v2 = ov1;\r\n                u3 = ou1;\r\n                v3 = ov1;\r\n                u4 = ou2;\r\n                v4 = ov2;\r\n            }\r\n            else {\r\n                u1 = ou2;\r\n                v1 = ov1;\r\n                u2 = ou1;\r\n                v2 = ov2;\r\n                u3 = ou2;\r\n                v3 = ov2;\r\n                u4 = ou1;\r\n                v4 = ov1;\r\n            }\r\n        }\r\n        var i = 0;\r\n        quad[i++] = x1;\r\n        quad[i++] = y1;\r\n        quad[i++] = color.r;\r\n        quad[i++] = color.g;\r\n        quad[i++] = color.b;\r\n        quad[i++] = color.a;\r\n        quad[i++] = u1;\r\n        quad[i++] = v1;\r\n        if (this.twoColorTint) {\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n        }\r\n        quad[i++] = x2;\r\n        quad[i++] = y2;\r\n        quad[i++] = color.r;\r\n        quad[i++] = color.g;\r\n        quad[i++] = color.b;\r\n        quad[i++] = color.a;\r\n        quad[i++] = u3;\r\n        quad[i++] = v3;\r\n        if (this.twoColorTint) {\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n        }\r\n        quad[i++] = x3;\r\n        quad[i++] = y3;\r\n        quad[i++] = color.r;\r\n        quad[i++] = color.g;\r\n        quad[i++] = color.b;\r\n        quad[i++] = color.a;\r\n        quad[i++] = u2;\r\n        quad[i++] = v2;\r\n        if (this.twoColorTint) {\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n        }\r\n        quad[i++] = x4;\r\n        quad[i++] = y4;\r\n        quad[i++] = color.r;\r\n        quad[i++] = color.g;\r\n        quad[i++] = color.b;\r\n        quad[i++] = color.a;\r\n        quad[i++] = u4;\r\n        quad[i++] = v4;\r\n        if (this.twoColorTint) {\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n            quad[i] = 0;\r\n        }\r\n        this.drawVertices(texture, quad, PolygonBatch.QUAD_TRIANGLES);\r\n    }\r\n}\r\nexports.PolygonBatch = PolygonBatch;\r\nPolygonBatch.QUAD_TRIANGLES = [0, 1, 2, 2, 3, 0];\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Shader = void 0;\r\nclass Shader {\r\n    constructor(context, vertexShader, fragmentShader) {\r\n        this.vertexShader = vertexShader;\r\n        this.fragmentShader = fragmentShader;\r\n        this.vs = null;\r\n        this.fs = null;\r\n        this.program = null;\r\n        this.tmp2x2 = new Float32Array(2 * 2);\r\n        this.tmp3x3 = new Float32Array(3 * 3);\r\n        this.tmp4x4 = new Float32Array(4 * 4);\r\n        this.vsSource = vertexShader;\r\n        this.fsSource = fragmentShader;\r\n        this.context = context;\r\n        this.compile();\r\n    }\r\n    getProgram() {\r\n        return this.program;\r\n    }\r\n    getVertexShader() {\r\n        return this.vertexShader;\r\n    }\r\n    getFragmentShader() {\r\n        return this.fragmentShader;\r\n    }\r\n    getVertexShaderSource() {\r\n        return this.vsSource;\r\n    }\r\n    getFragmentSource() {\r\n        return this.fsSource;\r\n    }\r\n    compile() {\r\n        let gl = this.context;\r\n        try {\r\n            this.vs = this.compileShader(gl.VERTEX_SHADER, this.vertexShader);\r\n            this.fs = this.compileShader(gl.FRAGMENT_SHADER, this.fragmentShader);\r\n            this.program = this.compileProgram(this.vs, this.fs);\r\n        }\r\n        catch (e) {\r\n            this.dispose();\r\n            throw e;\r\n        }\r\n    }\r\n    compileShader(type, source) {\r\n        let gl = this.context;\r\n        let shader = gl.createShader(type);\r\n        gl.shaderSource(shader, source);\r\n        gl.compileShader(shader);\r\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n            let error = \"Couldn't compile shader: \" + gl.getShaderInfoLog(shader);\r\n            gl.deleteShader(shader);\r\n            if (!gl.isContextLost())\r\n                throw new Error(error);\r\n        }\r\n        return shader;\r\n    }\r\n    compileProgram(vs, fs) {\r\n        let gl = this.context;\r\n        let program = gl.createProgram();\r\n        gl.attachShader(program, vs);\r\n        gl.attachShader(program, fs);\r\n        gl.linkProgram(program);\r\n        if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\r\n            let error = \"Couldn't compile shader program: \" + gl.getProgramInfoLog(program);\r\n            gl.deleteProgram(program);\r\n            if (!gl.isContextLost())\r\n                throw new Error(error);\r\n        }\r\n        return program;\r\n    }\r\n    restore() {\r\n        this.compile();\r\n    }\r\n    bind() {\r\n        this.context.useProgram(this.program);\r\n    }\r\n    unbind() {\r\n        this.context.useProgram(null);\r\n    }\r\n    setUniformi(uniform, value) {\r\n        this.context.uniform1i(this.getUniformLocation(uniform), value);\r\n    }\r\n    setUniformf(uniform, value) {\r\n        this.context.uniform1f(this.getUniformLocation(uniform), value);\r\n    }\r\n    setUniform2f(uniform, value, value2) {\r\n        this.context.uniform2f(this.getUniformLocation(uniform), value, value2);\r\n    }\r\n    setUniform3f(uniform, value, value2, value3) {\r\n        this.context.uniform3f(this.getUniformLocation(uniform), value, value2, value3);\r\n    }\r\n    setUniform4f(uniform, value, value2, value3, value4) {\r\n        this.context.uniform4f(this.getUniformLocation(uniform), value, value2, value3, value4);\r\n    }\r\n    setUniform2x2f(uniform, value) {\r\n        let gl = this.context;\r\n        this.tmp2x2.set(value);\r\n        gl.uniformMatrix2fv(this.getUniformLocation(uniform), false, this.tmp2x2);\r\n    }\r\n    setUniform3x3f(uniform, value) {\r\n        let gl = this.context;\r\n        this.tmp3x3.set(value);\r\n        gl.uniformMatrix3fv(this.getUniformLocation(uniform), false, this.tmp3x3);\r\n    }\r\n    setUniform4x4f(uniform, value) {\r\n        let gl = this.context;\r\n        this.tmp4x4.set(value);\r\n        gl.uniformMatrix4fv(this.getUniformLocation(uniform), false, this.tmp4x4);\r\n    }\r\n    getUniformLocation(uniform) {\r\n        let gl = this.context;\r\n        let location = gl.getUniformLocation(this.program, uniform);\r\n        if (!location && !gl.isContextLost())\r\n            throw new Error(`Couldn't find location for uniform ${uniform}`);\r\n        return location;\r\n    }\r\n    getAttributeLocation(attribute) {\r\n        let gl = this.context;\r\n        let location = gl.getAttribLocation(this.program, attribute);\r\n        if (location === -1 && !gl.isContextLost())\r\n            throw new Error(`Couldn't find location for attribute ${attribute}`);\r\n        return location;\r\n    }\r\n    dispose() {\r\n        let gl = this.context;\r\n        if (this.vs) {\r\n            gl.deleteShader(this.vs);\r\n            this.vs = null;\r\n        }\r\n        if (this.fs) {\r\n            gl.deleteShader(this.fs);\r\n            this.fs = null;\r\n        }\r\n        if (this.program) {\r\n            gl.deleteProgram(this.program);\r\n            this.program = null;\r\n        }\r\n    }\r\n    static newColoredTextured(context) {\r\n        let vs = `\r\n         attribute vec4 ${Shader.POSITION};\r\n         attribute vec4 ${Shader.COLOR};\r\n         attribute vec2 ${Shader.TEXCOORDS};\r\n         uniform mat4 ${Shader.MVP_MATRIX};\r\n         varying vec4 v_color;\r\n         varying vec2 v_texCoords;\r\n \r\n         void main () {\r\n           v_color = ${Shader.COLOR};\r\n           v_texCoords = ${Shader.TEXCOORDS};\r\n           gl_Position = ${Shader.MVP_MATRIX} * ${Shader.POSITION};\r\n         }\r\n       `;\r\n        let fs = `\r\n         #ifdef GL_ES\r\n           #define LOWP lowp\r\n           precision mediump float;\r\n         #else\r\n           #define LOWP\r\n         #endif\r\n         varying LOWP vec4 v_color;\r\n         varying vec2 v_texCoords;\r\n         uniform sampler2D u_texture;\r\n \r\n         void main () {\r\n           gl_FragColor = v_color * texture2D(u_texture, v_texCoords);\r\n         }\r\n       `;\r\n        return new Shader(context, vs, fs);\r\n    }\r\n    static newTwoColoredTextured(context) {\r\n        let vs = `\r\n         attribute vec4 ${Shader.POSITION};\r\n         attribute vec4 ${Shader.COLOR};\r\n         attribute vec4 ${Shader.COLOR2};\r\n         attribute vec2 ${Shader.TEXCOORDS};\r\n         uniform mat4 ${Shader.MVP_MATRIX};\r\n         varying vec4 v_light;\r\n         varying vec4 v_dark;\r\n         varying vec2 v_texCoords;\r\n \r\n         void main () {\r\n           v_light = ${Shader.COLOR};\r\n           v_dark = ${Shader.COLOR2};\r\n           v_texCoords = ${Shader.TEXCOORDS};\r\n           gl_Position = ${Shader.MVP_MATRIX} * ${Shader.POSITION};\r\n         }\r\n       `;\r\n        let fs = `\r\n         #ifdef GL_ES\r\n           #define LOWP lowp\r\n           precision mediump float;\r\n         #else\r\n           #define LOWP\r\n         #endif\r\n         varying LOWP vec4 v_light;\r\n         varying LOWP vec4 v_dark;\r\n         varying vec2 v_texCoords;\r\n         uniform sampler2D u_texture;\r\n \r\n         void main () {\r\n           vec4 texColor = texture2D(u_texture, v_texCoords);\r\n           gl_FragColor.a = texColor.a * v_light.a;\r\n           gl_FragColor.rgb = ((texColor.a - 1.0) * v_dark.a + 1.0 - texColor.rgb) * v_dark.rgb + texColor.rgb * v_light.rgb;\r\n         }\r\n       `;\r\n        return new Shader(context, vs, fs);\r\n    }\r\n    static newColored(context) {\r\n        let vs = `\r\n         attribute vec4 ${Shader.POSITION};\r\n         attribute vec4 ${Shader.COLOR};\r\n         uniform mat4 ${Shader.MVP_MATRIX};\r\n         varying vec4 v_color;\r\n \r\n         void main () {\r\n           v_color = ${Shader.COLOR};\r\n           gl_Position = ${Shader.MVP_MATRIX} * ${Shader.POSITION};\r\n         }\r\n       `;\r\n        let fs = `\r\n         #ifdef GL_ES\r\n           #define LOWP lowp\r\n           precision mediump float;\r\n         #else\r\n           #define LOWP\r\n         #endif\r\n         varying LOWP vec4 v_color;\r\n \r\n         void main () {\r\n           gl_FragColor = v_color;\r\n         }\r\n       `;\r\n        return new Shader(context, vs, fs);\r\n    }\r\n}\r\nexports.Shader = Shader;\r\nShader.MVP_MATRIX = 'u_projTrans';\r\nShader.POSITION = 'a_position';\r\nShader.COLOR = 'a_color';\r\nShader.COLOR2 = 'a_color2';\r\nShader.TEXCOORDS = 'a_texCoords';\r\nShader.SAMPLER = 'u_texture';\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ShapeRenderer = exports.ShapeType = void 0;\r\nconst Mesh_1 = require(\"./Mesh\");\r\nconst Shader_1 = require(\"./Shader\");\r\nconst Utils_1 = require(\"./Utils\");\r\nconst Vector2_1 = require(\"./Vector2\");\r\nvar ShapeType;\r\n(function (ShapeType) {\r\n    ShapeType[ShapeType[\"Point\"] = 0] = \"Point\";\r\n    ShapeType[ShapeType[\"Line\"] = 1] = \"Line\";\r\n    ShapeType[ShapeType[\"Filled\"] = 4] = \"Filled\";\r\n})(ShapeType = exports.ShapeType || (exports.ShapeType = {}));\r\nclass ShapeRenderer {\r\n    constructor(context, maxVertices = 10920) {\r\n        this.isDrawing = false;\r\n        this.shapeType = ShapeType.Filled;\r\n        this.color = new Utils_1.Color(1, 1, 1, 1);\r\n        this.vertexIndex = 0;\r\n        this.tmp = new Vector2_1.Vector2();\r\n        this.projectionValues = new Float32Array(16);\r\n        if (maxVertices > 10920)\r\n            throw new Error(\"Can't have more than 10920 triangles per batch: \" + maxVertices);\r\n        this.context = context;\r\n        this.mesh = new Mesh_1.Mesh(context, [new Mesh_1.Position2Attribute(), new Mesh_1.ColorAttribute()], maxVertices, 0);\r\n        let gl = this.context;\r\n        this.srcColorBlend = gl.SRC_ALPHA;\r\n        this.srcAlphaBlend = gl.ONE;\r\n        this.dstBlend = gl.ONE_MINUS_SRC_ALPHA;\r\n        this.shader = Shader_1.Shader.newColored(gl);\r\n    }\r\n    setProjection(projectionValues) {\r\n        this.projectionValues = projectionValues;\r\n    }\r\n    begin() {\r\n        if (this.isDrawing)\r\n            throw new Error('ShapeRenderer.begin() has already been called');\r\n        this.vertexIndex = 0;\r\n        this.isDrawing = true;\r\n        this.shader.bind();\r\n        this.shader.setUniform4x4f(Shader_1.Shader.MVP_MATRIX, this.projectionValues);\r\n        let gl = this.context;\r\n        gl.enable(gl.BLEND);\r\n        gl.blendFuncSeparate(this.srcColorBlend, this.dstBlend, this.srcAlphaBlend, this.dstBlend);\r\n    }\r\n    setBlendMode(srcColorBlend, srcAlphaBlend, dstBlend) {\r\n        this.srcColorBlend = srcColorBlend;\r\n        this.srcAlphaBlend = srcAlphaBlend;\r\n        this.dstBlend = dstBlend;\r\n        if (this.isDrawing) {\r\n            this.flush();\r\n            let gl = this.context;\r\n            gl.blendFuncSeparate(srcColorBlend, dstBlend, srcAlphaBlend, dstBlend);\r\n        }\r\n    }\r\n    setColor(color) {\r\n        this.color.setFromColor(color);\r\n    }\r\n    setColorWith(r, g, b, a) {\r\n        this.color.set(r, g, b, a);\r\n    }\r\n    point(x, y, color = null) {\r\n        this.check(ShapeType.Point, 1);\r\n        if (color === null)\r\n            color = this.color;\r\n        this.vertex(x, y, color);\r\n    }\r\n    line(x, y, x2, y2, color = null) {\r\n        this.check(ShapeType.Line, 2);\r\n        if (color === null)\r\n            color = this.color;\r\n        this.vertex(x, y, color);\r\n        this.vertex(x2, y2, color);\r\n    }\r\n    triangle(filled, x, y, x2, y2, x3, y3, color = null, color2 = null, color3 = null) {\r\n        this.check(filled ? ShapeType.Filled : ShapeType.Line, 3);\r\n        if (color === null)\r\n            color = this.color;\r\n        if (color2 === null)\r\n            color2 = this.color;\r\n        if (color3 === null)\r\n            color3 = this.color;\r\n        if (filled) {\r\n            this.vertex(x, y, color);\r\n            this.vertex(x2, y2, color2);\r\n            this.vertex(x3, y3, color3);\r\n        }\r\n        else {\r\n            this.vertex(x, y, color);\r\n            this.vertex(x2, y2, color2);\r\n            this.vertex(x2, y2, color);\r\n            this.vertex(x3, y3, color2);\r\n            this.vertex(x3, y3, color);\r\n            this.vertex(x, y, color2);\r\n        }\r\n    }\r\n    quad(filled, x, y, x2, y2, x3, y3, x4, y4, color = null, color2 = null, color3 = null, color4 = null) {\r\n        this.check(filled ? ShapeType.Filled : ShapeType.Line, 3);\r\n        if (color === null)\r\n            color = this.color;\r\n        if (color2 === null)\r\n            color2 = this.color;\r\n        if (color3 === null)\r\n            color3 = this.color;\r\n        if (color4 === null)\r\n            color4 = this.color;\r\n        if (filled) {\r\n            this.vertex(x, y, color);\r\n            this.vertex(x2, y2, color2);\r\n            this.vertex(x3, y3, color3);\r\n            this.vertex(x3, y3, color3);\r\n            this.vertex(x4, y4, color4);\r\n            this.vertex(x, y, color);\r\n        }\r\n        else {\r\n            this.vertex(x, y, color);\r\n            this.vertex(x2, y2, color2);\r\n            this.vertex(x2, y2, color2);\r\n            this.vertex(x3, y3, color3);\r\n            this.vertex(x3, y3, color3);\r\n            this.vertex(x4, y4, color4);\r\n            this.vertex(x4, y4, color4);\r\n            this.vertex(x, y, color);\r\n        }\r\n    }\r\n    rect(filled, x, y, width, height, color = null) {\r\n        this.quad(filled, x, y, x + width, y, x + width, y + height, x, y + height, color, color, color, color);\r\n    }\r\n    rectLine(filled, x1, y1, x2, y2, width, color = null) {\r\n        this.check(filled ? ShapeType.Filled : ShapeType.Line, 8);\r\n        if (color === null)\r\n            color = this.color;\r\n        let t = this.tmp.set(y2 - y1, x1 - x2);\r\n        t.nor();\r\n        width *= 0.5;\r\n        let tx = t.x * width;\r\n        let ty = t.y * width;\r\n        if (!filled) {\r\n            this.vertex(x1 + tx, y1 + ty, color);\r\n            this.vertex(x1 - tx, y1 - ty, color);\r\n            this.vertex(x2 + tx, y2 + ty, color);\r\n            this.vertex(x2 - tx, y2 - ty, color);\r\n            this.vertex(x2 + tx, y2 + ty, color);\r\n            this.vertex(x1 + tx, y1 + ty, color);\r\n            this.vertex(x2 - tx, y2 - ty, color);\r\n            this.vertex(x1 - tx, y1 - ty, color);\r\n        }\r\n        else {\r\n            this.vertex(x1 + tx, y1 + ty, color);\r\n            this.vertex(x1 - tx, y1 - ty, color);\r\n            this.vertex(x2 + tx, y2 + ty, color);\r\n            this.vertex(x2 - tx, y2 - ty, color);\r\n            this.vertex(x2 + tx, y2 + ty, color);\r\n            this.vertex(x1 - tx, y1 - ty, color);\r\n        }\r\n    }\r\n    x(x, y, size) {\r\n        this.line(x - size, y - size, x + size, y + size);\r\n        this.line(x - size, y + size, x + size, y - size);\r\n    }\r\n    polygon(polygonVertices, offset, count, color = null) {\r\n        if (count < 3)\r\n            throw new Error('Polygon must contain at least 3 vertices');\r\n        this.check(ShapeType.Line, count * 2);\r\n        if (color === null)\r\n            color = this.color;\r\n        offset <<= 1;\r\n        count <<= 1;\r\n        let firstX = polygonVertices[offset];\r\n        let firstY = polygonVertices[offset + 1];\r\n        let last = offset + count;\r\n        for (let i = offset, n = offset + count - 2; i < n; i += 2) {\r\n            let x1 = polygonVertices[i];\r\n            let y1 = polygonVertices[i + 1];\r\n            let x2 = 0;\r\n            let y2 = 0;\r\n            if (i + 2 >= last) {\r\n                x2 = firstX;\r\n                y2 = firstY;\r\n            }\r\n            else {\r\n                x2 = polygonVertices[i + 2];\r\n                y2 = polygonVertices[i + 3];\r\n            }\r\n            this.vertex(x1, y1, color);\r\n            this.vertex(x2, y2, color);\r\n        }\r\n    }\r\n    circle(filled, x, y, radius, color = null, segments = 0) {\r\n        if (segments === 0)\r\n            segments = Math.max(1, (6 * Utils_1.MathUtils.cbrt(radius)) | 0);\r\n        if (segments <= 0)\r\n            throw new Error('segments must be > 0.');\r\n        if (color === null)\r\n            color = this.color;\r\n        let angle = (2 * Utils_1.MathUtils.PI) / segments;\r\n        let cos = Math.cos(angle);\r\n        let sin = Math.sin(angle);\r\n        let cx = radius, cy = 0;\r\n        if (!filled) {\r\n            this.check(ShapeType.Line, segments * 2 + 2);\r\n            for (let i = 0; i < segments; i++) {\r\n                this.vertex(x + cx, y + cy, color);\r\n                let temp = cx;\r\n                cx = cos * cx - sin * cy;\r\n                cy = sin * temp + cos * cy;\r\n                this.vertex(x + cx, y + cy, color);\r\n            }\r\n            // Ensure the last segment is identical to the first.\r\n            this.vertex(x + cx, y + cy, color);\r\n        }\r\n        else {\r\n            this.check(ShapeType.Filled, segments * 3 + 3);\r\n            segments--;\r\n            for (let i = 0; i < segments; i++) {\r\n                this.vertex(x, y, color);\r\n                this.vertex(x + cx, y + cy, color);\r\n                let temp = cx;\r\n                cx = cos * cx - sin * cy;\r\n                cy = sin * temp + cos * cy;\r\n                this.vertex(x + cx, y + cy, color);\r\n            }\r\n            // Ensure the last segment is identical to the first.\r\n            this.vertex(x, y, color);\r\n            this.vertex(x + cx, y + cy, color);\r\n        }\r\n        cx = radius;\r\n        cy = 0;\r\n        this.vertex(x + cx, y + cy, color);\r\n    }\r\n    curve(x1, y1, cx1, cy1, cx2, cy2, x2, y2, segments, color = null) {\r\n        this.check(ShapeType.Line, segments * 2 + 2);\r\n        if (color === null)\r\n            color = this.color;\r\n        // Algorithm from: http://www.antigrain.com/research/bezier_interpolation/index.html#PAGE_BEZIER_INTERPOLATION\r\n        let subdiv_step = 1 / segments;\r\n        let subdiv_step2 = subdiv_step * subdiv_step;\r\n        let subdiv_step3 = subdiv_step * subdiv_step * subdiv_step;\r\n        let pre1 = 3 * subdiv_step;\r\n        let pre2 = 3 * subdiv_step2;\r\n        let pre4 = 6 * subdiv_step2;\r\n        let pre5 = 6 * subdiv_step3;\r\n        let tmp1x = x1 - cx1 * 2 + cx2;\r\n        let tmp1y = y1 - cy1 * 2 + cy2;\r\n        let tmp2x = (cx1 - cx2) * 3 - x1 + x2;\r\n        let tmp2y = (cy1 - cy2) * 3 - y1 + y2;\r\n        let fx = x1;\r\n        let fy = y1;\r\n        let dfx = (cx1 - x1) * pre1 + tmp1x * pre2 + tmp2x * subdiv_step3;\r\n        let dfy = (cy1 - y1) * pre1 + tmp1y * pre2 + tmp2y * subdiv_step3;\r\n        let ddfx = tmp1x * pre4 + tmp2x * pre5;\r\n        let ddfy = tmp1y * pre4 + tmp2y * pre5;\r\n        let dddfx = tmp2x * pre5;\r\n        let dddfy = tmp2y * pre5;\r\n        while (segments-- > 0) {\r\n            this.vertex(fx, fy, color);\r\n            fx += dfx;\r\n            fy += dfy;\r\n            dfx += ddfx;\r\n            dfy += ddfy;\r\n            ddfx += dddfx;\r\n            ddfy += dddfy;\r\n            this.vertex(fx, fy, color);\r\n        }\r\n        this.vertex(fx, fy, color);\r\n        this.vertex(x2, y2, color);\r\n    }\r\n    vertex(x, y, color) {\r\n        let idx = this.vertexIndex;\r\n        let vertices = this.mesh.getVertices();\r\n        vertices[idx++] = x;\r\n        vertices[idx++] = y;\r\n        vertices[idx++] = color.r;\r\n        vertices[idx++] = color.g;\r\n        vertices[idx++] = color.b;\r\n        vertices[idx++] = color.a;\r\n        this.vertexIndex = idx;\r\n    }\r\n    end() {\r\n        if (!this.isDrawing)\r\n            throw new Error('ShapeRenderer.begin() has not been called');\r\n        this.flush();\r\n        let gl = this.context;\r\n        gl.disable(gl.BLEND);\r\n        this.isDrawing = false;\r\n    }\r\n    flush() {\r\n        if (this.vertexIndex === 0)\r\n            return;\r\n        this.mesh.setVerticesLength(this.vertexIndex);\r\n        this.mesh.draw(this.shader, this.shapeType);\r\n        this.vertexIndex = 0;\r\n    }\r\n    check(shapeType, numVertices) {\r\n        if (!this.isDrawing)\r\n            throw new Error('ShapeRenderer.begin() has not been called');\r\n        if (this.shapeType === shapeType) {\r\n            if (this.mesh.maxVertices() - this.mesh.numVertices() < numVertices)\r\n                this.flush();\r\n            else\r\n                return;\r\n        }\r\n        else {\r\n            this.flush();\r\n            this.shapeType = shapeType;\r\n        }\r\n    }\r\n    dispose() {\r\n        this.mesh.dispose();\r\n    }\r\n}\r\nexports.ShapeRenderer = ShapeRenderer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Sprite = void 0;\r\nconst Utils_1 = require(\"./Utils\");\r\nconst Vector2_1 = require(\"./Vector2\");\r\n/* eslint-disable */\r\nconst X1 = 0;\r\nconst Y1 = 1;\r\nconst C1R = 2;\r\nconst C1G = 3;\r\nconst C1B = 4;\r\nconst C1A = 5;\r\nconst U1 = 6;\r\nconst V1 = 7;\r\nconst C1R2 = 8;\r\nconst C1G2 = 9;\r\nconst C1B2 = 10;\r\nconst C1A2 = 11;\r\nconst X2 = 12;\r\nconst Y2 = 13;\r\nconst C2R = 14;\r\nconst C2G = 15;\r\nconst C2B = 16;\r\nconst C2A = 17;\r\nconst U2 = 18;\r\nconst V2 = 19;\r\nconst C2R2 = 20;\r\nconst C2G2 = 21;\r\nconst C2B2 = 22;\r\nconst C2A2 = 23;\r\nconst X3 = 24;\r\nconst Y3 = 25;\r\nconst C3R = 26;\r\nconst C3G = 27;\r\nconst C3B = 28;\r\nconst C3A = 29;\r\nconst U3 = 30;\r\nconst V3 = 31;\r\nconst C3R2 = 32;\r\nconst C3G2 = 33;\r\nconst C3B2 = 34;\r\nconst C3A2 = 35;\r\nconst X4 = 36;\r\nconst Y4 = 37;\r\nconst C4R = 38;\r\nconst C4G = 39;\r\nconst C4B = 40;\r\nconst C4A = 41;\r\nconst U4 = 42;\r\nconst V4 = 43;\r\nconst C4R2 = 44;\r\nconst C4G2 = 45;\r\nconst C4B2 = 46;\r\nconst C4A2 = 47;\r\n/* eslint-enable */\r\n/**\r\n * An unoptimized version of Sprite. Always calculate all vertices, never update partially. Will improve later after refactoring the SpriteBatch.\r\n */\r\nclass Sprite {\r\n    constructor(region) {\r\n        this.region = region;\r\n        this.dirty = false;\r\n        this.position = new Vector2_1.Vector2(0, 0);\r\n        this.size = new Vector2_1.Vector2(0, 0);\r\n        this.origin = new Vector2_1.Vector2(0, 0);\r\n        this.scale = new Vector2_1.Vector2(1, 1);\r\n        this.color = new Utils_1.Color(1, 1, 1, 1);\r\n        this.rotation = 0;\r\n        this.vertices = new Float32Array(48);\r\n        this.bounds = {\r\n            x: 0,\r\n            y: 0,\r\n            width: 0,\r\n            height: 0\r\n        };\r\n        this.setSize(region.width, region.height);\r\n        this.setOrigin(region.width / 2, region.height / 2);\r\n    }\r\n    set(sprite) {\r\n        this.region = sprite.region;\r\n        this.position.setVector(sprite.position);\r\n        this.size.setVector(sprite.size);\r\n        this.origin.setVector(sprite.origin);\r\n        this.rotation = sprite.rotation;\r\n        this.scale.setVector(sprite.scale);\r\n        this.color.setFromColor(sprite.color);\r\n        this.dirty = true;\r\n    }\r\n    setBounds(x, y, width, height) {\r\n        this.setPosition(x, y);\r\n        this.setSize(x, y);\r\n        this.dirty = true;\r\n    }\r\n    setSize(width, height) {\r\n        this.size.set(width, height);\r\n        this.dirty = true;\r\n    }\r\n    setPosition(x, y) {\r\n        this.position.set(x, y);\r\n        this.dirty = true;\r\n    }\r\n    setOriginBasedPosition(x, y) {\r\n        this.setPosition(x - this.origin.x, y - this.origin.y);\r\n    }\r\n    setX(x) {\r\n        this.position.x = x;\r\n        this.dirty = true;\r\n    }\r\n    setY(y) {\r\n        this.position.y = y;\r\n        this.dirty = true;\r\n    }\r\n    /** Sets the x position so that it is centered on the given x parameter */\r\n    setCenterX(x) {\r\n        this.setX(x - this.size.x / 2);\r\n    }\r\n    /** Sets the y position so that it is centered on the given y parameter */\r\n    setCenterY(y) {\r\n        this.setY(y - this.size.y / 2);\r\n    }\r\n    /** Sets the position so that the sprite is centered on (x, y) */\r\n    setCenter(x, y) {\r\n        this.setPosition(x - this.size.x / 2, y - this.size.y / 2);\r\n    }\r\n    /** Sets the x position relative to the current position where the sprite will be drawn. If origin, rotation, or scale are\r\n     * changed, it is slightly more efficient to translate after those operations. */\r\n    translateX(xAmount) {\r\n        this.translate(xAmount, 0);\r\n    }\r\n    /** Sets the y position relative to the current position where the sprite will be drawn. If origin, rotation, or scale are\r\n     * changed, it is slightly more efficient to translate after those operations. */\r\n    translateY(yAmount) {\r\n        this.translate(0, yAmount);\r\n    }\r\n    translate(xAmount, yAmount) {\r\n        this.position.add(xAmount, yAmount);\r\n        this.dirty = true;\r\n    }\r\n    /** Sets the color used to tint this sprite. Default is {@link Color#WHITE}. */\r\n    setColor(tint) {\r\n        this.color.setFromColor(tint);\r\n        this.dirty = true;\r\n    }\r\n    /** Sets the alpha portion of the color used to tint this sprite. */\r\n    setAlpha(a) {\r\n        this.color.a = a;\r\n        this.dirty = true;\r\n    }\r\n    /** Sets the origin in relation to the sprite's position for scaling and rotation. */\r\n    setOrigin(originX, originY) {\r\n        this.origin.set(originX, originY);\r\n        this.dirty = true;\r\n    }\r\n    /** Place origin in the center of the sprite */\r\n    setOriginCenter() {\r\n        this.origin.set(this.size.x / 2, this.size.y / 2);\r\n        this.dirty = true;\r\n    }\r\n    setRotation(rad) {\r\n        this.rotation = rad;\r\n        this.dirty = true;\r\n    }\r\n    getRotation() {\r\n        return this.rotation;\r\n    }\r\n    rotate(rad) {\r\n        if (rad === 0)\r\n            return;\r\n        this.rotation += rad;\r\n        this.dirty = true;\r\n    }\r\n    /** Sets the sprite's scale for both X and Y. The sprite scales out from the origin. This will not affect the values returned\r\n     * by {@link #getWidth()} and {@link #getHeight()} */\r\n    setScale(scaleX, scaleY) {\r\n        this.scale.set(scaleX, scaleY);\r\n        this.dirty = true;\r\n    }\r\n    /** Sets the sprite's scale relative to the current scale. for example: original scale 2 -> sprite.scale(4) -> final scale 6.\r\n     * The sprite scales out from the origin. This will not affect the values returned by {@link #getWidth()} and\r\n     * {@link #getHeight()} */\r\n    applyScale(amount) {\r\n        this.scale.scale(amount);\r\n        this.dirty = true;\r\n    }\r\n    /** Returns the packed vertices, colors, and texture coordinates for this sprite. */\r\n    getVertices(yDown = false) {\r\n        const { vertices, region } = this;\r\n        if (!this.dirty) {\r\n            return vertices;\r\n        }\r\n        let x = this.position.x;\r\n        let y = this.position.y;\r\n        let width = this.size.x;\r\n        let height = this.size.y;\r\n        let originX = this.origin.x;\r\n        let originY = this.origin.y;\r\n        let rotation = this.rotation;\r\n        let scaleX = this.scale.x;\r\n        let scaleY = this.scale.y;\r\n        let ou1 = region.u;\r\n        let ov1 = region.v;\r\n        let ou2 = region.u2;\r\n        let ov2 = region.v2;\r\n        const color = this.color;\r\n        let rotate = region.rotated;\r\n        const xRatio = width / region.originalWidth;\r\n        const yRatio = height / region.originalHeight;\r\n        const drawWidth = region.width * xRatio;\r\n        const drawHeight = region.height * yRatio;\r\n        const drawX = x + region.offsetX * xRatio;\r\n        let drawY = 0;\r\n        if (yDown) {\r\n            drawY = y + height - region.offsetY * yRatio - drawHeight;\r\n        }\r\n        else {\r\n            drawY = y + region.offsetY * yRatio;\r\n        }\r\n        x = drawX;\r\n        y = drawY;\r\n        width = drawWidth;\r\n        height = drawHeight;\r\n        if (yDown) {\r\n            const tmpV1 = ov1;\r\n            ov1 = ov2;\r\n            ov2 = tmpV1;\r\n        }\r\n        let x1 = -originX;\r\n        let x2 = width - originX;\r\n        let x3 = width - originX;\r\n        let x4 = -originX;\r\n        let y1 = -originY;\r\n        let y2 = -originY;\r\n        let y3 = height - originY;\r\n        let y4 = height - originY;\r\n        if (scaleX !== 1) {\r\n            x1 = x1 * scaleX;\r\n            x2 = x2 * scaleX;\r\n            x3 = x3 * scaleX;\r\n            x4 = x4 * scaleX;\r\n        }\r\n        if (scaleY !== 1) {\r\n            y1 = y1 * scaleY;\r\n            y2 = y2 * scaleY;\r\n            y3 = y3 * scaleY;\r\n            y4 = y4 * scaleY;\r\n        }\r\n        if (rotation !== 0) {\r\n            var cos = Math.cos(rotation);\r\n            var sin = Math.sin(rotation);\r\n            var rotatedX1 = cos * x1 - sin * y1;\r\n            var rotatedY1 = sin * x1 + cos * y1;\r\n            var rotatedX2 = cos * x2 - sin * y2;\r\n            var rotatedY2 = sin * x2 + cos * y2;\r\n            var rotatedX3 = cos * x3 - sin * y3;\r\n            var rotatedY3 = sin * x3 + cos * y3;\r\n            var rotatedX4 = cos * x4 - sin * y4;\r\n            var rotatedY4 = sin * x4 + cos * y4;\r\n            x1 = rotatedX1;\r\n            x2 = rotatedX2;\r\n            x3 = rotatedX3;\r\n            x4 = rotatedX4;\r\n            y1 = rotatedY1;\r\n            y2 = rotatedY2;\r\n            y3 = rotatedY3;\r\n            y4 = rotatedY4;\r\n        }\r\n        x1 += x + originX;\r\n        x2 += x + originX;\r\n        x3 += x + originX;\r\n        x4 += x + originX;\r\n        y1 += y + originY;\r\n        y2 += y + originY;\r\n        y3 += y + originY;\r\n        y4 += y + originY;\r\n        let u1 = ou1;\r\n        let v1 = ov1;\r\n        let u2 = ou2;\r\n        let v2 = ov2;\r\n        let u3 = u2;\r\n        let v3 = v1;\r\n        let u4 = u1;\r\n        let v4 = v2;\r\n        if (rotate) {\r\n            if (yDown) {\r\n                u1 = ou1;\r\n                v1 = ov2;\r\n                u2 = ou2;\r\n                v2 = ov1;\r\n                u3 = ou1;\r\n                v3 = ov1;\r\n                u4 = ou2;\r\n                v4 = ov2;\r\n            }\r\n            else {\r\n                u1 = ou2;\r\n                v1 = ov1;\r\n                u2 = ou1;\r\n                v2 = ov2;\r\n                u3 = ou2;\r\n                v3 = ov2;\r\n                u4 = ou1;\r\n                v4 = ov1;\r\n            }\r\n        }\r\n        var i = 0;\r\n        vertices[i++] = x1;\r\n        vertices[i++] = y1;\r\n        vertices[i++] = color.r;\r\n        vertices[i++] = color.g;\r\n        vertices[i++] = color.b;\r\n        vertices[i++] = color.a;\r\n        vertices[i++] = u1;\r\n        vertices[i++] = v1;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = x2;\r\n        vertices[i++] = y2;\r\n        vertices[i++] = color.r;\r\n        vertices[i++] = color.g;\r\n        vertices[i++] = color.b;\r\n        vertices[i++] = color.a;\r\n        vertices[i++] = u3;\r\n        vertices[i++] = v3;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = x3;\r\n        vertices[i++] = y3;\r\n        vertices[i++] = color.r;\r\n        vertices[i++] = color.g;\r\n        vertices[i++] = color.b;\r\n        vertices[i++] = color.a;\r\n        vertices[i++] = u2;\r\n        vertices[i++] = v2;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = x4;\r\n        vertices[i++] = y4;\r\n        vertices[i++] = color.r;\r\n        vertices[i++] = color.g;\r\n        vertices[i++] = color.b;\r\n        vertices[i++] = color.a;\r\n        vertices[i++] = u4;\r\n        vertices[i++] = v4;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i] = 0;\r\n        return vertices;\r\n    }\r\n    /** Returns the bounding axis aligned {@link Rectangle} that bounds this sprite. The rectangles x and y coordinates describe\r\n     * its bottom left corner. If you change the position or size of the sprite, you have to fetch the triangle again for it to be\r\n     * recomputed.\r\n     *\r\n     * @return the bounding Rectangle */\r\n    getBoundingRectangle() {\r\n        const vertices = this.vertices;\r\n        let minx = vertices[X1];\r\n        let miny = vertices[Y1];\r\n        let maxx = vertices[X1];\r\n        let maxy = vertices[Y1];\r\n        minx = minx > vertices[X2] ? vertices[X2] : minx;\r\n        minx = minx > vertices[X3] ? vertices[X3] : minx;\r\n        minx = minx > vertices[X4] ? vertices[X4] : minx;\r\n        maxx = maxx < vertices[X2] ? vertices[X2] : maxx;\r\n        maxx = maxx < vertices[X3] ? vertices[X3] : maxx;\r\n        maxx = maxx < vertices[X4] ? vertices[X4] : maxx;\r\n        miny = miny > vertices[Y2] ? vertices[Y2] : miny;\r\n        miny = miny > vertices[Y3] ? vertices[Y3] : miny;\r\n        miny = miny > vertices[Y4] ? vertices[Y4] : miny;\r\n        maxy = maxy < vertices[Y2] ? vertices[Y2] : maxy;\r\n        maxy = maxy < vertices[Y3] ? vertices[Y3] : maxy;\r\n        maxy = maxy < vertices[Y4] ? vertices[Y4] : maxy;\r\n        this.bounds.x = minx;\r\n        this.bounds.y = miny;\r\n        this.bounds.width = maxx - minx;\r\n        this.bounds.height = maxy - miny;\r\n        return this.bounds;\r\n    }\r\n    draw(batch) {\r\n        batch.drawVertices(this.region.texture, this.getVertices(batch.yDown));\r\n    }\r\n    drawWithAlpha(batch, alphaModulation) {\r\n        const oldAlpha = this.getColor().a;\r\n        this.setAlpha(oldAlpha * alphaModulation);\r\n        this.draw(batch);\r\n        this.setAlpha(oldAlpha);\r\n    }\r\n    getX() {\r\n        return this.position.x;\r\n    }\r\n    getY() {\r\n        return this.position.y;\r\n    }\r\n    /** @return the width of the sprite, not accounting for scale. */\r\n    getWidth() {\r\n        return this.size.x;\r\n    }\r\n    /** @return the height of the sprite, not accounting for scale. */\r\n    getHeight() {\r\n        return this.size.y;\r\n    }\r\n    /** The origin influences {@link #setPosition(float, float)}, {@link #setRotation(float)} and the expansion direction of\r\n     * scaling {@link #setScale(float, float)} */\r\n    getOriginX() {\r\n        return this.origin.x;\r\n    }\r\n    /** The origin influences {@link #setPosition(float, float)}, {@link #setRotation(float)} and the expansion direction of\r\n     * scaling {@link #setScale(float, float)} */\r\n    getOriginY() {\r\n        return this.origin.y;\r\n    }\r\n    /** X scale of the sprite, independent of size set by {@link #setSize(float, float)} */\r\n    getScaleX() {\r\n        return this.scale.x;\r\n    }\r\n    /** Y scale of the sprite, independent of size set by {@link #setSize(float, float)} */\r\n    getScaleY() {\r\n        return this.scale.y;\r\n    }\r\n    /** Returns the color of this sprite. If the returned instance is manipulated, {@link #setColor(Color)} must be called\r\n     * afterward. */\r\n    getColor() {\r\n        return this.color;\r\n    }\r\n}\r\nexports.Sprite = Sprite;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Texture = exports.TextureWrap = exports.TextureFilter = void 0;\r\nvar TextureFilter;\r\n(function (TextureFilter) {\r\n    TextureFilter[TextureFilter[\"Nearest\"] = 9728] = \"Nearest\";\r\n    TextureFilter[TextureFilter[\"Linear\"] = 9729] = \"Linear\";\r\n    TextureFilter[TextureFilter[\"MipMap\"] = 9987] = \"MipMap\";\r\n    TextureFilter[TextureFilter[\"MipMapNearestNearest\"] = 9984] = \"MipMapNearestNearest\";\r\n    TextureFilter[TextureFilter[\"MipMapLinearNearest\"] = 9985] = \"MipMapLinearNearest\";\r\n    TextureFilter[TextureFilter[\"MipMapNearestLinear\"] = 9986] = \"MipMapNearestLinear\";\r\n    TextureFilter[TextureFilter[\"MipMapLinearLinear\"] = 9987] = \"MipMapLinearLinear\"; // WebGLRenderingContext.LINEAR_MIPMAP_LINEAR\r\n})(TextureFilter = exports.TextureFilter || (exports.TextureFilter = {}));\r\nvar TextureWrap;\r\n(function (TextureWrap) {\r\n    TextureWrap[TextureWrap[\"MirroredRepeat\"] = 33648] = \"MirroredRepeat\";\r\n    TextureWrap[TextureWrap[\"ClampToEdge\"] = 33071] = \"ClampToEdge\";\r\n    TextureWrap[TextureWrap[\"Repeat\"] = 10497] = \"Repeat\"; // WebGLRenderingContext.REPEAT\r\n})(TextureWrap = exports.TextureWrap || (exports.TextureWrap = {}));\r\nclass Texture {\r\n    constructor(context, image, useMipMaps = false) {\r\n        this.texture = null;\r\n        this.boundUnit = 0;\r\n        this.useMipMaps = false;\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this._image = image;\r\n        this.context = context;\r\n        this.useMipMaps = useMipMaps;\r\n        this.restore();\r\n        this.width = image.width;\r\n        this.height = image.height;\r\n    }\r\n    getImage() {\r\n        return this._image;\r\n    }\r\n    static load(gl, url, useMipmaps = false) {\r\n        return new Promise(resolve => {\r\n            const image = new Image();\r\n            image.onload = () => {\r\n                resolve(new Texture(gl, image, useMipmaps));\r\n            };\r\n            image.src = url;\r\n        });\r\n    }\r\n    getWebGLTexture() {\r\n        return this.texture;\r\n    }\r\n    setFilters(minFilter, magFilter) {\r\n        let gl = this.context;\r\n        this.bind();\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, minFilter);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, Texture.validateMagFilter(magFilter));\r\n    }\r\n    static validateMagFilter(magFilter) {\r\n        switch (magFilter) {\r\n            case TextureFilter.MipMap:\r\n            case TextureFilter.MipMapLinearLinear:\r\n            case TextureFilter.MipMapLinearNearest:\r\n            case TextureFilter.MipMapNearestLinear:\r\n            case TextureFilter.MipMapNearestNearest:\r\n                return TextureFilter.Linear;\r\n            default:\r\n                return magFilter;\r\n        }\r\n    }\r\n    setWraps(uWrap, vWrap) {\r\n        let gl = this.context;\r\n        this.bind();\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, uWrap);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, vWrap);\r\n    }\r\n    update(useMipMaps) {\r\n        let gl = this.context;\r\n        if (!this.texture)\r\n            this.texture = this.context.createTexture();\r\n        this.bind();\r\n        if (Texture.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL)\r\n            gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this._image);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, useMipMaps ? gl.LINEAR_MIPMAP_LINEAR : gl.LINEAR);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n        if (useMipMaps)\r\n            gl.generateMipmap(gl.TEXTURE_2D);\r\n    }\r\n    restore() {\r\n        this.texture = null;\r\n        this.update(this.useMipMaps);\r\n    }\r\n    bind(unit = 0) {\r\n        let gl = this.context;\r\n        this.boundUnit = unit;\r\n        gl.activeTexture(gl.TEXTURE0 + unit);\r\n        gl.bindTexture(gl.TEXTURE_2D, this.texture);\r\n    }\r\n    unbind() {\r\n        let gl = this.context;\r\n        gl.activeTexture(gl.TEXTURE0 + this.boundUnit);\r\n        gl.bindTexture(gl.TEXTURE_2D, null);\r\n    }\r\n    dispose() {\r\n        let gl = this.context;\r\n        gl.deleteTexture(this.texture);\r\n    }\r\n}\r\nexports.Texture = Texture;\r\nTexture.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL = false;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TextureAtlas = void 0;\r\nconst Texture_1 = require(\"./Texture\");\r\nconst TextureRegion_1 = require(\"./TextureRegion\");\r\nfunction concatAndResolveUrl(url, concat) {\r\n    let url1 = url.split('/');\r\n    let url2 = concat.split('/');\r\n    let url3 = [];\r\n    for (let i = 0, l = url1.length; i < l; i++) {\r\n        if (url1[i] === '..') {\r\n            url3.pop();\r\n        }\r\n        else if (url1[i] === '.') {\r\n            continue;\r\n        }\r\n        else {\r\n            url3.push(url1[i]);\r\n        }\r\n    }\r\n    for (let i = 0, l = url2.length; i < l; i++) {\r\n        if (url2[i] === '..') {\r\n            url3.pop();\r\n        }\r\n        else if (url2[i] === '.') {\r\n            continue;\r\n        }\r\n        else {\r\n            url3.push(url2[i]);\r\n        }\r\n    }\r\n    return url3.join('/');\r\n}\r\nclass TextureAtlas {\r\n    constructor(pages, regions) {\r\n        this.pages = pages;\r\n        this.regions = regions;\r\n    }\r\n    dispose() {\r\n        for (let page of this.pages) {\r\n            page.dispose();\r\n        }\r\n    }\r\n    getPages() {\r\n        return this.pages;\r\n    }\r\n    getRegions() {\r\n        return this.regions;\r\n    }\r\n    findRegion(name, index) {\r\n        for (let i = 0; i < this.regions.length; i++) {\r\n            let region = this.regions[i];\r\n            if (region.name !== name)\r\n                continue;\r\n            if (index !== undefined && region.index !== index)\r\n                continue;\r\n            return region;\r\n        }\r\n        return null;\r\n    }\r\n    findRegions(name) {\r\n        return this.regions.filter(region => region.name === name).sort((a, b) => a.index - b.index);\r\n    }\r\n    static load(gl, packFileUrl, textureOptions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const packFileContent = yield fetch(packFileUrl).then(res => res.text());\r\n            const pageData = [];\r\n            const pages = [];\r\n            const regionsData = [];\r\n            let pageImage;\r\n            const lines = packFileContent.split(/\\r?\\n/);\r\n            let i = 0;\r\n            let tuple;\r\n            while (true) {\r\n                let line = lines[i];\r\n                if (line === undefined) {\r\n                    break;\r\n                }\r\n                if (line.trim().length === 0) {\r\n                    pageImage = null;\r\n                }\r\n                else if (pageImage === null) {\r\n                    const file = concatAndResolveUrl(packFileUrl, `../${line}`);\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    const width = parseInt(tuple[0], 10);\r\n                    const height = parseInt(tuple[1], 10);\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    const format = tuple[0];\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    const [min, max] = tuple;\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    const direction = tuple[0];\r\n                    let repeatX = Texture_1.TextureWrap.ClampToEdge;\r\n                    let repeatY = Texture_1.TextureWrap.ClampToEdge;\r\n                    if (direction === 'x') {\r\n                        repeatX = Texture_1.TextureWrap.Repeat;\r\n                    }\r\n                    else if (direction === 'y') {\r\n                        repeatY = Texture_1.TextureWrap.Repeat;\r\n                    }\r\n                    else if (direction === 'xy') {\r\n                        repeatX = Texture_1.TextureWrap.Repeat;\r\n                        repeatY = Texture_1.TextureWrap.Repeat;\r\n                    }\r\n                    const mipMaps = min !== 'Nearest' && min !== 'Linear';\r\n                    pageImage = {\r\n                        file,\r\n                        width,\r\n                        height,\r\n                        format,\r\n                        mipMaps,\r\n                        min,\r\n                        max,\r\n                        direction,\r\n                        repeatX,\r\n                        repeatY\r\n                    };\r\n                    pageData.push(pageImage);\r\n                }\r\n                else {\r\n                    const name = line;\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    const rotate = tuple[0] === 'true';\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    const left = parseInt(tuple[0], 10);\r\n                    const top = parseInt(tuple[1], 10);\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    const width = parseInt(tuple[0], 10);\r\n                    const height = parseInt(tuple[1], 10);\r\n                    const region = {\r\n                        name,\r\n                        rotate,\r\n                        left,\r\n                        top,\r\n                        width,\r\n                        height,\r\n                        page: pageImage\r\n                    };\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    if (tuple.length === 4) {\r\n                        region.splits = tuple.map(i => parseInt(i, 10));\r\n                        i++;\r\n                        line = lines[i];\r\n                        tuple = line\r\n                            .split(':')[1]\r\n                            .split(',')\r\n                            .map(s => s.trim());\r\n                        if (tuple.length === 4) {\r\n                            region.pads = tuple.map(i => parseInt(i, 10));\r\n                            i++;\r\n                            line = lines[i];\r\n                            tuple = line\r\n                                .split(':')[1]\r\n                                .split(',')\r\n                                .map(s => s.trim());\r\n                        }\r\n                    }\r\n                    region.originalWidth = parseInt(tuple[0], 10);\r\n                    region.originalHeight = parseInt(tuple[1], 10);\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    region.offsetX = parseInt(tuple[0], 10);\r\n                    region.offsetY = parseInt(tuple[1], 10);\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    region.index = parseInt(tuple[0], 10);\r\n                    regionsData.push(region);\r\n                }\r\n                i++;\r\n            }\r\n            for (let page of pageData) {\r\n                page.texture = yield Texture_1.Texture.load(gl, page.file, textureOptions);\r\n                page.invTexWidth = 1 / page.texture.width;\r\n                page.invTexHeight = 1 / page.texture.height;\r\n            }\r\n            const regions = [];\r\n            for (let regionData of regionsData) {\r\n                const { left: x, top: y } = regionData;\r\n                const width = regionData.rotate ? regionData.height : regionData.width;\r\n                const height = regionData.rotate ? regionData.width : regionData.height;\r\n                const { texture, invTexWidth, invTexHeight } = regionData.page;\r\n                regions.push(new TextureRegion_1.TextureRegion(texture, x, y, width, height, regionData, invTexWidth, invTexHeight, regionData.rotate));\r\n            }\r\n            return new TextureAtlas(pages, regions);\r\n        });\r\n    }\r\n}\r\nexports.TextureAtlas = TextureAtlas;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TextureRegion = void 0;\r\nclass TextureRegion {\r\n    constructor(tex, x, y, width, height, extraData, invTexWidth, invTexHeight, rotate = false) {\r\n        this.name = null;\r\n        this.index = 0;\r\n        this.texture = null;\r\n        this.regionX = 0;\r\n        this.regionY = 0;\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this.invTexWidth = 0;\r\n        this.invTexHeight = 0;\r\n        this.originalWidth = 0;\r\n        this.originalHeight = 0;\r\n        this.offsetX = 0;\r\n        this.offsetY = 0;\r\n        this.u = 0;\r\n        this.v = 0;\r\n        this.u2 = 0;\r\n        this.v2 = 0;\r\n        this.rotated = false;\r\n        if (!invTexWidth || !invTexHeight) {\r\n            invTexWidth = 1 / tex.width;\r\n            invTexHeight = 1 / tex.height;\r\n        }\r\n        const u = x * invTexWidth;\r\n        const v = (y + height) * invTexHeight;\r\n        const u2 = (x + width) * invTexWidth;\r\n        const v2 = y * invTexHeight;\r\n        this.texture = tex;\r\n        this.regionX = x;\r\n        this.regionY = y;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.originalWidth = width;\r\n        this.originalHeight = height;\r\n        this.offsetX = 0;\r\n        this.offsetY = 0;\r\n        this.u = u;\r\n        this.v = v;\r\n        this.u2 = u2;\r\n        this.v2 = v2;\r\n        this.rotated = rotate;\r\n        for (let key in extraData) {\r\n            this[key] = extraData[key];\r\n        }\r\n    }\r\n    static splitTexture(texture, cols, rows) {\r\n        const { width, height } = texture;\r\n        const regionWidth = width / cols;\r\n        const regionHeight = height / rows;\r\n        const regions = [];\r\n        for (let y = 0; y < rows; y++) {\r\n            for (let x = 0; x < cols; x++) {\r\n                regions.push(new TextureRegion(texture, x * regionWidth, y * regionHeight, regionWidth, regionHeight, {}));\r\n            }\r\n        }\r\n        return regions;\r\n    }\r\n    draw(batch, x, y, width, height, originX = 0, originY = 0, rotation = 0, scaleX = 1, scaleY = 1) {\r\n        const { originalWidth, originalHeight, offsetX, offsetY, width: regionWidth, height: regionHeight } = this;\r\n        const xRatio = width / originalWidth;\r\n        const yRatio = height / originalHeight;\r\n        const drawWidth = regionWidth * xRatio;\r\n        const drawHeight = regionHeight * yRatio;\r\n        const drawX = x + offsetX * xRatio;\r\n        let drawY = 0;\r\n        if (batch.yDown) {\r\n            drawY = y + height - offsetY * yRatio - drawHeight;\r\n        }\r\n        else {\r\n            drawY = y + offsetY * yRatio;\r\n        }\r\n        originX = originX - (drawX - x);\r\n        originY = originY - (drawY - y);\r\n        batch.draw(this.texture, drawX, drawY, drawWidth, drawHeight, originX, originY, rotation, scaleX, scaleY, this.u, this.v, this.u2, this.v2, this.rotated);\r\n    }\r\n}\r\nexports.TextureRegion = TextureRegion;\r\n","\"use strict\";\r\nvar _a;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.copyArray = exports.createStage = exports.pointInRect = exports.resizeCanvas = exports.createGameLoop = exports.WindowedMean = exports.TimeKeeper = exports.Pools = exports.Pool = exports.Utils = exports.PowOut = exports.Pow = exports.Interpolation = exports.MathUtils = exports.Color = exports.StringSet = exports.IntSet = exports.Align = void 0;\r\nclass Align {\r\n    static isLeft(align) {\r\n        return (align & this.left) !== 0;\r\n    }\r\n    static isRight(align) {\r\n        return (align & this.right) !== 0;\r\n    }\r\n    static isTop(align) {\r\n        return (align & this.top) !== 0;\r\n    }\r\n    static isBottom(align) {\r\n        return (align & this.bottom) !== 0;\r\n    }\r\n    static isCenterVertical(align) {\r\n        return (align & this.top) === 0 && (align & this.bottom) === 0;\r\n    }\r\n    static isCenterHorizontal(align) {\r\n        return (align & this.left) === 0 && (align & this.right) === 0;\r\n    }\r\n}\r\nexports.Align = Align;\r\n_a = Align;\r\nAlign.center = 1 << 0;\r\nAlign.top = 1 << 1;\r\nAlign.bottom = 1 << 2;\r\nAlign.left = 1 << 3;\r\nAlign.right = 1 << 4;\r\nAlign.topLeft = _a.top | _a.left;\r\nAlign.topRight = _a.top | _a.right;\r\nAlign.bottomLeft = _a.bottom | _a.left;\r\nAlign.bottomRight = _a.bottom | _a.right;\r\nclass IntSet {\r\n    constructor() {\r\n        this.array = new Array();\r\n    }\r\n    add(value) {\r\n        let contains = this.contains(value);\r\n        this.array[value | 0] = value | 0;\r\n        return !contains;\r\n    }\r\n    contains(value) {\r\n        return this.array[value | 0] !== undefined;\r\n    }\r\n    remove(value) {\r\n        this.array[value | 0] = undefined;\r\n    }\r\n    clear() {\r\n        this.array.length = 0;\r\n    }\r\n}\r\nexports.IntSet = IntSet;\r\nclass StringSet {\r\n    constructor() {\r\n        this.entries = {};\r\n        this.size = 0;\r\n    }\r\n    add(value) {\r\n        let contains = this.entries[value];\r\n        this.entries[value] = true;\r\n        if (!contains) {\r\n            this.size++;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    addAll(values) {\r\n        let oldSize = this.size;\r\n        for (var i = 0, n = values.length; i < n; i++)\r\n            this.add(values[i]);\r\n        return oldSize !== this.size;\r\n    }\r\n    contains(value) {\r\n        return this.entries[value];\r\n    }\r\n    clear() {\r\n        this.entries = {};\r\n        this.size = 0;\r\n    }\r\n}\r\nexports.StringSet = StringSet;\r\nclass Color {\r\n    constructor(r = 0, g = 0, b = 0, a = 0) {\r\n        this.r = r;\r\n        this.g = g;\r\n        this.b = b;\r\n        this.a = a;\r\n    }\r\n    unsafeSet(r, g, b, a) {\r\n        this.r = r;\r\n        this.g = g;\r\n        this.b = b;\r\n        this.a = a;\r\n    }\r\n    set(r, g, b, a) {\r\n        this.r = r;\r\n        this.g = g;\r\n        this.b = b;\r\n        this.a = a;\r\n        return this.clamp();\r\n    }\r\n    setFromColor(c) {\r\n        this.r = c.r;\r\n        this.g = c.g;\r\n        this.b = c.b;\r\n        this.a = c.a;\r\n        return this;\r\n    }\r\n    setFromString(hex) {\r\n        hex = hex.charAt(0) === '#' ? hex.substring(1) : hex;\r\n        this.r = parseInt(hex.substring(0, 2), 16) / 255;\r\n        this.g = parseInt(hex.substring(2, 4), 16) / 255;\r\n        this.b = parseInt(hex.substring(4, 6), 16) / 255;\r\n        this.a = hex.length !== 8 ? 1 : parseInt(hex.substring(6, 8), 16) / 255;\r\n        return this;\r\n    }\r\n    add(r, g, b, a) {\r\n        this.r += r;\r\n        this.g += g;\r\n        this.b += b;\r\n        this.a += a;\r\n        return this.clamp();\r\n    }\r\n    clamp() {\r\n        if (this.r < 0)\r\n            this.r = 0;\r\n        else if (this.r > 1)\r\n            this.r = 1;\r\n        if (this.g < 0)\r\n            this.g = 0;\r\n        else if (this.g > 1)\r\n            this.g = 1;\r\n        if (this.b < 0)\r\n            this.b = 0;\r\n        else if (this.b > 1)\r\n            this.b = 1;\r\n        if (this.a < 0)\r\n            this.a = 0;\r\n        else if (this.a > 1)\r\n            this.a = 1;\r\n        return this;\r\n    }\r\n    toIntBits() {\r\n        return ((255 * this.a) << 24) | ((255 * this.b) << 16) | ((255 * this.g) << 8) | (255 * this.r);\r\n    }\r\n    static rgba8888ToColor(color, value) {\r\n        color.r = ((value & 0xff000000) >>> 24) / 255;\r\n        color.g = ((value & 0x00ff0000) >>> 16) / 255;\r\n        color.b = ((value & 0x0000ff00) >>> 8) / 255;\r\n        color.a = (value & 0x000000ff) / 255;\r\n    }\r\n    static rgb888ToColor(color, value) {\r\n        color.r = ((value & 0x00ff0000) >>> 16) / 255;\r\n        color.g = ((value & 0x0000ff00) >>> 8) / 255;\r\n        color.b = (value & 0x000000ff) / 255;\r\n    }\r\n    static fromString(hex) {\r\n        return new Color().setFromString(hex);\r\n    }\r\n}\r\nexports.Color = Color;\r\nColor.WHITE = new Color(1, 1, 1, 1);\r\nColor.RED = new Color(1, 0, 0, 1);\r\nColor.GREEN = new Color(0, 1, 0, 1);\r\nColor.BLUE = new Color(0, 0, 1, 1);\r\nColor.MAGENTA = new Color(1, 0, 1, 1);\r\nclass MathUtils {\r\n    static clamp(value, min, max) {\r\n        if (value < min)\r\n            return min;\r\n        if (value > max)\r\n            return max;\r\n        return value;\r\n    }\r\n    static cosDeg(degrees) {\r\n        return Math.cos(degrees * MathUtils.degRad);\r\n    }\r\n    static sinDeg(degrees) {\r\n        return Math.sin(degrees * MathUtils.degRad);\r\n    }\r\n    static signum(value) {\r\n        return value > 0 ? 1 : value < 0 ? -1 : 0;\r\n    }\r\n    static toInt(x) {\r\n        return x > 0 ? Math.floor(x) : Math.ceil(x);\r\n    }\r\n    static cbrt(x) {\r\n        let y = Math.pow(Math.abs(x), 1 / 3);\r\n        return x < 0 ? -y : y;\r\n    }\r\n    static randomTriangular(min, max) {\r\n        return MathUtils.randomTriangularWith(min, max, (min + max) * 0.5);\r\n    }\r\n    static randomTriangularWith(min, max, mode) {\r\n        let u = Math.random();\r\n        let d = max - min;\r\n        if (u <= (mode - min) / d)\r\n            return min + Math.sqrt(u * d * (mode - min));\r\n        return max - Math.sqrt((1 - u) * d * (max - mode));\r\n    }\r\n    static isPowerOfTwo(value) {\r\n        return value && (value & (value - 1)) === 0;\r\n    }\r\n}\r\nexports.MathUtils = MathUtils;\r\nMathUtils.PI = 3.1415927;\r\nMathUtils.PI2 = MathUtils.PI * 2;\r\nMathUtils.radiansToDegrees = 180 / MathUtils.PI;\r\nMathUtils.radDeg = MathUtils.radiansToDegrees;\r\nMathUtils.degreesToRadians = MathUtils.PI / 180;\r\nMathUtils.degRad = MathUtils.degreesToRadians;\r\nclass Interpolation {\r\n    apply(start, end, a) {\r\n        return start + (end - start) * this.applyInternal(a);\r\n    }\r\n}\r\nexports.Interpolation = Interpolation;\r\nclass Pow extends Interpolation {\r\n    constructor(power) {\r\n        super();\r\n        this.power = 2;\r\n        this.power = power;\r\n    }\r\n    applyInternal(a) {\r\n        if (a <= 0.5)\r\n            return Math.pow(a * 2, this.power) / 2;\r\n        return Math.pow((a - 1) * 2, this.power) / (this.power % 2 === 0 ? -2 : 2) + 1;\r\n    }\r\n}\r\nexports.Pow = Pow;\r\nclass PowOut extends Pow {\r\n    // constructor(power: number) {\r\n    //   super(power);\r\n    // }\r\n    applyInternal(a) {\r\n        return Math.pow(a - 1, this.power) * (this.power % 2 === 0 ? -1 : 1) + 1;\r\n    }\r\n}\r\nexports.PowOut = PowOut;\r\nclass Utils {\r\n    static arrayCopy(source, sourceStart, dest, destStart, numElements) {\r\n        for (let i = sourceStart, j = destStart; i < sourceStart + numElements; i++, j++) {\r\n            dest[j] = source[i];\r\n        }\r\n    }\r\n    static arrayFill(array, fromIndex, toIndex, value) {\r\n        for (let i = fromIndex; i < toIndex; i++)\r\n            array[i] = value;\r\n    }\r\n    static setArraySize(array, size, value = 0) {\r\n        let oldSize = array.length;\r\n        if (oldSize === size)\r\n            return array;\r\n        array.length = size;\r\n        if (oldSize < size) {\r\n            for (let i = oldSize; i < size; i++)\r\n                array[i] = value;\r\n        }\r\n        return array;\r\n    }\r\n    static ensureArrayCapacity(array, size, value = 0) {\r\n        if (array.length >= size)\r\n            return array;\r\n        return Utils.setArraySize(array, size, value);\r\n    }\r\n    static newArray(size, defaultValue) {\r\n        let array = new Array(size);\r\n        for (let i = 0; i < size; i++)\r\n            array[i] = defaultValue;\r\n        return array;\r\n    }\r\n    static newFloatArray(size) {\r\n        if (Utils.SUPPORTS_TYPED_ARRAYS)\r\n            return new Float32Array(size);\r\n        else {\r\n            let array = new Array(size);\r\n            for (let i = 0; i < array.length; i++)\r\n                array[i] = 0;\r\n            return array;\r\n        }\r\n    }\r\n    static newShortArray(size) {\r\n        if (Utils.SUPPORTS_TYPED_ARRAYS)\r\n            return new Int16Array(size);\r\n        else {\r\n            let array = new Array(size);\r\n            for (let i = 0; i < array.length; i++)\r\n                array[i] = 0;\r\n            return array;\r\n        }\r\n    }\r\n    static toFloatArray(array) {\r\n        return Utils.SUPPORTS_TYPED_ARRAYS ? new Float32Array(array) : array;\r\n    }\r\n    static toSinglePrecision(value) {\r\n        return Utils.SUPPORTS_TYPED_ARRAYS ? Math.fround(value) : value;\r\n    }\r\n    static contains(array, element, identity = true) {\r\n        for (var i = 0; i < array.length; i++)\r\n            if (array[i] === element)\r\n                return true;\r\n        return false;\r\n    }\r\n    static enumValue(type, name) {\r\n        return type[name[0].toUpperCase() + name.slice(1)];\r\n    }\r\n}\r\nexports.Utils = Utils;\r\nUtils.SUPPORTS_TYPED_ARRAYS = typeof Float32Array !== 'undefined';\r\nclass Pool {\r\n    constructor(instantiator) {\r\n        this.items = new Array();\r\n        if (instantiator) {\r\n            this.instantiator = instantiator;\r\n        }\r\n        else {\r\n            this.instantiator = () => ({});\r\n        }\r\n    }\r\n    obtain() {\r\n        const item = this.items.length > 0 ? this.items.pop() : this.instantiator();\r\n        return item;\r\n    }\r\n    free(item) {\r\n        if (item === null || item === void 0 ? void 0 : item.reset) {\r\n            item.reset();\r\n        }\r\n        this.items.push(item);\r\n    }\r\n    freeAll(items) {\r\n        for (let i = 0; i < items.length; i++)\r\n            this.free(items[i]);\r\n    }\r\n    clear() {\r\n        this.items.length = 0;\r\n    }\r\n}\r\nexports.Pool = Pool;\r\nclass Pools {\r\n    static free(name, object) {\r\n        if (this.pools[name]) {\r\n            this.pools[name].free(object);\r\n        }\r\n    }\r\n    static freeAll(name, objects) {\r\n        if (this.pools[name]) {\r\n            this.pools[name].freeAll(objects);\r\n        }\r\n    }\r\n    static get(name, instantiator) {\r\n        if (this.pools[name]) {\r\n            return this.pools[name];\r\n        }\r\n        this.pools[name] = new Pool(instantiator);\r\n        return this.pools[name];\r\n    }\r\n    static set(name, pool) {\r\n        this.pools[name] = pool;\r\n    }\r\n    static obtain(name, instantiator) {\r\n        return this.get(name, instantiator).obtain();\r\n    }\r\n}\r\nexports.Pools = Pools;\r\nPools.pools = {};\r\nclass TimeKeeper {\r\n    constructor() {\r\n        this.maxDelta = 0.064;\r\n        this.framesPerSecond = 0;\r\n        this.delta = 0;\r\n        this.totalTime = 0;\r\n        this.lastTime = Date.now() / 1000;\r\n        this.frameCount = 0;\r\n        this.frameTime = 0;\r\n    }\r\n    update() {\r\n        let now = Date.now() / 1000;\r\n        this.delta = now - this.lastTime;\r\n        this.frameTime += this.delta;\r\n        this.totalTime += this.delta;\r\n        if (this.delta > this.maxDelta)\r\n            this.delta = this.maxDelta;\r\n        this.lastTime = now;\r\n        this.frameCount++;\r\n        if (this.frameTime > 1) {\r\n            this.framesPerSecond = this.frameCount / this.frameTime;\r\n            this.frameTime = 0;\r\n            this.frameCount = 0;\r\n        }\r\n    }\r\n}\r\nexports.TimeKeeper = TimeKeeper;\r\nclass WindowedMean {\r\n    constructor(windowSize = 32) {\r\n        this.addedValues = 0;\r\n        this.lastValue = 0;\r\n        this.mean = 0;\r\n        this.dirty = true;\r\n        this.values = new Array(windowSize);\r\n    }\r\n    hasEnoughData() {\r\n        return this.addedValues >= this.values.length;\r\n    }\r\n    addValue(value) {\r\n        if (this.addedValues < this.values.length)\r\n            this.addedValues++;\r\n        this.values[this.lastValue++] = value;\r\n        if (this.lastValue > this.values.length - 1)\r\n            this.lastValue = 0;\r\n        this.dirty = true;\r\n    }\r\n    getMean() {\r\n        if (this.hasEnoughData()) {\r\n            if (this.dirty) {\r\n                let mean = 0;\r\n                for (let i = 0; i < this.values.length; i++)\r\n                    mean += this.values[i];\r\n                this.mean = mean / this.values.length;\r\n                this.dirty = false;\r\n            }\r\n            return this.mean;\r\n        }\r\n        return 0;\r\n    }\r\n}\r\nexports.WindowedMean = WindowedMean;\r\nconst createGameLoop = (update) => {\r\n    let lastUpdate = Date.now();\r\n    let fps = 0;\r\n    let running = true;\r\n    let requestId;\r\n    let frameInLastSecond = 0;\r\n    let elapsed = 0;\r\n    function loop() {\r\n        if (running) {\r\n            const delta = Date.now() - lastUpdate;\r\n            lastUpdate = Date.now();\r\n            frameInLastSecond++;\r\n            elapsed += delta;\r\n            if (elapsed >= 1000) {\r\n                fps = frameInLastSecond;\r\n                frameInLastSecond = 0;\r\n                elapsed -= 1000;\r\n            }\r\n            requestId = requestAnimationFrame(loop);\r\n            update(delta / 1000);\r\n        }\r\n    }\r\n    loop();\r\n    return {\r\n        isRunning: () => running,\r\n        start: () => {\r\n            if (!running) {\r\n                running = true;\r\n                loop();\r\n            }\r\n        },\r\n        stop: () => {\r\n            if (requestId) {\r\n                cancelAnimationFrame(requestId);\r\n            }\r\n            running = false;\r\n        },\r\n        getFps: () => fps\r\n    };\r\n};\r\nexports.createGameLoop = createGameLoop;\r\nconst resizeCanvas = (canvas, deviceRatio) => {\r\n    const devicePixelRatio = deviceRatio || window.devicePixelRatio || 1;\r\n    const displayWidth = canvas.clientWidth * devicePixelRatio;\r\n    const displayHeight = canvas.clientHeight * devicePixelRatio;\r\n    if (canvas.width !== displayWidth || canvas.height !== displayHeight) {\r\n        canvas.width = displayWidth;\r\n        canvas.height = displayHeight;\r\n    }\r\n    return [displayWidth, displayHeight];\r\n};\r\nexports.resizeCanvas = resizeCanvas;\r\nconst pointInRect = (pX, pY, x, y, width, height) => {\r\n    return pX > x && pX < x + width && pY > y && pY < y + height;\r\n};\r\nexports.pointInRect = pointInRect;\r\nconst createStage = (options) => {\r\n    const defaultOptions = {\r\n        hidden: false,\r\n        info: true\r\n    };\r\n    options = Object.assign(Object.assign({}, defaultOptions), options);\r\n    const wrapper = document.createElement('div');\r\n    wrapper.setAttribute('style', `position:fixed;top:0;left:0;right:0;bottom:0;`);\r\n    if (options.wrapperClassName) {\r\n        wrapper.className = options.wrapperClassName;\r\n    }\r\n    if (options.hidden) {\r\n        wrapper.style.display = 'none';\r\n    }\r\n    const canvas = document.createElement('canvas');\r\n    canvas.setAttribute('style', `width:100%;height:100%;`);\r\n    const info = document.createElement('div');\r\n    info.setAttribute('style', `position:absolute;top:1em;left:1em;color:white`);\r\n    if (!options.info) {\r\n        info.style.display = 'none';\r\n    }\r\n    wrapper.appendChild(canvas);\r\n    wrapper.appendChild(info);\r\n    document.body.appendChild(wrapper);\r\n    return {\r\n        getCanvas: () => canvas,\r\n        getInfo: () => info,\r\n        show: () => (wrapper.style.display = 'block'),\r\n        hide: () => (wrapper.style.display = 'none'),\r\n        cleanup: () => document.body.removeChild(wrapper)\r\n    };\r\n};\r\nexports.createStage = createStage;\r\nconst copyArray = (src, target, targetOffset = 0, srcOffset = 0, count = target.length) => {\r\n    for (let i = 0; i < count; i++) {\r\n        target[targetOffset + i] = src[srcOffset + i];\r\n    }\r\n};\r\nexports.copyArray = copyArray;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Vector2 = void 0;\r\nclass Vector2 {\r\n    constructor(x = 0, y = 0) {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    getX() {\r\n        return this.x;\r\n    }\r\n    getY() {\r\n        return this.y;\r\n    }\r\n    set(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n        return this;\r\n    }\r\n    setVector(v) {\r\n        return this.set(v.x, v.y);\r\n    }\r\n    add(x, y) {\r\n        this.x += x;\r\n        this.y += y;\r\n        return this;\r\n    }\r\n    addVector(v) {\r\n        return this.add(v.x, v.y);\r\n    }\r\n    sub(x, y) {\r\n        return this.add(-x, -y);\r\n    }\r\n    subVector(v) {\r\n        return this.sub(v.x, v.y);\r\n    }\r\n    scale(scalar) {\r\n        this.x *= scalar;\r\n        this.y *= scalar;\r\n        return this;\r\n    }\r\n    dot(v) {\r\n        return this.x * v.x + this.y * v.y;\r\n    }\r\n    distanceSqr(v) {\r\n        const deltaX = this.x - v.x;\r\n        const deltaY = this.y - v.y;\r\n        return deltaX * deltaX + deltaY * deltaY;\r\n    }\r\n    distance(v) {\r\n        return Math.sqrt(this.distanceSqr(v));\r\n    }\r\n    angle() {\r\n        return Math.atan2(this.y, this.x);\r\n    }\r\n    len2() {\r\n        return this.x * this.x + this.y * this.y;\r\n    }\r\n    len() {\r\n        return Math.sqrt(this.len2());\r\n    }\r\n    nor() {\r\n        const len = this.len();\r\n        if (len !== 0) {\r\n            this.x /= len;\r\n            this.y /= len;\r\n        }\r\n        return this;\r\n    }\r\n    rotateRad(rad) {\r\n        const cos = Math.cos(rad);\r\n        const sin = Math.sin(rad);\r\n        const newX = this.x * cos - this.y * sin;\r\n        const newY = this.x * sin + this.y * cos;\r\n        this.x = newX;\r\n        this.y = newY;\r\n        return this;\r\n    }\r\n    rotate(degrees) {\r\n        return this.rotateRad((degrees * Math.PI) / 180);\r\n    }\r\n    cpy() {\r\n        return new Vector2(this.x, this.y);\r\n    }\r\n}\r\nexports.Vector2 = Vector2;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Vector3 = void 0;\r\nconst Matrix4_1 = require(\"./Matrix4\");\r\nclass Vector3 {\r\n    constructor(x = 0, y = 0, z = 0) {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.z = 0;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n    setFrom(v) {\r\n        this.x = v.x;\r\n        this.y = v.y;\r\n        this.z = v.z;\r\n        return this;\r\n    }\r\n    set(x, y, z) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        return this;\r\n    }\r\n    add(v) {\r\n        this.x += v.x;\r\n        this.y += v.y;\r\n        this.z += v.z;\r\n        return this;\r\n    }\r\n    sub(v) {\r\n        this.x -= v.x;\r\n        this.y -= v.y;\r\n        this.z -= v.z;\r\n        return this;\r\n    }\r\n    scale(s) {\r\n        this.x *= s;\r\n        this.y *= s;\r\n        this.z *= s;\r\n        return this;\r\n    }\r\n    normalize() {\r\n        let len = this.length();\r\n        if (len === 0)\r\n            return this;\r\n        len = 1 / len;\r\n        this.x *= len;\r\n        this.y *= len;\r\n        this.z *= len;\r\n        return this;\r\n    }\r\n    cross(v) {\r\n        return this.set(this.y * v.z - this.z * v.y, this.z * v.x - this.x * v.z, this.x * v.y - this.y * v.x);\r\n    }\r\n    multiply(matrix) {\r\n        let l_mat = matrix.values;\r\n        return this.set(this.x * l_mat[Matrix4_1.M00] + this.y * l_mat[Matrix4_1.M01] + this.z * l_mat[Matrix4_1.M02] + l_mat[Matrix4_1.M03], this.x * l_mat[Matrix4_1.M10] + this.y * l_mat[Matrix4_1.M11] + this.z * l_mat[Matrix4_1.M12] + l_mat[Matrix4_1.M13], this.x * l_mat[Matrix4_1.M20] + this.y * l_mat[Matrix4_1.M21] + this.z * l_mat[Matrix4_1.M22] + l_mat[Matrix4_1.M23]);\r\n    }\r\n    project(matrix) {\r\n        let l_mat = matrix.values;\r\n        let l_w = 1 / (this.x * l_mat[Matrix4_1.M30] + this.y * l_mat[Matrix4_1.M31] + this.z * l_mat[Matrix4_1.M32] + l_mat[Matrix4_1.M33]);\r\n        return this.set((this.x * l_mat[Matrix4_1.M00] + this.y * l_mat[Matrix4_1.M01] + this.z * l_mat[Matrix4_1.M02] + l_mat[Matrix4_1.M03]) * l_w, (this.x * l_mat[Matrix4_1.M10] + this.y * l_mat[Matrix4_1.M11] + this.z * l_mat[Matrix4_1.M12] + l_mat[Matrix4_1.M13]) * l_w, (this.x * l_mat[Matrix4_1.M20] + this.y * l_mat[Matrix4_1.M21] + this.z * l_mat[Matrix4_1.M22] + l_mat[Matrix4_1.M23]) * l_w);\r\n    }\r\n    unproject(output, invMatrix, viewX, viewY, viewWidth, viewHeight) {\r\n        let { x, y, z } = this;\r\n        x = x - viewX;\r\n        y = viewHeight - y - 1;\r\n        y = y - viewY;\r\n        output.set((2 * x) / viewWidth - 1, (2 * y) / viewHeight - 1, 2 * z - 1);\r\n        output.project(invMatrix);\r\n        return output;\r\n    }\r\n    dot(v) {\r\n        return this.x * v.x + this.y * v.y + this.z * v.z;\r\n    }\r\n    length() {\r\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\r\n    }\r\n    distance(v) {\r\n        let a = v.x - this.x;\r\n        let b = v.y - this.y;\r\n        let c = v.z - this.z;\r\n        return Math.sqrt(a * a + b * b + c * c);\r\n    }\r\n}\r\nexports.Vector3 = Vector3;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createViewport = void 0;\r\nconst Camera_1 = require(\"./Camera\");\r\nconst Utils_1 = require(\"./Utils\");\r\nconst createViewport = (canvas, width, height, options) => {\r\n    const defaultOptions = {\r\n        autoUpdate: true,\r\n        pixelRatio: undefined,\r\n        crop: true\r\n    };\r\n    options = Object.assign(Object.assign({}, defaultOptions), options);\r\n    let contextOption;\r\n    if (options.disablePremultipliedAlpha) {\r\n        contextOption = {\r\n            premultipliedAlpha: false\r\n        };\r\n    }\r\n    contextOption = Object.assign(Object.assign({}, contextOption), options.contextOption);\r\n    const gl = canvas.getContext('webgl2', contextOption);\r\n    const additionalCameras = [];\r\n    let { autoUpdate, pixelRatio, crop } = options;\r\n    pixelRatio = pixelRatio || window.devicePixelRatio || 1;\r\n    const viewportInfo = {\r\n        pixelRatio,\r\n        x: 0,\r\n        y: 0,\r\n        width,\r\n        height,\r\n        worldWidth: width,\r\n        worldHeight: height\r\n    };\r\n    let resizeHandler;\r\n    const [vWidth, vHeight] = (0, Utils_1.resizeCanvas)(canvas, pixelRatio);\r\n    const camera = new Camera_1.OrthoCamera(width, height, vWidth, vHeight);\r\n    if (autoUpdate) {\r\n        resizeHandler = e => {\r\n            viewportObject.update();\r\n        };\r\n        window.addEventListener('resize', resizeHandler);\r\n    }\r\n    const viewportObject = {\r\n        getViewportInfo() {\r\n            return viewportInfo;\r\n        },\r\n        getCamera() {\r\n            return camera;\r\n        },\r\n        addCamera(camera) {\r\n            additionalCameras.push(camera);\r\n        },\r\n        getContext() {\r\n            return gl;\r\n        },\r\n        getCanvas() {\r\n            return canvas;\r\n        },\r\n        update() {\r\n            let [vWidth, vHeight] = (0, Utils_1.resizeCanvas)(canvas, pixelRatio);\r\n            const ratio = width / height;\r\n            const vRatio = vWidth / vHeight;\r\n            if (crop) {\r\n                let displayWidth, displayHeight;\r\n                if (ratio < vRatio) {\r\n                    displayHeight = vHeight;\r\n                    displayWidth = vHeight * ratio;\r\n                }\r\n                else {\r\n                    displayWidth = vWidth;\r\n                    displayHeight = vWidth / ratio;\r\n                }\r\n                const displayX = (vWidth - displayWidth) / 2;\r\n                const displayY = (vHeight - displayHeight) / 2;\r\n                viewportInfo.x = displayX;\r\n                viewportInfo.y = displayY;\r\n                viewportInfo.width = displayWidth;\r\n                viewportInfo.height = displayHeight;\r\n                gl.viewport(displayX, displayY, displayWidth, displayHeight);\r\n                camera.setPosition(width / 2, height / 2);\r\n                camera.resize(width, height, displayWidth, displayHeight);\r\n                for (let camera of additionalCameras) {\r\n                    camera.setPosition(width / 2, height / 2);\r\n                    camera.resize(width, height, displayWidth, displayHeight);\r\n                }\r\n            }\r\n            else {\r\n                viewportInfo.x = 0;\r\n                viewportInfo.y = 0;\r\n                viewportInfo.width = vWidth;\r\n                viewportInfo.height = vHeight;\r\n                gl.viewport(0, 0, vWidth, vHeight);\r\n                let cameraWidth, cameraHeight, cameraX, cameraY;\r\n                if (ratio < vRatio) {\r\n                    cameraHeight = height;\r\n                    cameraWidth = cameraHeight * vRatio;\r\n                    cameraX = -(cameraWidth - width) / 2;\r\n                    cameraY = 0;\r\n                }\r\n                else {\r\n                    cameraWidth = width;\r\n                    cameraHeight = cameraWidth / vRatio;\r\n                    cameraX = 0;\r\n                    cameraY = -(cameraHeight - height) / 2;\r\n                }\r\n                camera.setPosition(cameraX + cameraWidth / 2, cameraY + cameraHeight / 2);\r\n                camera.resize(cameraWidth, cameraHeight, vWidth, vHeight);\r\n                for (let camera of additionalCameras) {\r\n                    camera.setPosition(cameraX + cameraWidth / 2, cameraY + cameraHeight / 2);\r\n                    camera.resize(cameraWidth, cameraHeight, vWidth, vHeight);\r\n                }\r\n            }\r\n        },\r\n        cleanUp() {\r\n            if (resizeHandler) {\r\n                window.removeEventListener('resize', resizeHandler);\r\n            }\r\n        }\r\n    };\r\n    autoUpdate && viewportObject.update();\r\n    return viewportObject;\r\n};\r\nexports.createViewport = createViewport;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ViewportInputHandler = void 0;\r\nconst InputHandler_1 = require(\"./InputHandler\");\r\nconst Vector2_1 = require(\"./Vector2\");\r\nconst createViewportAwareInputListener = (handler, viewport) => {\r\n    return (x, y) => {\r\n        const { x: vX, y: vY, pixelRatio } = viewport.getViewportInfo();\r\n        x = x * pixelRatio - vX;\r\n        y = y * pixelRatio - vY;\r\n        handler(x, y);\r\n    };\r\n};\r\nclass ViewportInputHandler {\r\n    constructor(viewport) {\r\n        this.screenCoord = new Vector2_1.Vector2();\r\n        this.worldCoord = new Vector2_1.Vector2();\r\n        this.viewport = viewport;\r\n        this.canvas = viewport.getCanvas();\r\n        this.inputHandler = new InputHandler_1.InputHandler(this.canvas);\r\n    }\r\n    isTouched() {\r\n        return this.inputHandler.isTouched();\r\n    }\r\n    cleanup() {\r\n        this.inputHandler.cleanup();\r\n    }\r\n    addEventListener(event, listener) {\r\n        this.inputHandler.addEventListener(event, createViewportAwareInputListener(listener, this.viewport));\r\n    }\r\n    getX() {\r\n        const { x: vX, pixelRatio } = this.viewport.getViewportInfo();\r\n        return this.inputHandler.getX() * pixelRatio - vX;\r\n    }\r\n    getY() {\r\n        const { y: vY, pixelRatio } = this.viewport.getViewportInfo();\r\n        return this.inputHandler.getY() * pixelRatio - vY;\r\n    }\r\n    getTouchedWorldCoord(camera) {\r\n        if (!camera) {\r\n            camera = this.viewport.getCamera();\r\n        }\r\n        this.screenCoord.set(this.getX(), this.getY());\r\n        camera.unprojectVector2(this.worldCoord, this.screenCoord);\r\n        return this.worldCoord;\r\n    }\r\n}\r\nexports.ViewportInputHandler = ViewportInputHandler;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./Animation\"), exports);\r\n__exportStar(require(\"./AssetManager\"), exports);\r\n__exportStar(require(\"./BitmapFont\"), exports);\r\n__exportStar(require(\"./BitmapFontCache\"), exports);\r\n__exportStar(require(\"./BitmapFontData\"), exports);\r\n__exportStar(require(\"./BoundingBox\"), exports);\r\n__exportStar(require(\"./Camera\"), exports);\r\n__exportStar(require(\"./Game\"), exports);\r\n__exportStar(require(\"./Glyph\"), exports);\r\n__exportStar(require(\"./GlyphLayout\"), exports);\r\n__exportStar(require(\"./GlyphRun\"), exports);\r\n__exportStar(require(\"./InputHandler\"), exports);\r\n__exportStar(require(\"./Matrix4\"), exports);\r\n__exportStar(require(\"./Mesh\"), exports);\r\n__exportStar(require(\"./NumberUtils\"), exports);\r\n__exportStar(require(\"./PolygonBatcher\"), exports);\r\n__exportStar(require(\"./Shader\"), exports);\r\n__exportStar(require(\"./Sprite\"), exports);\r\n__exportStar(require(\"./ShapeRenderer\"), exports);\r\n__exportStar(require(\"./Texture\"), exports);\r\n__exportStar(require(\"./TextureAtlas\"), exports);\r\n__exportStar(require(\"./TextureRegion\"), exports);\r\n__exportStar(require(\"./Utils\"), exports);\r\n__exportStar(require(\"./Vector2\"), exports);\r\n__exportStar(require(\"./Vector3\"), exports);\r\n__exportStar(require(\"./Viewport\"), exports);\r\n__exportStar(require(\"./ViewportInputHandler\"), exports);\r\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nmodule.exports = _createForOfIteratorHelper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\n\nvar possibleConstructorReturn = require(\"./possibleConstructorReturn.js\");\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nmodule.exports = _createSuper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\n\nfunction _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\n\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nexport default function _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  };\n\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import {\r\n  createGameLoop,\r\n  createStage,\r\n  createViewport,\r\n  PolygonBatch,\r\n  Texture,\r\n  BitmapFont,\r\n  BitmapFontData,\r\n  Color,\r\n} from \"gdxts\";\r\n\r\nconst ROWS = 24;\r\nconst COLS = 12;\r\nconst GAME_WIDTH = 1500;\r\nconst GAME_HEIGHT = 2000;\r\n\r\nexport const init = async () => {\r\n  const stage = createStage();\r\n  const canvas = stage.getCanvas();\r\n  const viewport = createViewport(canvas, GAME_WIDTH, GAME_HEIGHT);\r\n  const gl = viewport.getContext();\r\n\r\n  const data = new BitmapFontData(\"./1231231.fnt\", true);\r\n  await data.loadFont(gl);\r\n  data.setScale(3, 3);\r\n  const font = new BitmapFont(data, data.regions, true);\r\n\r\n  const batch = new PolygonBatch(gl);\r\n  const camera = viewport.getCamera();\r\n  batch.setYDown(true);\r\n  camera.setYDown(true);\r\n\r\n  const bgRight = await Texture.load(gl, \"./bg1.png\");\r\n  const block = await Texture.load(gl, \"./borderBlock.png\");\r\n  const mainBlock = await Texture.load(gl, \"./GreenBlock.png\");\r\n  const gameOverIcon = await Texture.load(gl, \"./gameover.png\");\r\n  const temp = await Texture.load(gl, \"./temp.png\");\r\n  const SQUARE_SIZE = 83;\r\n\r\n  let dropTime = 0;\r\n  let score = 0;\r\n  let gameover = false;\r\n\r\n  //tetrominoes\r\n  //I\r\n  const iBlock = [\r\n    [\r\n      [0, 0, 0, 0],\r\n      [1, 1, 1, 1],\r\n      [0, 0, 0, 0],\r\n      [0, 0, 0, 0],\r\n    ],\r\n    [\r\n      [0, 1, 0, 0],\r\n      [0, 1, 0, 0],\r\n      [0, 1, 0, 0],\r\n      [0, 1, 0, 0],\r\n    ],\r\n  ];\r\n\r\n  //L\r\n  const lBlock = [\r\n    [\r\n      [0, 0, 1],\r\n      [1, 1, 1],\r\n      [0, 0, 0],\r\n    ],\r\n    [\r\n      [0, 1, 0],\r\n      [0, 1, 0],\r\n      [0, 1, 1],\r\n    ],\r\n    [\r\n      [0, 0, 0],\r\n      [1, 1, 1],\r\n      [1, 0, 0],\r\n    ],\r\n    [\r\n      [1, 1, 0],\r\n      [0, 1, 0],\r\n      [0, 1, 0],\r\n    ],\r\n  ];\r\n\r\n  //L-reverse\r\n  const lReverseBlock = [\r\n    [\r\n      [1, 0, 0],\r\n      [1, 1, 1],\r\n      [0, 0, 0],\r\n    ],\r\n    [\r\n      [0, 1, 1],\r\n      [0, 1, 0],\r\n      [0, 1, 0],\r\n    ],\r\n    [\r\n      [0, 0, 0],\r\n      [1, 1, 1],\r\n      [0, 0, 1],\r\n    ],\r\n    [\r\n      [0, 1, 0],\r\n      [0, 1, 0],\r\n      [1, 1, 0],\r\n    ],\r\n  ];\r\n\r\n  // Square\r\n  const sBlock = [\r\n    [\r\n      [1, 1],\r\n      [1, 1],\r\n    ],\r\n  ];\r\n\r\n  // Z\r\n  const zBlock = [\r\n    [\r\n      [0, 1, 1],\r\n      [1, 1, 0],\r\n      [0, 0, 0],\r\n    ],\r\n    [\r\n      [0, 1, 0],\r\n      [0, 1, 1],\r\n      [0, 0, 1],\r\n    ],\r\n  ];\r\n\r\n  // Z-reverse\r\n  const zReverseBlock = [\r\n    [\r\n      [1, 1, 0],\r\n      [0, 1, 1],\r\n      [0, 0, 0],\r\n    ],\r\n    [\r\n      [0, 0, 1],\r\n      [0, 1, 1],\r\n      [0, 1, 0],\r\n    ],\r\n  ];\r\n\r\n  // T\r\n  const tBlock = [\r\n    [\r\n      [0, 1, 0],\r\n      [1, 1, 1],\r\n      [0, 0, 0],\r\n    ],\r\n    [\r\n      [0, 1, 0],\r\n      [0, 1, 1],\r\n      [0, 1, 0],\r\n    ],\r\n    [\r\n      [0, 0, 0],\r\n      [1, 1, 1],\r\n      [0, 1, 0],\r\n    ],\r\n    [\r\n      [0, 1, 0],\r\n      [1, 1, 0],\r\n      [0, 1, 0],\r\n    ],\r\n  ];\r\n  let speedGame = 0.5;\r\n  class Piece {\r\n    tetromino: any;\r\n    color: any;\r\n    tetrominoN: any;\r\n    activeTetromino: any;\r\n    temp: any;\r\n    x: number;\r\n    y: number;\r\n\r\n    constructor(tetromino: any, nextTetro?: any) {\r\n      this.tetromino = tetromino;\r\n      this.tetrominoN = 0;\r\n      this.activeTetromino = this.tetromino[this.tetrominoN];\r\n\r\n      this.x = 4;\r\n      this.y = 0;\r\n    }\r\n\r\n    fill(color?: any) {\r\n      for (let row = 0; row < this.activeTetromino.length; row++) {\r\n        for (let col = 0; col < this.activeTetromino.length; col++) {\r\n          if (this.activeTetromino[row][col]) {\r\n            drawSquare(this.x + col, this.y + row, color);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    draw() {\r\n      this.fill(1);\r\n    }\r\n    undraw() {\r\n      this.fill(0);\r\n    }\r\n\r\n    lock() {\r\n      for (let row = 0; row < this.activeTetromino.length; row++) {\r\n        for (let col = 0; col < this.activeTetromino.length; col++) {\r\n          if (!this.activeTetromino[row][col]) {\r\n            continue;\r\n          }\r\n          map[this.y + row][this.x + col] = 1;\r\n          //checkGameOver\r\n          if (this.y + row < 1) {\r\n            gameover = true;\r\n          }\r\n        }\r\n        // console.warn(map);\r\n      }\r\n\r\n      //checkpoint\r\n      setTimeout(() => {\r\n        for (let row = 0; row < ROWS; row++) {\r\n          let fullRow: boolean = true;\r\n          for (let col = 0; col < COLS; col++) {\r\n            fullRow = fullRow && map[row][col] !== 0;\r\n          }\r\n          if (fullRow) {\r\n            for (let y = row; y > 1; y--) {\r\n              for (let col = 0; col < COLS; col++) {\r\n                map[y][col] = map[y - 1][col];\r\n              }\r\n            }\r\n            for (let col = 0; col < COLS; col++) {\r\n              map[0][col] = 0;\r\n            }\r\n            if (speedGame > 0.15) {\r\n              speedGame -= 0.05;\r\n            }\r\n            score += 10;\r\n          }\r\n        }\r\n      }, 200);\r\n    }\r\n\r\n    collision(x: any, y: any, piece: any) {\r\n      for (let row = 0; row < piece.length; row++) {\r\n        for (let col = 0; col < piece.length; col++) {\r\n          if (!piece[row][col]) {\r\n            continue;\r\n          }\r\n          let newX = this.x + col + x;\r\n          let newY = this.y + row + y;\r\n\r\n          if (newX < 0 || newX >= COLS || newY >= ROWS) {\r\n            return true;\r\n          }\r\n\r\n          if (newY < 0) {\r\n            continue;\r\n          }\r\n          if (map[newY][newX] !== 0) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n\r\n    rotate() {\r\n      let nextRotateOfBlock =\r\n        this.tetromino[(this.tetrominoN + 1) % this.tetromino.length];\r\n      let kick = 0;\r\n      if (this.collision(0, 0, nextRotateOfBlock)) {\r\n        if (this.x > COLS / 2) {\r\n          kick = -1;\r\n        } else {\r\n          kick = 1;\r\n        }\r\n      }\r\n      if (!this.collision(kick, 0, nextRotateOfBlock)) {\r\n        this.undraw();\r\n        this.x += kick;\r\n        this.tetrominoN = (this.tetrominoN + 1) % this.tetromino.length;\r\n        this.activeTetromino = this.tetromino[this.tetrominoN];\r\n        this.draw();\r\n      }\r\n    }\r\n\r\n    moveDown() {\r\n      if (this.y > ROWS - 1) {\r\n        this.lock();\r\n        piece = new Piece(nextPiece);\r\n        nextPiece = blocks[getRandomInt(0, 7)];\r\n      }\r\n      if (!this.collision(0, 1, this.activeTetromino)) {\r\n        this.undraw();\r\n        this.y++;\r\n        this.draw();\r\n      } else {\r\n        this.lock();\r\n        piece = new Piece(nextPiece);\r\n        nextPiece = blocks[getRandomInt(0, 7)];\r\n      }\r\n    }\r\n    moveLeft() {\r\n      if (!this.collision(-1, 0, this.activeTetromino)) {\r\n        this.undraw();\r\n        this.x--;\r\n        this.draw();\r\n      }\r\n    }\r\n    moveRight() {\r\n      if (!this.collision(1, 0, this.activeTetromino)) {\r\n        this.undraw();\r\n        this.x++;\r\n        this.draw();\r\n      }\r\n    }\r\n    showNextTetromino(nextTetro: any) {\r\n      for (let row = 0; row < nextTetro.length; row++) {\r\n        for (let col = 0; col < nextTetro[row].length; col++) {\r\n          if (nextTetro[row][col]) {\r\n            drawSquare(13.4 + col, 3.2 + row, 1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  let blocks = [\r\n    iBlock,\r\n    lBlock,\r\n    lReverseBlock,\r\n    tBlock,\r\n    sBlock,\r\n    zBlock,\r\n    zReverseBlock,\r\n  ];\r\n\r\n  let piece = new Piece(blocks[4]);\r\n  let nextPiece = blocks[getRandomInt(0, 7)];\r\n\r\n  window.addEventListener(\"keydown\", function (e) {\r\n    control(e);\r\n    if (gameover === true) {\r\n      speedGame = 0.5;\r\n      score = 0;\r\n      setTimeout(() => {\r\n        mapStart();\r\n        drawMapGame();\r\n        gameover = false;\r\n      }, 300);\r\n    }\r\n  });\r\n\r\n  function control(e: any) {\r\n    if (e.keyCode === 37) {\r\n      piece.moveLeft();\r\n    } else if (e.keyCode === 38) {\r\n      piece.rotate();\r\n    } else if (e.keyCode === 39) {\r\n      piece.moveRight();\r\n    } else if (e.keyCode === 40) {\r\n      piece.moveDown();\r\n      piece.moveDown();\r\n    }\r\n  }\r\n\r\n  function getRandomInt(min: number, max: number) {\r\n    return Math.floor(Math.random() * (max - min)) + min;\r\n  }\r\n\r\n  let map: any[] = [];\r\n  function mapStart() {\r\n    for (let row = 0; row < ROWS; row++) {\r\n      map[row] = [];\r\n      for (let col = 0; col < COLS; col++) {\r\n        drawSquare(col, row, 0);\r\n        map[row][col] = 0;\r\n      }\r\n    }\r\n  }\r\n  mapStart();\r\n\r\n  function drawMapGame() {\r\n    for (let row = 0; row < ROWS; row++) {\r\n      for (let col = 0; col < COLS; col++) {\r\n        drawSquare(col, row, map[row][col] === 1 ? 1 : 0);\r\n      }\r\n    }\r\n  }\r\n  function drawSquare(x: number, y: number, color?: any) {\r\n    batch.begin();\r\n    batch.draw(\r\n      color ? mainBlock : block, // 0 = gray // 1 = green\r\n      SQUARE_SIZE * x,\r\n      SQUARE_SIZE * y,\r\n      SQUARE_SIZE,\r\n      SQUARE_SIZE\r\n    );\r\n    batch.end();\r\n  }\r\n\r\n  createGameLoop((delta: number) => {\r\n    gl.clearColor(0, 0, 0, 1);\r\n    gl.clear(gl.COLOR_BUFFER_BIT);\r\n    batch.setProjection(camera.projectionView.values);\r\n    drawMapGame();\r\n    batch.begin();\r\n    batch.draw(bgRight, 1000, 0, 500, 2000);\r\n\r\n    batch.setColor(Color.WHITE);\r\n    font.draw(\r\n      batch,\r\n      \"Score: \" + score,\r\n      GAME_WIDTH / 2 + 320,\r\n      GAME_HEIGHT / 2 + 500,\r\n      GAME_WIDTH\r\n    );\r\n    batch.draw(temp, GAME_WIDTH / 2 + 150, GAME_HEIGHT / 2 - 500, 500, 250);\r\n    batch.end();\r\n    piece.fill(1);\r\n    piece.showNextTetromino(nextPiece[0]);\r\n    if (!gameover) {\r\n      dropTime += delta;\r\n      if (dropTime >= speedGame) {\r\n        dropTime = 0;\r\n        piece.moveDown();\r\n      }\r\n    } else {\r\n      batch.begin();\r\n\r\n      batch.draw(\r\n        gameOverIcon,\r\n        GAME_WIDTH / 2 - 760,\r\n        GAME_HEIGHT / 2 - 500,\r\n        1000,\r\n        1000\r\n      );\r\n\r\n      batch.end();\r\n    }\r\n  });\r\n};\r\ninit();\r\n"],"names":["ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","this","module","exports","once","emitter","name","Promise","resolve","reject","errorListener","err","removeListener","resolver","slice","arguments","eventTargetAgnosticAddListener","handler","flags","on","addErrorHandlerIfEventEmitter","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","warning","create","newListener","emit","unshift","push","length","warned","w","Error","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","i","unwrapListeners","arrayClone","listenerCount","n","copy","addEventListener","wrapListener","arg","removeEventListener","defineProperty","enumerable","get","set","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","len","listeners","addListener","prependListener","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","key","keys","rawListeners","eventNames","PlayMode","Animation","keyFrames","frameDurations","totalDuration","isArray","lastDuration","fD","stateTimeRemainder","reverse","fN","stateTime","mode","runIndex","Math","floor","frameNumber","NORMAL","getFrameNumber","LOOP","LOOP_PINGPONG","REVERSED","LOOP_REVERSED","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","e","rejected","result","done","then","AssetManager","BitmapFont_1","require","Texture_1","TextureAtlas_1","gl","promises","atlases","Map","textures","jsonData","binaryData","fonts","getTotal","path","promise","TextureAtlas","load","atlas","reportDone","fetch","res","json","arrayBuffer","buffer","flip","BitmapFont","font","Texture","texture","all","forEach","_a","getRegions","destroy","delete","BitmapFontCache_1","BitmapFontData_1","Utils_1","data","regions","integer","glyphValues","values","glyphs","page","j","glyph","setGlyphRegion","missingGlyph","draw","batch","str","x","y","targetWidth","halign","Align","left","wrap","start","end","truncate","cache","clear","addText","getColor","getScaleX","scaleX","getScaleY","scaleY","getRegion","getLineHeight","lineHeight","getSpaceXadvance","spaceXadvance","getXHeight","xHeight","getCapHeight","capHeight","getAscent","ascent","getDescent","descent","isFlipped","flipped","dispose","ownsTexture","setFixedWidthGlyphs","maxAdvance","g","getGlyph","charAt","xadvance","xoffset","kerning","fixedWidth","setUseIntegerPositions","usesIntegerPositions","getCache","getData","getOwnsTexture","setOwnsTexture","newFontCache","BitmapFontCache","log","fontFile","interger","fontData","BitmapFontData","loadFont","GlyphLayout_1","NumberUtils_1","tempColor","Color","drawingTexts","layouts","pooledLayouts","color","setPosition","translate","xAmount","yAmount","round","pageVertices","vertices","ii","nn","idx","setColors","r","b","a","intBits","NumberUtil","intToFloatColor","setColor","Pools","freeAll","pageGlyphIndices","requireGlyphs","layout","requirePageGlyphs","glyphCount","tempGlyphCount","runs","glyphItems","vertexCount","newVertices","Utils","arrayCopy","setPageCount","pageCount","newPageVertices","fill","newIdx","newPageGlyphIndices","pageGlyphIndicesLength","addToCache","runCount","colors","colorsIndex","nextColorGlyphIndex","glyphIndex","lastColorFloatBits","run","xAdvances","gx","gy","id","addGlyph","currentTint","yoffset","width","height","u","u2","v","v2","x2","y2","setText","setTextToCache","addTextToCache","obtain","getX","getY","getFont","use","getVertices","getVertexCount","getLayouts","GlyphLayout","WHITE","offset","region","find","item","Glyph_1","TextureRegion_1","concatAndResolveUrl","url","url1","split","url2","url3","l","join","CHARACTER_MAX_VALUE","blankLineScale","xChars","capChars","imagePaths","text","fileContent","lines","map","s","trim","line","substring","indexOf","padding","padTop","parseInt","padRight","padBottom","padLeft","padY","common","startsWith","baseLine","max","p","idMatches","match","RegExp","fileMatches","fileName","Glyph","tokens","StringTokenizer","nextToken","ch","srcX","srcY","hasMoreTokens","_c","min","setGlyph","first","second","amount","setKerning","hasMetricsOverride","overrideAscent","overrideDescent","overrideDown","overrideCapHeight","overrideLineHeight","overrideSpaceXAdvance","overrideXHeight","parseFloat","spaceGlyph","xadvanceGlyph","getFirstGlyph","xGlyph","capGlyph","down","regionsData","top","pageId","pages","invTexWidth","invTexHeight","regionData","TextureRegion","originalWidth","originalHeight","offsetX","offsetY","setLineHeight","PAGE_SIZE","hasGlyph","charCodeAt","getGlyphs","lastGlyph","markupEnabled","getKerning","lastGlyphWidth","getWrapIndex","glyphsItems","isWhitespace","isBreakChar","c","breakChars","character","fromCharCode","getImagePath","getImagePaths","setScale","scale","scaleXY","delimitter","strArray","currentIndex","strings","st","BoundingBox","Vector3_1","Vector3","cnt","dim","clr","out","setFrom","z","bounds","minimum","maximum","update","add","sub","points","inf","l_point","extPoint","Infinity","point","a_bounds","center","radius","transform","tmpVector","multiply","x0","y0","z0","x1","y1","z1","isValid","lx","abs","sumx","ly","sumy","lz","sumz","OrthoCamera","Matrix4_1","viewportWidth","viewportHeight","screenWidth","screenHeight","direction","up","near","far","zoom","projectionView","Matrix4","inverseProjectionView","projection","view","tmp3","resize","yDown","cameraX","cameraY","ortho","lookAt","invert","combined","screenCoords","project","worldCoords","worldCoord","screenCoord","screenToWorld","Game","screen","currentScreen","delta","shared","PAGES","LOG2_PAGE_SIZE","Uint32Array","ArrayBuffer","GlyphRun_1","hAlign","epsilon","glyphRunPool","GlyphRun","colorStack","reset","wrapOrTruncate","currentColor","toIntBits","nextColor","isLastRun","lineRun","runStart","runEnd","newline","runEnded","free","appendRun","setLastGlyphXAdvance","runWidth","getGlyphWidth","wrapIndex","calculateWidths","alignRuns","runsItems","glyphWidth","truncateRun","truncateWidth","splice","droppedGlyphCount","last","getLineOffset","glyphs2","xAdvances2","firstEnd","secondStart","glyphs1","xAdvances1","firstGlyphCount","secondGlyphCount","reductionThreshold","colorChangeIndex","lastColor","InputHandler","InputEvent","events_1","Vector2_1","canvas","Vector2","lastX","lastY","touched","mouseDownHandler","evt","handleMove","mouseUpHandler","mouseMoveHandler","touchStartHandler","preventDefault","touch","touches","dispatchEvent","MouseEvent","clientX","clientY","touchEndHandler","touchMoveHandler","event","rect","getBoundingClientRect","camera","unprojectVector2","M33","M32","M31","M30","M23","M22","M21","M20","M13","M12","M11","M10","M03","M02","M01","M00","temp","Float32Array","t","l_det","inv_det","fovy","aspectRatio","identity","l_fd","tan","PI","l_a1","l_a2","right","bottom","x_orth","y_orth","z_orth","tx","ty","tz","matrix","initTemps","xAxis","yAxis","zAxis","normalize","cross","val","tmpMatrix","Color2Attribute","ColorAttribute","TexCoordAttribute","Position3Attribute","Position2Attribute","VertexAttribute","VertexAttributeType","Mesh","Shader_1","attributes","maxVertices","maxIndices","verticesLength","dirtyVertices","indicesLength","dirtyIndices","elementsPerVertex","numElements","indices","Uint16Array","size","shader","primitiveType","drawWithOffset","drawElements","UNSIGNED_SHORT","drawArrays","unbind","bindBuffer","ARRAY_BUFFER","verticesBuffer","attrib","location","getAttributeLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","ELEMENT_ARRAY_BUFFER","indicesBuffer","disableVertexAttribArray","createBuffer","bufferData","subarray","DYNAMIC_DRAW","deleteBuffer","Shader","POSITION","Float","unit","TEXCOORDS","COLOR","COLOR2","int8","Int8Array","int32","Int32Array","float32","f","intBitsToFloat","bits","PolygonBatch","Mesh_1","quad","twoColorTint","isDrawing","lastTexture","projectionValues","mesh","newTwoColoredTextured","srcColorBlend","SRC_ALPHA","srcAlphaBlend","ONE","dstBlend","ONE_MINUS_SRC_ALPHA","drawCalls","setUniform4x4f","MVP_MATRIX","setUniformi","enable","BLEND","blendFuncSeparate","flush","drawVertices","QUAD_TRIANGLES","getIndices","indexStart","numVertices","setVerticesLength","indicesArray","setIndicesLength","TRIANGLES","disable","originX","originY","rotation","ou1","ov1","ou2","ov2","rotate","tmpV1","x3","x4","y3","y4","cos","sin","rotatedX1","rotatedY1","rotatedX2","rotatedY2","rotatedX3","rotatedY3","rotatedX4","rotatedY4","u1","v1","u3","v3","u4","v4","vertexShader","fragmentShader","vs","fs","program","tmp2x2","tmp3x3","tmp4x4","vsSource","fsSource","compile","compileShader","VERTEX_SHADER","FRAGMENT_SHADER","compileProgram","source","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","isContextLost","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteProgram","useProgram","uniform","uniform1i","getUniformLocation","uniform1f","value2","uniform2f","value3","uniform3f","value4","uniform4f","uniformMatrix2fv","uniformMatrix3fv","uniformMatrix4fv","attribute","getAttribLocation","SAMPLER","ShapeRenderer","ShapeType","shapeType","Filled","vertexIndex","tmp","newColored","setFromColor","check","Point","vertex","Line","filled","color2","color3","color4","nor","polygonVertices","firstX","firstY","segments","MathUtils","cbrt","angle","cx","cy","cx1","cy1","cx2","cy2","subdiv_step","subdiv_step2","subdiv_step3","pre1","pre2","pre4","pre5","tmp1x","tmp1y","tmp2x","tmp2y","fx","fy","dfx","dfy","ddfx","ddfy","dddfx","dddfy","Sprite","dirty","origin","setSize","setOrigin","sprite","setVector","setX","setY","tint","rad","rotated","xRatio","yRatio","drawWidth","drawHeight","drawX","minx","miny","maxx","maxy","alphaModulation","oldAlpha","setAlpha","TextureFilter","TextureWrap","image","useMipMaps","boundUnit","_image","restore","minFilter","magFilter","texParameteri","TEXTURE_2D","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","validateMagFilter","uWrap","vWrap","TEXTURE_WRAP_S","TEXTURE_WRAP_T","createTexture","DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","texImage2D","RGBA","UNSIGNED_BYTE","LINEAR","LINEAR_MIPMAP_LINEAR","CLAMP_TO_EDGE","generateMipmap","activeTexture","TEXTURE0","bindTexture","deleteTexture","useMipmaps","Image","onload","src","MipMap","MipMapLinearLinear","MipMapLinearNearest","MipMapNearestLinear","MipMapNearestNearest","Linear","filter","sort","packFileUrl","textureOptions","packFileContent","pageData","pageImage","file","tuple","format","repeatX","ClampToEdge","repeatY","Repeat","mipMaps","splits","pads","tex","extraData","regionX","regionY","regionWidth","regionHeight","drawY","cols","rows","copyArray","createStage","pointInRect","resizeCanvas","createGameLoop","WindowedMean","TimeKeeper","Pool","PowOut","Pow","Interpolation","StringSet","IntSet","align","topLeft","topRight","bottomLeft","bottomRight","array","contains","entries","oldSize","clamp","hex","setFromString","RED","GREEN","BLUE","MAGENTA","degrees","degRad","ceil","pow","randomTriangularWith","random","d","sqrt","PI2","radiansToDegrees","radDeg","degreesToRadians","applyInternal","power","sourceStart","dest","destStart","fromIndex","toIndex","setArraySize","defaultValue","SUPPORTS_TYPED_ARRAYS","Int16Array","fround","element","toUpperCase","instantiator","items","object","pools","objects","pool","maxDelta","framesPerSecond","totalTime","lastTime","Date","now","frameCount","frameTime","windowSize","addedValues","lastValue","mean","hasEnoughData","requestId","lastUpdate","fps","running","frameInLastSecond","elapsed","loop","requestAnimationFrame","isRunning","stop","cancelAnimationFrame","getFps","deviceRatio","devicePixelRatio","window","displayWidth","clientWidth","displayHeight","clientHeight","pX","pY","options","assign","hidden","info","wrapper","document","createElement","setAttribute","wrapperClassName","className","style","display","appendChild","body","getCanvas","getInfo","show","hide","cleanup","removeChild","targetOffset","srcOffset","scalar","deltaX","deltaY","distanceSqr","atan2","len2","newX","newY","rotateRad","l_mat","l_w","output","invMatrix","viewX","viewY","viewWidth","viewHeight","createViewport","Camera_1","contextOption","defaultOptions","autoUpdate","pixelRatio","crop","disablePremultipliedAlpha","premultipliedAlpha","resizeHandler","getContext","additionalCameras","viewportInfo","worldWidth","worldHeight","vWidth","vHeight","viewportObject","getViewportInfo","getCamera","addCamera","ratio","vRatio","displayX","displayY","viewport","cameraWidth","cameraHeight","cleanUp","ViewportInputHandler","InputHandler_1","inputHandler","isTouched","vX","vY","__createBinding","o","k","k2","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","__exportStar","hasOwnProperty","arr2","arrayLikeToArray","self","ReferenceError","instance","Constructor","_defineProperties","props","descriptor","protoProps","staticProps","unsupportedIterableToArray","allowArrayLike","it","Symbol","iterator","F","_e","normalCompletion","didErr","_e2","isNativeReflectConstruct","possibleConstructorReturn","Derived","hasNativeReflectConstruct","Super","NewTarget","constructor","construct","_getPrototypeOf","setPrototypeOf","__proto__","subClass","superClass","sham","Proxy","Boolean","valueOf","iter","from","_i","_s","_arr","_n","_d","_typeof","assertThisInitialized","_regeneratorRuntime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","innerFn","outerFn","tryLocsList","protoGenerator","Generator","Context","_invoke","method","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","fn","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","skipTempReset","prev","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","_setPrototypeOf","arrayWithHoles","iterableToArrayLimit","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","minLen","toString","test","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","_classCallCheck","asyncGeneratorStep","gen","_next","_throw","COLS","GAME_WIDTH","GAME_HEIGHT","control","getRandomInt","mapStart","drawMapGame","drawSquare","begin","mainBlock","block","SQUARE_SIZE","row","col","keyCode","piece","moveLeft","moveRight","moveDown","stage","setYDown","bgRight","gameOverIcon","dropTime","score","gameover","iBlock","lBlock","lReverseBlock","sBlock","zBlock","zReverseBlock","tBlock","speedGame","Piece","tetromino","nextTetro","tetrominoN","activeTetromino","setTimeout","fullRow","nextRotateOfBlock","kick","collision","undraw","ROWS","lock","nextPiece","blocks","clearColor","COLOR_BUFFER_BIT","setProjection","showNextTetromino"],"sourceRoot":""}